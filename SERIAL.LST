A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE     1


MACRO ASSEMBLER A51 V8.00d
OBJECT MODULE PLACED IN SERIAL.OBJ
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\A51.EXE SERIAL.ASM SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     ;**********************************************************************
                       2     ;ÃèÊö£º´®¿Ú²Ù×÷³ÌÐò¼¯
                       3     ;º¯ÊÉêÃ÷
                       4     ;_FUN_SERIAL_CHANGEBAUD         ---     ÉèÖÃ²¨ÌØÂÊ
                       5     
                       6     ;Èí´®¿Úº¯Ê
                       7     ;_FUN_SERIAL_BITSPACEHALF_12    ---     ÑÓÊ±°ëÎ»¼ä¾à(¼õÉÙ8Âö³å¸øµ÷ÓÃ³ÌÐòÓÃ)
                       8     ;_FUN_SERIAL_BITSPACEFULL_8     ---     ÑÓÊ±Ò»Î»¼ä¾à(¼õÉÙ8Âö³å¸øµ÷ÓÃ³ÌÐòÓÃ)
                       9     ;_FUN_SERIAL_BITSPACEFULL_12    ---     ÑÓÊ±Ò»Î»¼ä¾à(¼õÉÙ12Âö³å¸øµ÷ÓÃ³ÌÐòÓÃ)
                      10     ;_FUN_SERIAL_BITSPACEFULL_20    ---     ÑÓÊ±Ò»Î»¼ä¾à(¼õÉÙ20Âö³å¸øµ÷ÓÃ³ÌÐòÓÃ)
                      11     ;_FUN_SERIAL_BITSPACEFULL_28    ---     ÑÓÊ±Ò»Î»¼ä¾à(¼õÉÙ28Âö³å¸øµ÷ÓÃ³ÌÐòÓÃ)
                      12     
                      13     ;_FUN_SERIAL_ESAMTXBYTE         ---     Èí´®¿Ú·¢ËÍµ¥¸ö×Ö½ÚµÄÊ¾Ý[ESAM]
                      14     ;_FUN_SERIAL_USERCARDTXBYTE     ---     Èí´®¿Ú·¢ËÍµ¥¸ö×Ö½ÚµÄÊ¾Ý[USER CARD]
                      15     
                      16     ;_FUN_SERIAL_TXSOFT             ---     Èí´®¿Ú·¢ËÍÊ¾Ý
                      17     ;_FUN_SERIAL_RXSBYTE            ---     Èí´®¿Ú½ÓÊÕµ¥¸ö×Ö½ÚµÄÊ¾Ý
                      18     ;_FUN_SERIAL_RXSOFT             ---     Èí´®¿Ú½ÓÊÕÊ¾Ý
                      19     
                      20     ;Ó²´®¿Úº¯Ê
                      21     ;_FUN_SERIAL_INIT               ---     ´®¿ÚÏà¹Ø¼Ä´æÆ÷³õÊ¼»¯
                      22     ;_FUN_SERIAL_RXTXINTERRUPT      ---     Ó²´®¿Ú·¢ËÍÖÐ¶Ï´¦Àí³ÌÐò
                      23     ;_FUN_SERIAL_TXHARD             ---     Ó²´®¿Ú·¢ËÍÊ¾Ý
                      24     ;_FUN_SERIAL_RXHARD             ---     Ó²´®¿Ú½ÓÊÕÊ¾Ý
                      25     ;_FUN_SERIAL_RXHBYTE            ---     Ó²´®¿Ú½ÓÊÕµ¥¸ö×Ö½ÚµÄÊ¾Ý
                      26     ;±¸×¢:
                      27     ;ÉèÖÃÈí´®¿Ú²¨ÌØÂÊÒªÉèÖÃÈ¸ö²ÎÊ
                      28     ;       1. BIT_9600             ---     µ±Ç°ÊÇ·ñÊÇ9600µÄ²¨ÌØÂÊ
                      29     ;       2. DATA_VARBAUDFULL     ---     Ò»Î»µÄ¿í(¾§Õñ/²¨ÌØÂÊ/4)
                      30     ;       3. DATA_VARBAUDHALF     ---     °ëÎ»µÄ¿í(¾§Õñ/²¨ÌØÂÊ/4/2)
                      31     ;ÉèÖÃÓ²´®¿Ú²¨ÌØÂÊÒªÉèÖÃÈ¸ö²ÎÊ
                      32     ;       MOV     TH1,A
                      33     ;       MOV     TL1,A
                      34     ;**********************************************************************
                      35     NAME    SERIAL
                      36             
                      37     ;$include (SERIAL.INC)
                +1    38     ;---¶Î¶¨Òå---
                +1    39     ?pr?SERIAL?Mater                        SEGMENT CODE
                +1    40     ;//////////////////////////////////////////////////////////////////////////////////////////
                             ///////////
                +1    41     EXTRN   BIT(BIT_BUFADDR)
                +1    42     EXTRN   BIT(BIT_SERIALOVERTIMERX)
                +1    43     EXTRN   BIT(BIT_VERIFY)
                +1    44     EXTRN   BIT(BIT_HARDFLAG)
                +1    45     EXTRN   BIT(BIT_FIRSTTX)
                +1    46     EXTRN   BIT(BIT_9600)
                +1    47     EXTRN   BIT(BIT_ESAMICC)
                +1    48     EXTRN   BIT(BIT_SERFIRBYTE)
                +1    49     EXTRN   BIT(BIT_ISFRX)
                +1    50     
                +1    51     EXTRN   DATA(DATA_PowerONTimer)
                +1    52     EXTRN   DATA(DATA_RXBUF)
                +1    53     ; EXTRN DATA(DATA_VARTMP1)
                +1    54     EXTRN   DATA(DATA_VARBAUDHALF)
                +1    55     EXTRN   DATA(DATA_VARBAUDFULL)
                +1    56     EXTRN   XDATA(XDATA_TXBUF)
                +1    57     EXTRN   XDATA(XDATA_SOFTFIRSTSCANTIME)
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE     2

                +1    58     EXTRN   XDATA(XDATA_SoftSerialP)                ;ÓÃÓÚÈí¿Ú´®¿Ú½ÓÊÕ³ÌÐò¼ÇÂ¼ÆôÊ¼µØÖ·
                +1    59     extrn   code(_FUN_LIB_DELAY197)
                +1    60     extrn   code(_FUN_LIB_DELAY205)
                +1    61     EXTRN   CODE(_FUN_LIB_DELAYSIMPLAY)
                +1    62     EXTRN   CODE(_FUN_LIB_DELAY2550)
                +1    63     EXTRN   CODE(_FUN_LIB_DELAY127)
                +1    64     EXTRN   CODE(_FUN_LIB_DELAY126)
                +1    65     EXTRN   CODE(_FUN_LIB_DELAY125)
                +1    66     EXTRN   CODE(_FUN_LIB_DELAY124)
                +1    67     EXTRN   CODE(_FUN_LIB_DELAY123)
                +1    68     EXTRN   CODE(_FUN_LIB_DELAY122)
                +1    69     EXTRN   CODE(_FUN_LIB_DELAY121)
                +1    70     EXTRN   CODE(_FUN_LIB_DELAY120)
                +1    71     EXTRN   CODE(_FUN_LIB_DELAY119)
                +1    72     EXTRN   CODE(_FUN_LIB_DELAY118)
                +1    73     EXTRN   CODE(_FUN_LIB_DELAY117)
                +1    74     EXTRN   CODE(_FUN_LIB_DELAY116)
                +1    75     EXTRN   CODE(_FUN_LIB_DELAY115)
                +1    76     EXTRN   CODE(_FUN_LIB_DELAY114)
                +1    77     EXTRN   CODE(_FUN_LIB_DELAY113)
                +1    78     EXTRN   CODE(_FUN_LIB_DELAY112)
                +1    79     EXTRN   CODE(_FUN_LIB_DELAY111)
                +1    80     EXTRN   CODE(_FUN_LIB_DELAY110)
                +1    81     EXTRN   CODE(_FUN_LIB_DELAY109)
                +1    82     EXTRN   CODE(_FUN_LIB_DELAY108)
                +1    83     EXTRN   CODE(_FUN_LIB_DELAY107)
                +1    84     
                +1    85     EXTRN   CODE(_FUN_LIB_DELAY66)
                +1    86     EXTRN   CODE(_FUN_LIB_DELAY65)
                +1    87     EXTRN   CODE(_FUN_LIB_DELAY64)
                +1    88     EXTRN   CODE(_FUN_LIB_DELAY63)
                +1    89     EXTRN   CODE(_FUN_LIB_DELAY62)
                +1    90     EXTRN   CODE(_FUN_LIB_DELAY61)
                +1    91     EXTRN   CODE(_FUN_LIB_DELAY60)
                +1    92     EXTRN   CODE(_FUN_LIB_DELAY59)
                +1    93     EXTRN   CODE(_FUN_LIB_DELAY58)
                +1    94     EXTRN   CODE(_FUN_LIB_DELAY57)
                +1    95     EXTRN   CODE(_FUN_LIB_DELAY56)
                +1    96     EXTRN   CODE(_FUN_LIB_DELAY55)
                +1    97     EXTRN   CODE(_FUN_LIB_DELAY54)
                +1    98     EXTRN   CODE(_FUN_LIB_DELAY53)
                +1    99     EXTRN   CODE(_FUN_LIB_DELAY52)
                +1   100     EXTRN   CODE(_FUN_LIB_DELAY51)
                +1   101     
                +1   102     EXTRN   CODE(_FUN_LIB_DELAY50)
                +1   103     EXTRN   CODE(_FUN_LIB_DELAY49)
                +1   104     EXTRN   CODE(_FUN_LIB_DELAY48)
                +1   105     EXTRN   CODE(_FUN_LIB_DELAY47)
                +1   106     EXTRN   CODE(_FUN_LIB_DELAY46)
                +1   107     EXTRN   CODE(_FUN_LIB_DELAY45)
                +1   108     EXTRN   CODE(_FUN_LIB_DELAY44)
                +1   109     EXTRN   CODE(_FUN_LIB_DELAY43)
                +1   110     EXTRN   CODE(_FUN_LIB_DELAY42)
                +1   111     EXTRN   CODE(_FUN_LIB_DELAY41)
                +1   112     EXTRN   CODE(_FUN_LIB_DELAY40)
                +1   113     EXTRN   CODE(_FUN_LIB_DELAY39)
                +1   114     EXTRN   CODE(_FUN_LIB_DELAY38)
                +1   115     EXTRN   CODE(_FUN_LIB_DELAY37)
                +1   116     EXTRN   CODE(_FUN_LIB_DELAY36)
                +1   117     EXTRN   CODE(_FUN_LIB_DELAY35)
                +1   118     EXTRN   CODE(_FUN_LIB_DELAY34)
                +1   119     EXTRN   CODE(_FUN_LIB_DELAY33)
                +1   120     EXTRN   CODE(_FUN_LIB_DELAY32)
                +1   121     EXTRN   CODE(_FUN_LIB_DELAY31)
                +1   122     EXTRN   CODE(_FUN_LIB_DELAY30)
                +1   123     EXTRN   CODE(_FUN_LIB_DELAY29)
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE     3

                +1   124     EXTRN   CODE(_FUN_LIB_DELAY28)
                +1   125     EXTRN   CODE(_FUN_LIB_DELAY27)
                +1   126     EXTRN   CODE(_FUN_LIB_DELAY26)
                +1   127     EXTRN   CODE(_FUN_LIB_DELAY25)
                +1   128     EXTRN   CODE(_FUN_LIB_DELAY24)
                +1   129     EXTRN   CODE(_FUN_LIB_DELAY23)
                +1   130     EXTRN   CODE(_FUN_LIB_DELAY22)
                +1   131     EXTRN   CODE(_FUN_LIB_DELAY21)
                +1   132     EXTRN   CODE(_FUN_LIB_DELAY20)
                +1   133     EXTRN   CODE(_FUN_LIB_DELAY19)
                +1   134     EXTRN   CODE(_FUN_LIB_DELAY18)
                +1   135     EXTRN   CODE(_FUN_LIB_DELAY17)
                +1   136     EXTRN   CODE(_FUN_LIB_DELAY16)
                +1   137     EXTRN   CODE(_FUN_LIB_DELAY15)
                +1   138     EXTRN   CODE(_FUN_LIB_DELAY14)
                +1   139     EXTRN   CODE(_FUN_LIB_DELAY13)
                +1   140     EXTRN   CODE(_FUN_LIB_DELAY12)
                +1   141     EXTRN   CODE(_FUN_LIB_DELAY11)
                +1   142     EXTRN   CODE(_FUN_LIB_DELAY10)
                +1   143     
                +1   144     EXTRN   CODE(CONST_LEN_RXBUF)
                +1   145     EXTRN   CODE(CONST_LEN_TXBUF)
                +1   146     
                +1   147     ;---FOR TEST    ---
                +1   148     EXTRN   CODE(_FUN_TEST_DISPLAY)
                +1   149     EXTRN   CODE(_FUN_TEST_BEEP)
                +1   150     
                +1   151     EXTRN   CODE(_FUN_LIB_DELAY199)
                +1   152     EXTRN   CODE(_FUN_LIB_DELAY190)
                +1   153     ;///////////////////////////////////////////Êä³ö¶¨Òå///////////////////////////////////////
                             ///////////
                +1   154     PUBLIC  _FUN_SERIAL_RXTXINTERRUPT               ; ÃèÊö:Ó²´®¿Ú·¢ËÍ½ÓÊÕÖÐ¶Ï´¦Àí³ÌÐò
                +1   155     PUBLIC  _FUN_SERIAL_TXSOFT                      ; Èí´®¿Ú·¢ËÍÊ¾Ý
                +1   156     PUBLIC  _FUN_SERIAL_RXSOFT                      ; Èí´®¿Ú½ÓÊÕÊ¾Ý
                +1   157     PUBLIC  _FUN_SERIAL_INIT                        ; ´®¿ÚÏà¹Ø¼Ä´æÆ÷³õÊ¼»¯
                +1   158     PUBLIC  _FUN_SERIAL_TXHARD                      ; Ó²´®¿Ú·¢ËÍÊ¾Ý
                +1   159     PUBLIC  _FUN_SERIAL_RXHARD                      ; Ó²´®¿Ú½ÓÊÕÊ¾Ý
                +1   160     PUBLIC  _FUN_SERIAL_RXSBYTE                     ; Èí´®¿Ú½ÓÊÕµ¥¸ö×Ö½ÚµÄÊ¾Ý
                +1   161     PUBLIC  _FUN_SERIAL_RXHBYTE                     ; Ó²´®¿Ú¶Áµ¥¸ö×Ö½Ú
                +1   162     PUBLIC  _FUN_SERIAL_RXSOFTRST
                +1   163     
                +1   164     
                +1   165     ;PUBLIC _FUN_SERIAL_InitUART2
                +1   166     PUBLIC  _FUN_SERIAL_RXHARD02
                +1   167     PUBLIC  _FUN_SERIAL_TXHARD02
                +1   168     PUBLIC  _FUN_SERIAL_AudioTXSOFT
                +1   169     PUBLIC  _FUN_SERIAL_RXHARD03
                +1   170     
                +1   171     ;--- FOR TEST ---
                +1   172     PUBLIC  _FUN_testSERIAL_RXHARD
                     173     
                     174     ;$include (COMMON.INC)
                +1   175             
  009C          +1   176     BRT                                     EQU     09CH
  009C          +1   177     Reg_Sys_BRT                             EQU     09CH
                +1   178     ;RegBit_SysBRT_S1BRS                    BIT     Reg_Sys_BRT.1
                +1   179     
  009A          +1   180     S2CON                                   EQU     09AH
  009B          +1   181     S2BUF                                   EQU     09BH
  00AF          +1   182     IE2                                     EQU     0AFH
  00EA          +1   183     RELOAD2_CONTR                           EQU     0EAH
                +1   184             
  0001          +1   185     CONST_TIMEER02                          EQU     1       ;Ò»ÖÜ6Ãë
  00FE          +1   186     CONST_TIMEER03                          EQU     254;245
  0001          +1   187     CONST_TIMEER04                          EQU     1
                +1   188     
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE     4

  00A2          +1   189     REG_51_AUXR1                            EQU     0A2H
  00AE          +1   190     EPCAI                                   BIT     IE.6
                +1   191     ;//////////////////////////////////////////////////////////////////////////////////////////
                             ///////
                +1   192     ;NEW LCD
                +1   193     ;PIN_Sys_IsDownload                     BIT     P3.7
                +1   194     ;PIN_LCD_OLEDD1                         BIT     P1.2
                +1   195     ;PIN_LCD_OLEDD0                         BIT     P1.3
                +1   196     ;PIN_LCD_OLEDDC                         BIT     P1.4
                +1   197     ;PIN_LCD_OLEDRES                        BIT     P1.5
                +1   198     ;PIN_LCD_OLEDCS                         BIT     P4.3
                +1   199     ;PIN_LCD_BG                             BIT     P1.1
                +1   200     ;PIN_OLED_ENSY7208                      BIT     P4.0
  00C0          +1   201     P4                                      EQU     0C0H
                +1   202     ;------------------------------------------------------------------------------------------
                             -----
  0005          +1   203     CONST_MAX_RXNUM                         EQU     5
                +1   204     ;TI_CCxxx0_SRES                         EQU     30H
                +1   205     ;Configuration Registers                
  0046          +1   206     CONST_GDO2_VALUE                        EQU     46h;046H        ;06H
  0002          +1   207     CONST_GDO2_MCSM2                        EQU     2;03H
  00C0          +1   208     read_burst                              EQU     0C0H
  0000          +1   209     TI_CCxxx0_IOCFG2                        EQU     00H        ;GDO2 output pin configuration
  0001          +1   210     TI_CCxxx0_IOCFG1                        EQU     01H        ;GDO1 output pin configuration
  0002          +1   211     TI_CCxxx0_IOCFG0                        EQU     02H        ;GDO0 output pin configuration
  0003          +1   212     TI_CCxxx0_FIFOTHR                       EQU     03H        ;RX FIFO and TX FIFO thresholds
  0004          +1   213     TI_CCxxx0_SYNC1                         EQU     04H        ;Sync word, high byte
  0005          +1   214     TI_CCxxx0_SYNC0                         EQU     05H        ;Sync word, low byte
  0006          +1   215     TI_CCxxx0_PKTLEN                        EQU     06H        ;Packet length
  0007          +1   216     TI_CCxxx0_PKTCTRL1                      EQU     07H        ;Packet automation control
  0008          +1   217     TI_CCxxx0_PKTCTRL0                      EQU     08H        ;Packet automation control
  0009          +1   218     TI_CCxxx0_ADDR                          EQU     09H        ;Device address
  000A          +1   219     TI_CCxxx0_CHANNR                        EQU     0AH        ;Channel number
  000B          +1   220     TI_CCxxx0_FSCTRL1                       EQU     0BH        ;Frequency synthesizer control
  000C          +1   221     TI_CCxxx0_FSCTRL0                       EQU     0CH        ;Frequency synthesizer control
  000D          +1   222     TI_CCxxx0_FREQ2                         EQU     0DH        ;Frequency control word, high by
                             te
  000E          +1   223     TI_CCxxx0_FREQ1                         EQU     0EH        ;Frequency control word, middle 
                             byte
  000F          +1   224     TI_CCxxx0_FREQ0                         EQU     0FH        ;Frequency control word, low byt
                             e
  0010          +1   225     TI_CCxxx0_MDMCFG4                       EQU     10H        ;Modem configuration
  0011          +1   226     TI_CCxxx0_MDMCFG3                       EQU     11H        ;Modem configuration
  0012          +1   227     TI_CCxxx0_MDMCFG2                       EQU     12H        ;Modem configuration
  0013          +1   228     TI_CCxxx0_MDMCFG1                       EQU     13H        ;Modem configuration
  0014          +1   229     TI_CCxxx0_MDMCFG0                       EQU     14H        ;Modem configuration
  0015          +1   230     TI_CCxxx0_DEVIATN                       EQU     15H        ;Modem deviation setting
  0016          +1   231     TI_CCxxx0_MCSM2         EQU     16H        ;Main Radio Cntrl State Machine config
  0017          +1   232     TI_CCxxx0_MCSM1         EQU     17H        ;Main Radio Cntrl State Machine config
  0018          +1   233     TI_CCxxx0_MCSM0         EQU     18H        ;Main Radio Cntrl State Machine config
  0019          +1   234     TI_CCxxx0_FOCCFG        EQU     19H        ;Frequency Offset Compensation config
  001A          +1   235     TI_CCxxx0_BSCFG         EQU     1AH        ;Bit Synchronization configuration
  001B          +1   236     TI_CCxxx0_AGCCTRL2      EQU     1BH        ;AGC control
  001C          +1   237     TI_CCxxx0_AGCCTRL1      EQU     1CH        ;AGC control
  001D          +1   238     TI_CCxxx0_AGCCTRL0      EQU     1DH        ;AGC control
  001E          +1   239     TI_CCxxx0_WOREVT1       EQU     1EH        ;High byte Event 0 timeout
  001F          +1   240     TI_CCxxx0_WOREVT0       EQU     1FH        ;Low byte Event 0 timeout
  0020          +1   241     TI_CCxxx0_WORCTRL       EQU     20H        ;Wake On Radio control
  0021          +1   242     TI_CCxxx0_FREND1        EQU     21H        ;Front end RX configuration
  0022          +1   243     TI_CCxxx0_FREND0        EQU     22H        ;Front end TX configuration
  0023          +1   244     TI_CCxxx0_FSCAL3        EQU     23H        ;Frequency synthesizer calibration
  0024          +1   245     TI_CCxxx0_FSCAL2        EQU     24H        ;Frequency synthesizer calibration
  0025          +1   246     TI_CCxxx0_FSCAL1        EQU     25H        ;Frequency synthesizer calibration
  0026          +1   247     TI_CCxxx0_FSCAL0        EQU     26H        ;Frequency synthesizer calibration
  0027          +1   248     TI_CCxxx0_RCCTRL1       EQU     27H        ;RC oscillator configuration
  0028          +1   249     TI_CCxxx0_RCCTRL0       EQU     28H        ;RC oscillator configuration
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE     5

  0029          +1   250     TI_CCxxx0_FSTEST        EQU     29H        ;Frequency synthesizer cal control
  002A          +1   251     TI_CCxxx0_PTEST         EQU     2AH        ;Production test
  002B          +1   252     TI_CCxxx0_AGCTEST       EQU     2BH        ;AGC test
  002C          +1   253     TI_CCxxx0_TEST2         EQU     2CH        ;Various test settings       
  002D          +1   254     TI_CCxxx0_TEST1         EQU     2DH        ;Various test settings
  002E          +1   255     TI_CCxxx0_TEST0         EQU     2EH        ;Various test settings
                +1   256     
                +1   257     ;Strobe commands
  0030          +1   258     TI_CCxxx0_SRES          EQU     30H        ;Reset chip.
  0032          +1   259     TI_CCxxx0_SXOFF         EQU     32H        ;Turn off crystal oscillator.
  0033          +1   260     TI_CCxxx0_SCAL          EQU     33H        ;Calibrate freq synthesizer & disable
  0034          +1   261     TI_CCxxx0_SRX           EQU     34H        ;Enable RX.
  0035          +1   262     TI_CCxxx0_STX           EQU     35H        ;Enable TX.
  0036          +1   263     TI_CCxxx0_SIDLE         EQU     36H        ;Exit RX / TX
  0037          +1   264     TI_CCxxx0_SAFC          EQU     37H        ;AFC adjustment of freq synthesizer
  0038          +1   265     TI_CCxxx0_SWOR          EQU     38H        ;Start automatic RX polling sequence
  0039          +1   266     TI_CCxxx0_SPWD          EQU     39H        ;Enter pwr down mode when CSn goes hi
  003A          +1   267     TI_CCxxx0_SFRX          EQU     3AH        ;Flush the RX FIFO buffer.
  003B          +1   268     TI_CCxxx0_SFTX          EQU     3BH        ;Flush the TX FIFO buffer.
  003C          +1   269     TI_CCxxx0_SWORRST       EQU     3CH        ;Reset real time clock.
  003D          +1   270     TI_CCxxx0_SNOP          EQU     3DH        ;No operation.
                +1   271             
                +1   272     ;Status_registers
  0030          +1   273     TI_CCxxx0_PARTNUM                       EQU     30H        ;Part number
  0031          +1   274     TI_CCxxx0_VERSION                       EQU     31H        ;Current version number
  0032          +1   275     TI_CCxxx0_FREQEST                       EQU     32H        ;Frequency offset estimate
  0033          +1   276     TI_CCxxx0_LQI                           EQU     33H        ;Demodulator estimate for link q
                             uality
  0034          +1   277     TI_CCxxx0_RSSI                          EQU     34H        ;Received signal strength indica
                             tion
  0035          +1   278     TI_CCxxx0_MARCSTATE                     EQU     35H        ;Control state machine state
  0036          +1   279     TI_CCxxx0_WORTIME1                      EQU     36H        ;High byte of WOR timer
  0037          +1   280     TI_CCxxx0_WORTIME0                      EQU     37H        ;Low byte of WOR timer
  0038          +1   281     TI_CCxxx0_PKTSTATUS                     EQU     38H        ;Current GDOx status and packet 
                             status
  0039          +1   282     TI_CCxxx0_VCO_VC_DAC                    EQU     39H        ;Current setting from PLL cal mo
                             dule
  003A          +1   283     TI_CCxxx0_TXBYTES                       EQU     3AH        ;Underflow and # of bytes in TXF
                             IFO
  003B          +1   284     TI_CCxxx0_RXBYTES                       EQU     3BH        ;Overflow and # of bytes in RXFI
                             FO
  007F          +1   285     TI_CCxxx0_NUM_RXBYTES                   EQU     7FH        ;Mask "# of bytes" field in _RXB
                             YTES
                +1   286             
                +1   287     ;Other memory locations
  003E          +1   288     TI_CCxxx0_PATABLE                       EQU     3EH
  003F          +1   289     TI_CCxxx0_TXFIFO                        EQU     3FH
  003F          +1   290     TI_CCxxx0_RXFIFO                        EQU     3FH
                +1   291             
  0082          +1   292     PIN_WAVE_RX                             BIT     p0.2;P2.0;p0.1;p1.0
  00B4          +1   293     PIN_OUTPUT_CLK                          BIT     P3.4;P1.0
  008F          +1   294     REG_WAKE_CLK0                           EQU     08FH
  000F          +1   295     CONST_DATA_VALUE1                       EQU     15;20;20;20
  00DE          +1   296     CONST_DATA_VALUE2                       EQU     208+14;14;255;208+14;14
                +1   297     ;------------------------------------------------------------------------------------------
                             -----
                +1   298     ;µçÔ´¿ØÖÆ
  0095          +1   299     PIN_PWRDWN_LCD                          BIT     p1.5;p1.3        
  00A4          +1   300     Pin_pwrdwn                              BIT     p2.4;P2.7        
  00A3          +1   301     PIN_PWR_GSM                             BIT     p2.3;P2.4        
                +1   302             
                +1   303     ;--- Active ---
  00B5          +1   304     Pin_unfix                               BIT     P3.5     
  00B3          +1   305     PIN_card_exist                          BIT     p3.3    
  00B2          +1   306     WKO_BK                                  BIT     P3.2     
  0095          +1   307     PIN_PWR_LOWIO                           BIT     p1.5;P2.1        
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE     6

                +1   308             
                +1   309     ;--- ESAM ---
  0083          +1   310     PIN_ESAM_TX                             BIT     p0.3;P2.6        
  0083          +1   311     PIN_ESAM_RX                             BIT     p0.3;P2.6        
  0085          +1   312     PIN_ESAM_RST                            BIT     p0.5;P2.5        
                +1   313             
                +1   314     ;--- Éù¹â¿ØÖÆ ---
  00C5          +1   315     Pin_Red                                 BIT     p4.5;P4.1        
  00C4          +1   316     Pin_Gre                                 BIT     p4.4;P4.5
                +1   317     
  0095          +1   318     PIN_BELL_01                             BIT     p1.5;P0.3        
  0095          +1   319     PIN_BELL_02                             BIT     p1.5;P0.2        
                +1   320             
                +1   321     ;--- CC1101 ---
                +1   322     ;Pin_CC1101_SS                          BIT     p3.6     
                +1   323     ;PIN_CC1101_SCLK                                BIT     P2.2     
                +1   324     ;PIN_CC1101_MOSI                                BIT     P2.3     
                +1   325     ;PIN_CC1101_MISO                                BIT     p3.7     
                +1   326     ;PIN_CC1101_GDO2                                BIT     P1.6     
                +1   327             
                +1   328     ;--- Òº¾§Ò½Å ---
  0095          +1   329     Pin_LCD_CS                              BIT     p1.5;p1.4        
  0095          +1   330     Pin_LCD_RST                             BIT     P1.5;    
  0095          +1   331     Pin_LCD_DC                              BIT     p1.5;p1.7       
  0095          +1   332     Pin_LCD_SCL                             BIT     p1.5;p3.4       
  0095          +1   333     Pin_LCD_SDA                             BIT     p1.5;p4.3       
                +1   334             
                +1   335     ;--- 522 ---
  0087          +1   336     PIN_522_SCLK                            BIT     P0.7;P0.7        
  00C6          +1   337     PIN_522_MOSI                            BIT     p4.6;P0.5        
  00C1          +1   338     PIN_522_MISO                            BIT     p4.1;P0.4        
  0086          +1   339     Pin_522_SS                              BIT     P0.6;P0.6        
  0084          +1   340     Pin_522_RST                             BIT     p0.4;P4.6        
                +1   341             
  00B0          +1   342     PIN_SOFTSERIALRX                        BIT     P3.0     
  00B1          +1   343     PIN_SOFTSERIALTXH                       BIT     P3.1     
                +1   344             
  0095          +1   345     PIN_PWR_SE                              BIT     p1.5    ;p2.2   ; P2.4  ;       [ GSM ] 
  0095          +1   346     Pin_SW                                  BIT     p1.5    
                +1   347             
                +1   348             
                +1   349     ;fu dand wei
  00A6          +1   350     Pin_ES_Rst                              BIT     p2.6;P2.3       ;p4.0;P4.4      ; P4.4  
  00B4          +1   351     PIN_SE_IO1                              BIT     p3.4;p2.4       ;P4.4;p2.3;p4.4;P2.2    ; P
                             0.5
                +1   352             
                +1   353             
                +1   354     ;--- CC1101 ---
  0097          +1   355     PIN_UART2_TX                            BIT     p1.7    ;p3.6   ; P3.7
  0096          +1   356     PIN_UART2_RX                            BIT     P1.6    ; 
                +1   357             
  0000          +1   358     BUSY                                    BIT     20H.0
                +1   359     ;////////////////////////////////////////////////Ò½Å¶¨Òå///////////////////////////////////
                             //////////////
                +1   360     ;ÉèÎª¸ß
  0091          +1   361     PIN_BK_CE                               BIT     p1.1     
  0090          +1   362     Pin_5823BK_CS                           BIT     P1.0
                +1   363     ;Éè³ÉÊäÈëÎª¸ß                           
  0080          +1   364     Pin_5823BK_MISO                         BIT     p0.0     
  0092          +1   365     Pin_5823BK_IRQ                          BIT     p1.2      
                +1   366     ;   Éè ³É µÍ
  0081          +1   367     Pin_5823BK_MOSI                         BIT     p0.1     
  00C2          +1   368     Pin_5823BK_SCLK                         BIT     p4.2     
                +1   369      
  0082          +1   370     PIN_WAVE_CHANNEL1                       BIT     p0.2;P2.0        
                +1   371      
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE     7

                +1   372     ;=====================================================================================
  008F          +1   373     Reg_WakeClk0                            EQU     08fH
  00DC          +1   374     Reg_WakeClk_04                          BIT     CCON.4  ;P3.4
  00DD          +1   375     Reg_WakeClk_05                          BIT     CCON.5  ;P3.5
                +1   376     ;ÉùÃ÷STC12C5628AD ÏµÁÐ MCU ÌØÊâ¹¦ÄÜ¼Ä´æÆ÷µØÖ·
  00B7          +1   377     IPH EQU 0B7H ;ÖÐ¶ÏÓÅÏÈ¼¶¸ßÎ»¼Ä´æÆ÷
  00AE          +1   378     EPCA_LVD EQU IE.6 ;PCA ÖÐ¶ÏºÍ LVD(µÍÑ¹¼ì²â)ÖÐ¶Ï¹²ÏíµÄ×ÜÖÐ¶Ï¿ØÖÆÎ»
  00F9          +1   379     CH EQU 0F9H ;PCA ¼ÆÊÆ÷¸ß8 Î»¡£
  00E9          +1   380     CL EQU 0E9H ;PCA ¼ÆÊÆ÷µÍ8 Î»¡£
                +1   381     
                +1   382     ;------------------------
  00D8          +1   383     CCON EQU 0D8H ;PCA ¿ØÖÆ¼Ä´æÆ÷¡£
  00D8          +1   384     CCF0 EQU CCON.0 ;PCA Ä£¿é0 ÖÐ¶Ï±êÖ¾, ÓÉÓ²¼þÖÃÎ», ±ØÐëÓÉÈí¼þÇå0¡£
  00D9          +1   385     CCF1 EQU CCON.1 ;PCA Ä£¿é1 ÖÐ¶Ï±êÖ¾, ÓÉÓ²¼þÖÃÎ», ±ØÐëÓÉÈí¼þÇå0¡£
  00DA          +1   386     CCF2 EQU CCON.2 ;PCA Ä£¿é2 ÖÐ¶Ï±êÖ¾, ÓÉÓ²¼þÖÃÎ», ±ØÐëÓÉÈí¼þÇå0¡£
  00DB          +1   387     CCF3 EQU CCON.3 ;PCA Ä£¿é3 ÖÐ¶Ï±êÖ¾, ÓÉÓ²¼þÖÃÎ», ±ØÐëÓÉÈí¼þÇå0¡£
  00DC          +1   388     CCF4 EQU CCON.4 ;PCA Ä£¿é4 ÖÐ¶Ï±êÖ¾, ÓÉÓ²¼þÖÃÎ», ±ØÐëÓÉÈí¼þÇå0¡£
  00DD          +1   389     CCF5 EQU CCON.5 ;PCA Ä£¿é5 ÖÐ¶Ï±êÖ¾, ÓÉÓ²¼þÖÃÎ», ±ØÐëÓÉÈí¼þÇå0¡£
  00DE          +1   390     CR EQU CCON.6 ;1:ÔÊÐí PCA ¼ÆÊÆ÷¼ÆÊ, ±ØÐëÓÉÈí¼þÇå0¡£
  00DF          +1   391     CF EQU CCON.7 ;PCA ¼ÆÊÆ÷Òç³ö(CH,CL ÓÉ FFFFH ±äÎª 0000H)±êÖ¾,
                +1   392     ;PCA ¼ÆÊÆ÷Òç³öºóÓÉÓ²¼þÖÃÎ»,±ØÐëÓÉÈí¼þÇå0¡£
                +1   393     ;------------------------
  00D9          +1   394     CMOD EQU 0D9H ;PCA ¹¤×÷Ä£Ê½¼Ä´æÆ÷¡£
                +1   395     
                +1   396     ;CMOD.7 CIDL: idle ×´Ì¬Ê± PCA ¼ÆÊÆ÷ÊÇ·ñ¼ÌÐø¼ÆÊ, 0: ¼ÌÐø¼ÆÊ, 1: Í£Ö¹¼ÆÊ¡£
                +1   397     ;CMOD.2 CPS1: PCA ¼ÆÊÆ÷¼ÆÊÂö³åÔ´Ñ¡ÔñÎ» 1¡£
                +1   398     ;CMOD.1 CPS0: PCA ¼ÆÊÆ÷¼ÆÊÂö³åÔ´Ñ¡ÔñÎ» 0¡£
                +1   399     ; CPS1 CPS0
                +1   400     ; 0 0 Íâ²¿¾§ÌåÆµÂÊ/12¡£
                +1   401     ; 0 1 Íâ²¿¾§ÌåÆµÂÊ/2¡£
                +1   402     ; 1 0 Timer 0 Òç³öÂö³å£¬
                +1   403     ; Timer 0 »¹¿ÉÍ¨¹ AUXR ¼Ä´æÆ÷ÉèÖÃ³É¹¤×÷ÔÚ 12T »ò 1T Ä£Ê½¡£
                +1   404     ; 1 1 ´Ó ECI/P3.4 ½ÅÊäÈëµÄÍâ²¿Ê±ÖÓ¡£
                +1   405     ;CMOD.0 ECF: PCA ¼ÆÊÆ÷Òç³öÖÐ¶ÏÔÊÐíÎ», 1-- ÔÊÐí CF(CCON.7) ²úÉúÖÐ¶Ï¡£
                +1   406     ;------------------------
  00FA          +1   407     CCAP0H EQU 0FAH ;PCA Ä£¿é0 µÄ²¶×½/ ±È½Ï¼Ä´æÆ÷¸ß 8 Î»¡£
  00FB          +1   408     CCAP1H EQU 0FBH ;PCA Ä£¿é1 µÄ²¶×½/ ±È½Ï¼Ä´æÆ÷¸ß 8 Î»¡£
  00FC          +1   409     CCAP2H EQU 0FCH ;PCA Ä£¿é2 µÄ²¶×½/ ±È½Ï¼Ä´æÆ÷¸ß 8 Î»¡£
  00FD          +1   410     CCAP3H EQU 0FDH ;PCA Ä£¿é3 µÄ²¶×½/ ±È½Ï¼Ä´æÆ÷¸ß 8 Î»¡£
  00FE          +1   411     CCAP4H EQU 0FEH ;PCA Ä£¿é4 µÄ²¶×½/ ±È½Ï¼Ä´æÆ÷¸ß 8 Î»¡£
  00FF          +1   412     CCAP5H EQU 0FFH ;PCA Ä£¿é5 µÄ²¶×½/ ±È½Ï¼Ä´æÆ÷¸ß 8 Î»¡£
  00EA          +1   413     CCAP0L EQU 0EAH ;PCA Ä£¿é0 µÄ²¶×½/ ±È½Ï¼Ä´æÆ÷µÍ 8 Î»¡£
  00EB          +1   414     CCAP1L EQU 0EBH ;PCA Ä£¿é1 µÄ²¶×½/ ±È½Ï¼Ä´æÆ÷µÍ 8 Î»¡£
  00EC          +1   415     CCAP2L EQU 0ECH ;PCA Ä£¿é2 µÄ²¶×½/ ±È½Ï¼Ä´æÆ÷µÍ 8 Î»¡£
  00ED          +1   416     CCAP3L EQU 0EDH ;PCA Ä£¿é3 µÄ²¶×½/ ±È½Ï¼Ä´æÆ÷µÍ 8 Î»¡£
  00EE          +1   417     CCAP4L EQU 0EEH ;PCA Ä£¿é4 µÄ²¶×½/ ±È½Ï¼Ä´æÆ÷µÍ 8 Î»¡£
  00EF          +1   418     CCAP5L EQU 0EFH ;PCA Ä£¿é5 µÄ²¶×½/ ±È½Ï¼Ä´æÆ÷µÍ 8 Î»¡£
                +1   419     ;------------------------
  00F2          +1   420     PCA_PWM0 EQU 0F2H ;PCA Ä£¿é0 PWM ¼Ä´æÆ÷¡£
  00F3          +1   421     PCA_PWM1 EQU 0F3H ;PCA Ä£¿é1 PWM ¼Ä´æÆ÷¡£
  00F4          +1   422     PCA_PWM2 EQU 0F4H ;PCA Ä£¿é2 PWM ¼Ä´æÆ÷¡£
  00F5          +1   423     PCA_PWM3 EQU 0F5H ;PCA Ä£¿é3 PWM ¼Ä´æÆ÷¡£
  00F6          +1   424     PCA_PWM4 EQU 0F6H ;PCA Ä£¿é4 PWM ¼Ä´æÆ÷¡£
  00F7          +1   425     PCA_PWM5 EQU 0F7H ;PCA Ä£¿é5 PWM ¼Ä´æÆ÷¡£
                +1   426     ;PCA_PWMn: 7 6 5 4 3 2 1 0
                +1   427     ; - - - - - - EPCnH EPCnL
                +1   428     ;B7-B2: ±£Áô
                +1   429     ;B1(EPCnH): ÔÚ PWM Ä£Ê½ÏÂ£¬Óë CCAPnH ×é³É 9 Î»Ê¡£
                +1   430     ;B0(EPCnL): ÔÚ PWM Ä£Ê½ÏÂ£¬Óë CCAPnL ×é³É 9 Î»Ê¡£
                +1   431     ;------------------------
  00DA          +1   432     CCAPM0 EQU 0DAH ;PCA Ä£¿é0 µÄ¹¤×÷Ä£Ê½¼Ä´æÆ÷¡£
  00DB          +1   433     CCAPM1 EQU 0DBH ;PCA Ä£¿é1 µÄ¹¤×÷Ä£Ê½¼Ä´æÆ÷¡£
  00DC          +1   434     CCAPM2 EQU 0DCH ;PCA Ä£¿é2 µÄ¹¤×÷Ä£Ê½¼Ä´æÆ÷¡£
  00DD          +1   435     CCAPM3 EQU 0DDH ;PCA Ä£¿é3 µÄ¹¤×÷Ä£Ê½¼Ä´æÆ÷¡£
  00DE          +1   436     CCAPM4 EQU 0DEH ;PCA Ä£¿é4 µÄ¹¤×÷Ä£Ê½¼Ä´æÆ÷¡£
  00DF          +1   437     CCAPM5 EQU 0DFH ;PCA Ä£¿é5 µÄ¹¤×÷Ä£Ê½¼Ä´æÆ÷¡£
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE     8

                +1   438     ;CCAPMn: 7 6 5 4 3 2 1 0
                +1   439     ; - ECOMn CAPPn CAPNn MATn TOGn PWMn ECCFn
                +1   440     ;
                +1   441     ;ECOMn = 1:ÔÊÐí±È½Ï¹¦ÄÜ¡£
                +1   442     ;CAPPn = 1:ÔÊÐíÉÏÉÑØ´¥·¢²¶×½¹¦ÄÜ¡£
                +1   443     ;CAPNn = 1:ÔÊÐíÏÂ½µÑØ´¥·¢²¶×½¹¦ÄÜ¡£
                +1   444     ;MATn = 1:µ±Æ¥ÅäÇé¿ö·¢ÉúÊ±, ÔÊÐí CCON ÖÐµÄ CCFn ÖÃÎ»¡£
                +1   445     ;TOGn = 1:µ±Æ¥ÅäÇé¿ö·¢ÉúÊ±, CEXn ½«·­×ª¡£
                +1   446     ;PWMn = 1:½« CEXn ÉèÖÃÎª PWM Êä³ö¡£
                +1   447     ;ECCFn = 1:ÔÊÐí CCON ÖÐµÄ CCFn ´¥·¢ÖÐ¶Ï¡£
                +1   448     ;ECOMn CAPPn CAPNn MATn TOGn PWMn ECCFn
                +1   449     ; 0 0 0 0 0 0 0 00H Î´ÆôÓÃÈÎºÎ¹¦ÄÜ¡£
                +1   450     ; x 1 0 0 0 0 x 21H 16 Î»CEXn ÉÏÉÑØ´¥·¢²¶×½¹¦ÄÜ¡£
                +1   451     ; x 0 1 0 0 0 x 11H 16 Î»CEXn ÏÂ½µÑØ´¥·¢²¶×½¹¦ÄÜ¡£
                +1   452     ; x 1 1 0 0 0 x 31H 16 Î»CEXn ±ßÑØ(ÉÏ¡¢ÏÂÑØ)´¥·¢²¶×½¹¦ÄÜ¡£
                +1   453     ; 1 0 0 1 0 0 x 49H 16 Î»Èí¼þ¶¨Ê±Æ÷¡£
                +1   454     ; 1 0 0 1 1 0 x 4DH 16 Î»¸ßËÙÂö³åÊä³ö¡£
                +1   455     ; 1 0 0 0 0 1 0 42H 8 Î» PWM¡£
                +1   456     ;------------------------------------------------------------------------------
                +1   457     ;==============================================================================
                +1   458     ;//////////////////////////////////////////////¹«¹²¼Ä´æÆ÷ /////////////////////////////////
                             //////////
  00C7          +1   459     ISP_CONTR                               EQU     0C7h
  008F          +1   460     WAKE_CLKO                               EQU     08fh
                +1   461     ;¸½¼ÓµÄ SFR WAKE_CLKO (µØÖ·£º0x8F)
                +1   462     ;b7 - PCAWAKEUP :1, ÔÊÐí PCA ÉÏÉÑØ / ÏÂ½µÑØÖÐ¶Ï »½ÐÑ powerdown¡£
                +1   463     ;b6 - RXD_PIN_IE:1, ÔÊÐí P3.0(RXD) ÏÂ½µÑØÖÃ RI£¬Ò²ÄÜÊ¹ RXD »½ÐÑ powerdown¡£
                +1   464     ;b5 - T1_PIN_IE :1, ÔÊÐí T1/P3.5 ½ÅÏÂ½µÑØÖÃ T1 ÖÐ¶Ï±êÖ¾£¬Ò²ÄÜÊ¹ T1 ½Å»½ÐÑ powerdown¡£
                +1   465     ;b4 - T0_PIN_IE :1, ÔÊÐí T0/P3.4 ½ÅÏÂ½µÑØÖÃ T0 ÖÐ¶Ï±êÖ¾£¬Ò²ÄÜÊ¹ T0 ½Å»½ÐÑ powerdown¡£
                +1   466     ;b3 - N/A
                +1   467     ;b2 - N/A
                +1   468     ;b1 - T1CLKO : ÔÊÐí T1 µÄÒç³öÔÚP1.1 ½ÅÊä³öÊ±ÖÓ£¬Êä³öÊ±ÖÓÆµÂÊ = 1/2 T1 Òç³öÂÊ
                +1   469     ;       T1 ¹¤×÷ÔÚ1T Ä£Ê½Ê±µÄÊä³öÆµÂÊCLKOUT1 =( Fosc / 2 ) / ( 256 - TH1 )
                +1   470     ;       T1 ¹¤×÷ÔÚ12T Ä£Ê½Ê±µÄÊä³öÆµÂÊCLKOUT1 =( Fosc / 2 ) / 12 / ( 256 - TH1 )
                +1   471     ;b0 -   T0CLKO : ÔÊÐí T0 µÄÒç³öÔÚP1.0 ½ÅÊä³öÊ±ÖÓ£¬Êä³öÊ±ÖÓÆµÂÊ = 1/2 T0 Òç³öÂÊ
                +1   472     ;       T0 ¹¤×÷ÔÚ1T Ä£Ê½Ê±µÄÊä³öÆµÂÊCLKOUT0 =( Fosc / 2 ) / ( 256 - TH0)
                +1   473     ;       T0 ¹¤×÷ÔÚ12T Ä£Ê½Ê±µÄÊä³öÆµÂÊCLKOUT0 =( Fosc / 2 ) / 12 / ( 256 - TH0 )
                +1   474     ;--------------------------------------------------------
                +1   475     ;--------------------------------------------------------
  0094          +1   476     REG_5412AD_P0M0                         EQU     094h;093h
  0093          +1   477     REG_5412AD_P0M1                         EQU     093h;094h
                +1   478     
  0092          +1   479     REG_5412AD_P1M0                         EQU     092h;091h
  0091          +1   480     REG_5412AD_P1M1                         EQU     091h;092h
                +1   481     
  0096          +1   482     REG_5412AD_P2M0                         EQU     096h;095h
  0095          +1   483     REG_5412AD_P2M1                         EQU     095h;096h
                +1   484     
  00B2          +1   485     REG_5412AD_P3M0                         EQU     0b2h;0b1h
  00B1          +1   486     REG_5412AD_P3M1                         EQU     0b1h;0b2h
                +1   487     
  00B4          +1   488     REG_5412AD_P4M0                         EQU     0b4h;0b3h
  00B3          +1   489     REG_5412AD_P4M1                         EQU     0b3h;0b4h
                +1   490     ;-------------------------------------------------------------
  008E          +1   491     REG_5412AD_AUXR                         EQU     08EH            ;¸¨Öú¼Ä´æÆ÷
  0085          +1   492     REG_5412AD_spctl                        EQU     085H
  0084          +1   493     REG_5412AD_spstat                       EQU     084H
  0086          +1   494     REG_5412AD_spdat                        EQU     086H
  00C1          +1   495     REG_WDT_CONTR                           EQU     0C1H            ;0E1H;0C1H
  00BB          +1   496     REG_5412AD_P4SW                         EQU     0BBH
  00AB          +1   497     REG_MCU_WKCTH                           EQU     0ABH
  00AA          +1   498     REG_MCU_WKCTL                           EQU     0AAH    
                +1   499     ;//////////////////////////////////////////////RC522¼Ä´æÆ÷ ////////////////////////////////
                             ///////////////////
  0000          +1   500     REG_RC522_RC522PAGE                     EQU     00H
  0001          +1   501     REG_RC522_CommandReg                    EQU     01H
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE     9

  0002          +1   502     REG_RC522_ComIEnReg                     EQU     02H
  0003          +1   503     REG_RC522_DivIEnReg                     EQU     03H
  0004          +1   504     REG_RC522_ComIrqReg                     EQU     04H
  0005          +1   505     REG_RC522_DivIrqReg                     EQU     05H
  0006          +1   506     REG_RC522_ErrorReg                      EQU     06h
  0007          +1   507     REG_RC522_Status1Reg                    EQU     07h
  0008          +1   508     REG_RC522_Status2Reg                    EQU     08h
  0009          +1   509     REG_RC522_FIFODataReg                   EQU     09h
  000A          +1   510     REG_RC522_FIFOLevelReg                  EQU     0ah
  000B          +1   511     REG_RC522_WaterLevelReg                 EQU     0bh
  000C          +1   512     REG_RC522_ControlReg                    EQU     0ch
  000D          +1   513     REG_RC522_BitFramingReg                 EQU     0dh
  000E          +1   514     REG_RC522_CollReg                       EQU     0eh
  000F          +1   515     REG_RC522_RFU                           EQU     0fh
  0011          +1   516     REG_RC522_ModeReg                       EQU     11h
  0012          +1   517     REG_RC522_TxModeReg                     EQU     12h
  0013          +1   518     REG_RC522_RxModeReg                     EQU     13h
  0014          +1   519     REG_RC522_TxControlReg                  EQU     14h
  0015          +1   520     REG_RC522_TxAutoReg                     EQU     15h
  0016          +1   521     REG_RC522_TxSelReg                      EQU     16h
  0017          +1   522     REG_RC522_RxSelReg                      EQU     17h
  0018          +1   523     REG_RC522_RxThresholdReg                EQU     18h
  0019          +1   524     REG_RC522_DemodReg                      EQU     19h
  001C          +1   525     REG_RC522_MifareReg                     EQU     1ch
  001F          +1   526     REG_RC522_SerialSpeedReg                EQU     1fh
  0021          +1   527     REG_RC522_CRCResultRegH                 EQU     21h
  0022          +1   528     REG_RC522_CRCResultRegL                 EQU     22h
  0024          +1   529     REG_RC522_ModWidthReg                   EQU     24h
  0026          +1   530     REG_RC522_RFCfgReg                      EQU     26h
  0027          +1   531     REG_RC522_GsNReg                        EQU     27h
  0028          +1   532     REG_RC522_CWGsPReg                      EQU     28h
  0029          +1   533     REG_RC522_ModGsPReg                     EQU     29h
  002A          +1   534     REG_RC522_TModeReg                      EQU     2ah
  002B          +1   535     REG_RC522_TPrescalerReg                 EQU     2bh
  002C          +1   536     REG_RC522_TReloadRegH                   EQU     2ch
  002D          +1   537     REG_RC522_TReloadRegL                   EQU     2dh
  002E          +1   538     REG_RC522_TCounterValueRegH             EQU     2eh
  002F          +1   539     REG_RC522_TCounterValueRegL             EQU     2fh
                +1   540             
                +1   541     ;/////////////////////////////////////////////////Ò»°ãÏµÍ³³£Á¿±í///////////////////////////
                             //////////////////////
  0001          +1   542     CONST_HOLD_5823TX                       EQU     1
  0000          +1   543     CONST_HOLD_5823RX                       EQU     0
                +1   544             
                +1   545             
  00FF          +1   546     CONST_SYS_TradeConfine                  EQU     255                             ;½»Ò×Ê±¼äÏÞ
                             ÖÆ
  000A          +1   547     CONST_SYS_PowerONTimer                  EQU     10                              ;ÉÏµç¶¨Ê±Æ÷
                                  
  0088          +1   548     CONST_SYS_PREFlag                       EQU     088H                            ;
  00AA          +1   549     CONST_SYS_AA                            EQU     0AAH
  0055          +1   550     CONST_SYS_55                            EQU     55H
  0004          +1   551     CONST_SYS_OBUIDLEN                      EQU     4                               ;obuid ³¤¶È
  0008          +1   552     CONST_BSTLIMIT                          EQU     8;20;10                 ;¼«ÏÞBST¸öÊ
  0064          +1   553     CONST_BSTLIMIT02                        EQU     100
                +1   554     
  00FF          +1   555     CONST_VSTLIMIT                          EQU     255     ;100                    ;¼«ÏÞVST¸öÊ
  00FA          +1   556     CONST_Pro_OverTime2S                    EQU     250                             ;³¬Ê±ÏÞÊ±£¬
                             196-246*30=1200MS 
                +1   557     ;/////////////////////////////////////////////////³öÈë¿Ú³£Á¿±í/////////////////////////////
                             ////////////////////
  0003          +1   558     CONST_ETC_INPUT                         EQU     3       ;ETC Èë¿Ú
  0001          +1   559     CONST_MTC_INPUT                         EQU     1       ;MTC Èë¿Ú
  0001          +1   560     CONST_INPUT_ISEnable                    EQU     1;=1²»ÆôÓÃ =0ÆôÓÃ
                +1   561     ;/////////////////////////////////////////////////×´Ì¬³£Á¿±í///////////////////////////////
                             //////////////////
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    10

  0000          +1   562     CONST_STATE_TRUE                        EQU     000H                            ;Ö´ÐÐ³É¹¦
  00FF          +1   563     CONST_STATE_FALSE                       EQU     0FFH                            ;³ÌÐòÖ´ÐÐ³ö
                             ´í
                +1   564     ;Ò»°ãÐÔ´íÎó     01      µ¼ÈëÊ§°Ü        STR_InputFail
                +1   565     ;ºÏÍ¬ºÅ²»Í¬     02      ·Ç·¨µ¼Èë¿¨      STR_IllegalInputCard
                +1   566     ;Ê¹ÓÃ´ÎÊ=FFH    03      µ¼Èë¿¨Ê§Ð§      STR_InputCardInvalid
  0001          +1   567     CONST_STATE_InputFail                   EQU     01
  0002          +1   568     CONST_STATE_IllegalInputCard            EQU     02
  0003          +1   569     CONST_STATE_InputCardInvalid            EQU     03
                +1   570     ;Ò»°ãÐÔ´íÎó     04      ¼¤»îÊ§°Ü        STR_ActiveFail
                +1   571     ;ºÏÍ¬ºÅ²»Í¬     05      ·Ç·¨¼¤»î¿¨      STR_IllegalACTCard
                +1   572     ;Ê¹ÓÃ´ÎÊ=FFH    06      ¼¤»î¿¨Ê§Ð§      STR_ACTCardInvalid
  0004          +1   573     CONST_STATE_ActiveFail                  EQU     04
  0005          +1   574     CONST_STATE_IllegalACTCard              EQU     05
  0006          +1   575     CONST_STATE_ACTCardInvalid              EQU     06
                +1   576             
  0007          +1   577     CONST_STATE_5823INIER                   EQU     07      ;5823³õÊ¼»¯³ö´í
  0008          +1   578     CONST_STATE_5823SleepEr                 EQU     08      ;5823ÐÝÃß³ö´í
  0009          +1   579     CONST_STATE_GetSecureSelFileEr          EQU     09      ;getsecureÑ¡¿¨Ä¿Â¼³ö´í
                +1   580     
  000A          +1   581     CONST_STATE_BaseNinit                   EQU     10      ;Baseinit02º¯Ê£¬³õÊ¼»¯¿¨Æ¬Ê§°Ü
  000B          +1   582     CONST_STATE_BaseESAMDF01                EQU     11      ;Baseinit02º¯Ê£¬Ñ¡ESAM¿¨DF01Ê§°Ü
                +1   583             
  000C          +1   584     CONST_STATE_CARDPreDeal1001             EQU     12      ;Ô¤¶Á1001Ê§°Ü
  000D          +1   585     CONST_STATE_CARDPreDeal0002             EQU     13      ;Ô¤¶Á0002Ê§°Ü
  000E          +1   586     CONST_STATE_CARDPreDeal0012             EQU     14      ;Ô¤¶Á0012Ê§°Ü
  000F          +1   587     CONST_STATE_CARDPreDeal0015             EQU     15      ;Ô¤¶Á0015Ê§°Ü
  0010          +1   588     CONST_STATE_CARDPreDeal0019             EQU     16      ;Ô¤¶Á0019Ê§°Ü
  0011          +1   589     CONST_STATE_CARDPreDeal3f00             EQU     17      ;Ô¤¶Á3f00Ê§°Ü
  0012          +1   590     CONST_STATE_CARDPreDeal81               EQU     18      ;Ô¤¶Á81Ê§°Ü
                +1   591             
  0013          +1   592     CONST_STATE_BaseN01init                 EQU     19      ;Baseinitº¯Ê£¬³õÊ¼»¯¿¨Æ¬Ê§°Ü
  0014          +1   593     CONST_STATE_Base01ESAMDF01              EQU     20      ;Baseinitº¯Ê£¬Ñ¡ESAM¿¨DF01Ê§°Ü
                +1   594             
  0015          +1   595     CONST_STATE_Base01Contact               EQU     21      ;Baseinitº¯Ê£¬Ìøµ½½Ó´¥
  0016          +1   596     CONST_STATE_Base02Contact               EQU     22      ;Baseinit02º¯Ê£¬Ìøµ½½Ó´¥        
                +1   597             
  0017          +1   598     CONST_STATE_test                        EQU     23      ;Baseinit02º¯Ê£¬Ìøµ½½Ó´¥        
                +1   599             
  0018          +1   600     CONST_STATE_Base02Re                    EQU     24
  0019          +1   601     CONST_STATE_Base02AntiColl              EQU     25
  001A          +1   602     CONST_STATE_Base02Sel                   EQU     26
  001B          +1   603     CONST_STATE_Base02Rats                  EQU     27
                +1   604             
  001C          +1   605     CONST_STATE_Base01Re                    EQU     28
  001D          +1   606     CONST_STATE_Base01AntiColl              EQU     29
  001E          +1   607     CONST_STATE_Base01Sel                   EQU     30
  001F          +1   608     CONST_STATE_Base01Rats                  EQU     31      
                +1   609             
  0020          +1   610     CONST_STATE_MemoryEr                    EQU     32      
  0021          +1   611     CONST_STATE_ExMemoryEr                  EQU     33      
  0022          +1   612     CONST_STATE_ExMemoryEr02                EQU     34      
                +1   613             
  0001          +1   614     CONST_STATE_SERIALACCPET                EQU     001H                            ;´®¿Ú½ÓÊÕ´í
                             Îó
  0002          +1   615     CONST_STATE_SERIALOVERTIME              EQU     CONST_STATE_SERIALACCPET + 1    ;´®¿Ú½ÓÊÕ³¬
                             Ê±
  0003          +1   616     CONST_STATE_ACCEPTOVER                  EQU     CONST_STATE_SERIALOVERTIME + 1  ;´®¿Ú½ÓÊÕÍê
                             ±Ï£¬Ã»ÓÐºóÐø×Ö½Ú 
  0004          +1   617     CONST_STATE_ACCEPTOVERLEN               EQU     CONST_STATE_ACCEPTOVER + 1      ;´®¿Ú½ÓÊÕ³¬
                             ³¤
  0005          +1   618     CONST_STATE_RSTCPUER                    EQU     CONST_STATE_ACCEPTOVERLEN + 1   ;¸´Î»´®¿Ú´í
                             Îó
  0006          +1   619     CONST_STATE_AUTHER                      EQU     CONST_STATE_RSTCPUER + 1        ;ÈÏÖ¤Ê§°Ü
                +1   620             
                +1   621     ;--- ¹¤×÷Çø³£Á¿¶¨Òå ---
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    11

  0000          +1   622     CONST_WORKSTAION_0                      EQU     00H     ;¹¤×÷Çø0
  0001          +1   623     CONST_WORKSTAION_1                      EQU     01H     ;¹¤×÷Çø1
  0002          +1   624     CONST_WORKSTAION_2                      EQU     02H     ;¹¤×÷Çø2        
  0003          +1   625     CONST_WORKSTAION_3                      EQU     03H     ;¹¤×÷Çø3
                +1   626     
                +1   627     ;//////////////////////////////////////¿¨Æ¬Âß¼­³£Á¿¶¨Òå////////////////////////////////////
                             ////////
  0017          +1   628     CONST_CARD_PASS                         EQU     23
  0016          +1   629     CONST_CARD_CONSUME                      EQU     22
                +1   630     ;//////////////////////////////////////GSM³£Á¿¶¨Òå/////////////////////////////////////////
                             /////////
  0002          +1   631     CONST_LHX_FLAG                          EQU     2 ;0-¹ú±êOBU  1-GSM OBU  2-433 OBU
                +1   632     
                +1   633     ;RTC ´ó´°Ê±¼ä                           ;6·ÖÖÓ£¬Æ½¾ùÁ½ÃëÒ»´ÎcellID
                +1   634     ;CONST_RTCOverFlow                      EQU     144;180;180
                +1   635     ;CONST_RTCUartRX                        EQU     24;4;8,12,16,20,24;142;
                +1   636     
  0090          +1   637     CONST_RTCOverFlow                       EQU     144;20;144;6;144;6;12;144
                +1   638     ;CONST_RTCUartRX                                EQU     12
                +1   639     ;CONST_RTCUartRX02                      EQU     142
  0000          +1   640     CONST_Flag_INPUT                        EQU     0
  0001          +1   641     CONST_Flag_OutPUT                       EQU     1
                +1   642     
                +1   643     ;GSM CellID ¼ÇÂ¼Ê¾ÝËùÔÚµÄÎÄ¼þÃû
  0000          +1   644     CONST_Cellfile_H                        EQU     000H
  0009          +1   645     CONST_Cellfile_L                        EQU     09h;030H
                +1   646     
  00EF          +1   647     CONST_ESAMCellfile_H                    EQU     0EFH;000H
  0007          +1   648     CONST_ESAMCellfile_L                    EQU     07H;03h;030H
                +1   649     ;CONST_Cellfile_H                       EQU     000H
                +1   650     ;CONST_Cellfile_L                       EQU     008h
                +1   651     
  00F0          +1   652     CONST_GSM_MaxNum                        EQU     240
                +1   653     ;CONST_GSM_MaxNum                       EQU     5
                +1   654     
  0014          +1   655     CONST_GSM_PJNum                         EQU     20
                +1   656     ;CONST_GSM_PJNum                        EQU     1
                +1   657     
                +1   658     ;RTC Ð¡´°Ê±¼ä;
  0008          +1   659     CONST_MCU_WKCTH                         EQU     008H;0fh;00fH;00fH;00fH
  00FF          +1   660     CONST_MCU_WKCTL                         EQU     0FFH
                +1   661     
                +1   662     ;RTC ÊÇ·ñ¿ªÆô£¬±ê¼ÇÖµ
                +1   663     ;=CONST_RTC_ON ±íÊ¾¿ªÆô
                +1   664     ;= ÆäËü Ã»ÓÐ¿ªÆô
  0055          +1   665     CONST_RTC_ON                            EQU     55H
  00FF          +1   666     CONST_RTC_off                           EQU     0ffH
  0064          +1   667     CONST_SYS_RTCOverTime                   EQU     100
                +1   668     
                +1   669     ;²å¿¨½«obuÖÐCellid¼ÇÂ¼µ¼Èëµ½¿¨Æ¬ÖÐ£¬Ò»´ÎÐ´Èëµ½¿¨Æ¬ÖÐ cellID µÄ×Ö½ÚÊ
  0008          +1   670     CONST_GSM_NUM                           EQU     8               ;40
                +1   671     ;//////////////////////////////////////MF³£Á¿¶¨Òå//////////////////////////////////////////
                             ////////
  0000          +1   672     CONST_MF_READ                           EQU     00H     ;Ö¸ÁîÀàÐÍ ¶Á¿é
  0001          +1   673     CONST_MF_WRITE                          EQU     01H     ;Ö¸ÁîÀàÐÍ Ð´¿é
  0002          +1   674     CONST_MF_DECREMENT                      EQU     02H     ;Ö¸ÁîÀàÐÍ ¿Û¿î
  0003          +1   675     CONST_MF_INCREMENT                      EQU     03H     ;Ö¸ÁîÀàÐÍ ³äÖµ
  0004          +1   676     CONST_MF_RESTOR                         EQU     04H     ;Ö¸ÁîÀàÐÍ ±¸·Ý¿é
                +1   677     
  00C0          +1   678     CONST_MF_RC500DECREMENT                 EQU     0C0H    ;RC500 ¿Û¿î
  00C1          +1   679     CONST_MF_RC500INCREMENT                 EQU     0C1H    ;RC500 ³äÖµ
                +1   680     ;//////////////////////////////////////DSRC³£Á¿¶¨Òå////////////////////////////////////////
                             //////////
  0004          +1   681     CONST_DSRC_MACCTRL                      EQU     4       ;MAC¿ØÖÆÓò
  0005          +1   682     CONST_DSRC_LLCCTRL                      EQU     5       ;LLC¿ØÖÆÓò
  0006          +1   683     CONST_DSRC_HEAD                         EQU     6       ;×Ö¶Î×ÖÍ·
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    12

  0007          +1   684     CONST_DSRC_ACTION                       EQU     7       ;Action
  0008          +1   685     CONST_DSRC_DID                          EQU     8       ;DSRC-DID
  0009          +1   686     CONST_DSRC_ACTIONTYPE                   EQU     9       ;ActionType
  000A          +1   687     CONST_DSRC_CONTAIN                      EQU     10      ;Contain
  000B          +1   688     CONST_DSRC_Fill                         EQU     11      ;Fill
  000C          +1   689     CONST_SSRC_FID                          EQU     12      ;ÎÄ¼þ±êÊ¶£¨FID£©
                +1   690     
  0000          +1   691     CONST_DSRC_FildIDAPPKey                 EQU     0       ;0¨D¨DETC Ó¦ÓÃÃÜÔ¿ÎÄ¼þ
  0001          +1   692     CONST_DSRC_FildIDVehicle                EQU     1       ;1¨D¨DETC Ó¦ÓÃ³µÁ¾ÐÅÏ¢ÎÄ¼þ
  0002          +1   693     CONST_DSRC_FildIDConsume                EQU     2       ;2-ETC Ó¦ÓÃ½»Ò×¼ÇÂ¼ÎÄ¼þ
  0003          +1   694     CONST_DSRC_FildIDHold                   EQU     3       ;3-ETC Ó¦ÓÃ±£ÁôÎÄ¼þ
                +1   695     
  0001          +1   696     CONST_DSRC_ChannelIDICC                 EQU     1
  0002          +1   697     CONST_DSRC_ChannelIDSAM                 EQU     2
                +1   698     ;//////////////////////////////////////AcionType³£Á¿¶¨Òå///////////////////////////////////
                             ////////////
  0000          +1   699     Const_ActionType_GetSecure              EQU     0       ;getSecure
  0001          +1   700     Const_ActionType_SetSecure              EQU     1       ;setSecure
  0002          +1   701     Const_ActionType_GetRand                EQU     2       ;getRand
  0003          +1   702     Const_ActionType_TransferChannel        EQU     3       ;transferChannel
  0004          +1   703     Const_ActionType_SetMMI                 EQU     4       ;SetMMI
                +1   704     ;//////////////////////////////////////Flash³£Á¿¶¨Òå///////////////////////////////////////
                             ///////////
  0058          +1   705     CONST_Flash_SysinfoLen                  EQU     88;39;38+12     ; ESAMÏµÍ³ÐÅÏ¢ÎÄ¼þ³¤¶È
  0004          +1   706     CONST_Flash_0002Len                     EQU     4       ; 0002ÏµÍ³ÐÅÏ¢ÎÄ¼þ³¤¶È  
  0028          +1   707     CONST_Flash_0012Len                     EQU     40      ; 0012ÏµÍ³ÐÅÏ¢ÎÄ¼þ³¤¶È
                +1   708     ;CONST_Flash_0015Len                    EQU     33      ; 0015ÏµÍ³ÐÅÏ¢ÎÄ¼þ³¤¶È
  002B          +1   709     CONST_Flash_0015Len                     EQU     43      ; 0015ÏµÍ³ÐÅÏ¢ÎÄ¼þ³¤¶È
  003C          +1   710     CONST_Flash_0019Len                     EQU     60;43   ; 0019ÏµÍ³ÐÅÏ¢ÎÄ¼þ³¤¶È
  002B          +1   711     CONST_Flash_0019GBLen                   EQU     43;43   ; 0019ÏµÍ³ÐÅÏ¢ÎÄ¼þ³¤¶È
  0001          +1   712     CONST_Flash_CardTypeLEN                 EQU     1       ; ÉÏ´Î²å¿¨ÊÇ½Ó´¥£¬»¹ÊÇ·Ç½Ó´¥
                +1   713     ;CONST_Flash_SYSPARAMLEN                EQU     1       ; ÏµÍ³²ÎÊ
  0008          +1   714     CONST_Flash_BeaconIDUnixTimeLen         EQU     8       ; ÌìÏßID¼°unixtime
  0001          +1   715     CONST_FALSH_PREFlagLen                  EQU     1       ; Ô¤´¦Àí±ê¼Ç=88,±íÊ¾ÉÏ»ØÔ¤´¦Àí³É¹¦
                +1   716     
                +1   717     ;************************************************************************************
                +1   718     ;ÌØ±ð±¸×¢: ÓÉÓÚÔÚÔ¤¶Á0015/0012/0019Ê±ÔÝ´æÔÚÍâ´æµÄ³¤¶È³¬¹128¸ö×Ö½Ú£¬ËùÒÔ£¬Íâ´æ±äÁ¿µÄÆðÆôÎ»ÖÃ
                             £¬ÒªÔÚConst_Flash_FileLen
                +1   719     ;³¤¶ÈÖ®ºó£¬Const_Flash_FileLen = 8F£¬Èç¹ûÒÔºóConst_Flash_FileLen³¤¶È¸ÄÁË£¬ÄÇÍâ´æµÄÆôÊ¼Î»ÖÃÒ
                             ²Òª¸Ä
                +1   720     ;Íâ´æµÄÆôÊ¼Î»ÖÃ¶¨ÒåÔÚOBUmain.incÖÐXDATA_VARSTARTµÄÖµ
                +1   721     ;************************************************************************************
  00EC          +1   722     Const_Flash_FileLen                     EQU     CONST_Flash_SysinfoLen + CONST_Flash_0015Le
                             n + CONST_Flash_0019Len + CONST_Flash_0012Len + CONST_Flash_0002Len + CONST_Flash_CardTypeLEN 
                +1   723     
  0072          +1   724     CONST_FLASH_Block01                     EQU     72H
                +1   725     
  0072          +1   726     CONST_FLASH_STARTHIGH                   EQU     CONST_FLASH_Block01;2EH                    
                                                  ; FLASH´æ´¢ÇøÆðÆôµØÖ·
  0000          +1   727     CONST_FLASH_STARTLOW                    EQU     00H                                        
                                  ; FLASH´æ´¢ÇøÆðÆôµØÖ·
                +1   728     
  0072          +1   729     CONST_FLASH_SYSINFOH                    EQU     CONST_FLASH_Block01;2EH                    
                                                  ; ESAMÏµÍ³ÐÅÏ¢ÎÄ¼þ,LEN = 38 BYTE
  0000          +1   730     CONST_FLASH_SYSINFOL                    EQU     00H
                +1   731     
  0072          +1   732     CONST_FLASH_0002H                       EQU     CONST_FLASH_Block01;2EH                    
                                                  ; ÓÃ»§¿¨0002,LEN = 4 BYTE
  0058          +1   733     CONST_FLASH_0002L                       EQU     CONST_FLASH_SYSINFOL + CONST_Flash_SysinfoL
                             en
                +1   734     
  0072          +1   735     CONST_FLASH_0012H                       EQU     CONST_FLASH_Block01;2EH                    
                                                  ; ÓÃ»§¿¨0012,LEN = 24 BYTE
  005C          +1   736     CONST_FLASH_0012L                       EQU     CONST_FLASH_0002L + CONST_Flash_0002Len
                +1   737     
  0072          +1   738     CONST_FLASH_0015H                       EQU     CONST_FLASH_Block01;2EH                    
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    13

                                                  ; ÓÃ»§¿¨0015,LEN = 33 BYTE
  0084          +1   739     CONST_FLASH_0015L                       EQU     CONST_FLASH_0012L + CONST_Flash_0012Len
                +1   740     
  0072          +1   741     CONST_FLASH_0019H                       EQU     CONST_FLASH_Block01;2EH                    
                                                  ; ÓÃ»§¿¨0019,LEN = 43 BYTE      
  00AF          +1   742     CONST_FLASH_0019L                       EQU     CONST_FLASH_0015L + CONST_Flash_0015Len
                +1   743             
                +1   744     ;CONST_FLASH_01BlockH                   EQU     6EH;2EH                                    
                                  ; MF¿¨µÚ1¿éÊ¾Ý
                +1   745     ;CONST_FLASH_01BlockL                   EQU     CONST_FLASH_0019L + CONST_Flash_0019Len
                +1   746             
                +1   747     ;CONST_FLASH_04BlockH                   EQU     6EH;2EH
                +1   748     ;CONST_FLASH_04BlockL                   EQU     CONST_FLASH_01BlockL + 16                  
                                  ;MF¿¨µÚ4¿éÊ¾Ý
                +1   749             
                +1   750     ;CONST_FLASH_10BlockH                   EQU     6EH;2EH
                +1   751     ;CONST_FLASH_10BlockL                   EQU     CONST_FLASH_04BlockL + 16                  
                                  ;MF¿¨µÚ16¿éÊ¾Ý
                +1   752             
  0072          +1   753     CONST_FLASH_LASTCARDH                   EQU     CONST_FLASH_Block01;2EH                    
                                                  ;ÉÏÒ»´Î²å¿¨ÀàÐÍ
  00EB          +1   754     CONST_FLASH_LASTCARDL                   EQU     CONST_FLASH_0019L + CONST_Flash_0019Len    
                                  ;CONST_FLASH_10BlockL + 16
                +1   755             
                +1   756     ;CONST_FLASH_SYSPARAMH                  EQU     6EH;2EH                         ;ÏµÍ³²ÎÊ
                +1   757     ;CONST_FLASH_SYSPARAML                  EQU     CONST_FLASH_LASTCARDL + 1
                +1   758             
  0072          +1   759     CONST_Flash_BeaconIDUnixTimeH           EQU     CONST_FLASH_Block01;2EH
  00EC          +1   760     CONST_Flash_BeaconIDUnixTimeL           EQU     CONST_FLASH_LASTCARDL + 1       ; 8 byte Ìì
                             ÏßIDºÍunixtimeÊ±¼ä
                +1   761             
  0072          +1   762     CONST_FALSH_PREFlagH                    EQU     CONST_FLASH_Block01;2EH
  00F4          +1   763     CONST_FALSH_PREFlagL                    EQU     CONST_Flash_BeaconIDUnixTimeL + CONST_Flash
                             _BeaconIDUnixTimeLen;1 Byte
                +1   764             
  0072          +1   765     CONST_FALSH_PREFlag02H                  EQU     CONST_FLASH_Block01;2EH
  00F5          +1   766     CONST_FALSH_PREFlag02L                  EQU     CONST_FALSH_PREFlagL + 1        ;1      ;3 
                             Byte
                +1   767              
  0072          +1   768     CONST_FALSH_PREFlag03H                  EQU     CONST_FLASH_Block01;2EH
  00F6          +1   769     CONST_FALSH_PREFlag03L                  EQU     CONST_FALSH_PREFlag02L + 1      ;1      ;3 
                             Byte
                +1   770             
  0072          +1   771     CONST_FALSH_PowerH                      EQU     CONST_FLASH_Block01;2EH
  00F7          +1   772     CONST_FALSH_PowerL                      EQU     CONST_FALSH_PREFlag03L + 1      ;1      ;3 
                             Byte
                +1   773             
                +1   774     ;CONST_FLASH_SysRstH                    EQU     06CH
                +1   775     ;CONST_FLASH_SysRstL                    EQU     000H
                +1   776             
  006C          +1   777     CONST_FLASH_Sys0020H                    EQU     6ch;064H
  0000          +1   778     CONST_FLASH_Sys0020L                    EQU     000H
                +1   779             
  006A          +1   780     CONST_FLASH_Sys0020numH                 EQU     6ah;062H
  0000          +1   781     CONST_FLASH_Sys0020numL                 EQU     000H
                +1   782             
                +1   783     ;CONST_FLASH_SysHVH                     EQU     6CH;68h;062H
                +1   784     ;CONST_FLASH_SysHVL                     EQU     000H
                +1   785             
  00FF          +1   786     const_black_h                           EQU     0ffH
  00FF          +1   787     const_black_l                           EQU     0ffH
                +1   788             
  0000          +1   789     const_white_h                           EQU     000H;40h                                ; 0
                             0h
  0031          +1   790     const_white_l                           EQU     031H;80h                                ; 0
                             0h
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    14

                +1   791     ;//////////////////////////////////////////////////////////////////////////////////////////
                             ///////////
                +1   792     ;(¾§Õñ*2)/(32*12*²¨ÌØÂÊ)                
                +1   793     ;CONST_SOF                              EQU     22118400                        ; 24576000
  0000          +1   794     CONST_SOF                               EQU     24576000                        ; µ±Ç°Ö÷Æµ¾
                             §ÌåÆµÂÊ
                +1   795     ;//////////////////////////////////////// PPS ³£Á¿ ¶¨Òå ///////////////////////////////////
                             ////////////
  0010          +1   796     CONST_PPS_9600                          EQU     10H                             
  0013          +1   797     CONST_PPS_38400                         EQU     13H
  0018          +1   798     CONST_PPS_115200                        EQU     18H
  0096          +1   799     CONST_PPS_230000                        EQU     96H
                +1   800     ;//////////////////////////////////////// ´®¿Ú ³£Á¿ ¶¨Òå //////////////////////////////////
                             /////////////
                +1   801             
  0000          +1   802     CONST_BAUD_9600                         EQU     00                              ; ²¨ÌØÂÊ±àÂ
                             ë
  0001          +1   803     CONST_BAUD_38400                        EQU     01
  0002          +1   804     CONST_BAUD_115200                       EQU     02
  0003          +1   805     CONST_BAUD_115200PC                     EQU     03
  0004          +1   806     CONST_BAUD_230000                       EQU     04
  0005          +1   807     CONST_BAUD_38400PC                      EQU     5
  0006          +1   808     CONST_BAUD_9600PC                       EQU     06                              ; ²¨ÌØÂÊ±àÂ
                             ë
                +1   809             
                +1   810     ;ÔÚ24.576MÏÂ´®¿ÚµÚÒ»¸ö×Ö½ÚÉè¶¨ÎªÒª¼ìË÷100MS = CONST_SOF/(10*(FF*FF) = 38 = 26H
  0010          +1   811     CONST_SOFTFIRSTSCANTIME                 EQU     16;8;32;16;8;10H        ; 10h   ;10h    ;10
                             H;0dH;10H    ;  26H
  00FF          +1   812     CONST_SOFTFIRSTSCANTIMEXX               EQU     0FFH    ; ESAM¿¨·Ç³£¹æÖ¸Áî£¬¼Ó´óËÑË÷Ê±¼äÏÞÖ
                             Æ[Èç80 E4Ö¸Áî]
  0070          +1   813     CONST_SOFTSECOND                        EQU     070H    ; 10H   ;  Èí½ÓÊÕµÚ¶þ¸ö×Ö½Ú½ÓÊÕÊ±¼ä
                             ÏÞ³¤ CONST_SOFTSECOND*255¸öÖÜÆÚ
  0015          +1   814     CONST_HANDSECOND                        EQU     15H     ; 01AH[ÔÚ9600²¨ÌØÏÂ£¬Òª·Å¿íµ½1AH];Ó
                             ²½ÓÊÕµÚ¶þ¸ö×Ö½Ú½ÓÊÕÊ±¼äÏÞ³¤ CONST_HANDSECOND*255¸öÖÜÆÚ
                +1   815                                                     
  0014          +1   816     CONST_SOFTBYTESP                        EQU     20;50;4 ;Èí´®¿Ú·¢ËÍ³ÌÐò×Ö½Ú¼ä¾à¿ØÖÆÓë_FUN_L
                             IB_DELAYSIMPLAYº¯ÊÅäºÏÊ¹ÓÃ
                +1   817     ;//////////////////////////////////////// Èí´®¿Ú ³£Á¿ ¶¨Òå ////////////////////////////////
                             ///////////////
                +1   818     ;CONST_BAUD_FULL9600                    EQU     637     ;2560
                +1   819     ;CONST_BAUD_HALF9600                    EQU     317     ;2560
                +1   820     ;CONST_BAUD_FULL9600                    EQU     576     ;2304
                +1   821     ;CONST_BAUD_HALF9600                    EQU     285     ;1152
                +1   822     ;CONST_BAUD_FULL9600                    EQU     76      ;2304
                +1   823     ;CONST_BAUD_HALF9600                    EQU     85      ;1152
                +1   824     ;CONST_BAUD_FULL38400                   EQU     157     ;640
                +1   825     ;CONST_BAUD_HALF38400                   EQU     77      ;213
                +1   826     ;CONST_BAUD_FULL38400                   EQU     141     ;576
                +1   827     ;CONST_BAUD_HALF38400                   EQU     69      ;288
                +1   828     ;CONST_BAUD_FULL115200                  EQU     50      ;213 Ã¿Î»²îÒ»µ½2¸öÂö³å£¬Èç¹û²»ÐÐ£¬¾
                             ÍÖ±½Ó»»ÁËÑÓÊ±º¯Ê
                +1   829     ;CONST_BAUD_HALF115200                  EQU     21      ;213 Ã¿Î»²îÒ»µ½2¸öÂö³å£¬Èç¹û²»ÐÐ£¬¾
                             ÍÖ±½Ó»»ÁËÑÓÊ±º¯Ê
                +1   830     ;CONST_BAUD_FULL115200                  EQU     45      ;192 Ã¿Î»²îÒ»µ½2¸öÂö³å£¬Èç¹û²»ÐÐ£¬¾
                             ÍÖ±½Ó»»ÁËÑÓÊ±º¯Ê
                +1   831     ;CONST_BAUD_HALF115200                  EQU     21      ;96  Ã¿Î»²îÒ»µ½2¸öÂö³å£¬Èç¹û²»ÐÐ£¬¾
                             ÍÖ±½Ó»»ÁËÑÓÊ±º¯Ê
                +1   832             
  00B3          +1   833     CONST_BAUD_FULL9600                     EQU     179     ;[(24576000/9600)*(3.58/6)-12]/4-20
                             0=[2560*(3.59/6)-12]/4-250=(1527-12)/4-200=378.75=379-200=179
  0058          +1   834     CONST_BAUD_HALF9600                     EQU     88      ;[(24576000/9600/2)*(3.58/6)-12]/4-
                             100=[2560*(3.59/6)-12]/4=(763-12)/4-100=187.75=188-100=88
                +1   835     
  005D          +1   836     CONST_BAUD_FULL38400                    EQU     93      ;[(24576000/38400)*(3.58/6)-12]/4= 
                             [640 * (3.59/6)-12]/4 = (382-12)/4=92.5=93
  002D          +1   837     CONST_BAUD_HALF38400                    EQU     45      ;[(24576000/38400/2)*(3.58/6)-12]/4
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    15

                             = [320 * (3.59/6)-12]/4 = (191-12)/4=44.75=45
                +1   838     
  001D          +1   839     CONST_BAUD_FULL115200                   EQU     29      ;[(24576000/115200)*(3.58/6)-12]/4=
                             [213*(3.58/6)-12]/4=(127-12)/4=28.75=29
  000D          +1   840     CONST_BAUD_HALF115200                   EQU     13;     ;[(24576000/115200/2)*(3.58/6)-12]/
                             4=[115.5*(3.58/6)-12]/4=(64-12)/4=13
                +1   841     
  000F          +1   842     CONST_BAUD_FULL230000                   EQU     15;13   ;[(24576000/230000/2)*(3.58/6)]/4 =
                              64/4 = 16
  0008          +1   843     CONST_BAUD_HALF230000                   EQU     8;5     ;[(24576000/230000/2)*(3.58/6)]/4=[
                             115.5*(3.58/6)]/4=32/4=8
                +1   844             
  00B3          +1   845     CONST_BAUD_CURRENTBITFULL               EQU     CONST_BAUD_FULL9600
  0058          +1   846     CONST_BAUD_CURRENTBITHALF               EQU     CONST_BAUD_HALF9600
                +1   847     ;CONST_BAUD_BITHALF12                   EQU     CONST_BAUD_CURRENTBITHALF - 3
                +1   848     ;CONST_BAUD_BITFULL8                    EQU     CONST_BAUD_CURRENTBITFULL - 2
                +1   849     ;CONST_BAUD_BITFULL12                   EQU     CONST_BAUD_CURRENTBITFULL - 3
                +1   850     ;CONST_BAUD_BITFULL20                   EQU     CONST_BAUD_CURRENTBITFULL - 5
                +1   851     ;CONST_BAUD_BITFULL28                   EQU     CONST_BAUD_CURRENTBITFULL - 7
                +1   852             
  000C          +1   853     CONST_BAUD_BITHALF12                    EQU     3 + 9
  000B          +1   854     CONST_BAUD_BITFULL8                     EQU     2 + 9
  000C          +1   855     CONST_BAUD_BITFULL12                    EQU     3 + 9
  000E          +1   856     CONST_BAUD_BITFULL20                    EQU     5 + 9
  0010          +1   857     CONST_BAUD_BITFULL28                    EQU     7 + 9
                +1   858             
                +1   859     ;////////////////////////////////////////  Ó²´®¿Ú ³£Á¿ ¶¨Òå ///////////////////////////////
                             ////////////////
                +1   860     ;CONST_BAUD_HAND115200                  EQU     0FFH;(256 - CONST_SOF/(192*115200))     ;
                +1   861     ;CONST_BAUD_HAND38400                   EQU     0FDH;(256 - (CONST_SOF/(192*38400)))    ;
                +1   862     ;CONST_BAUD_HAND9600                    EQU     0F4H;(256 - CONST_SOF/(192*9600))       ;
                +1   863     
  00FC          +1   864     CONST_BAUD_HAND230000                   EQU     252     ;0FCH   24.576x1000000/(230000x6/3.
                             58=)/16 = 4 = F8H
  00F3          +1   865     CONST_BAUD_HAND115200PC                 EQU     243     ;243    ;24.576 / 0F3H  ;24576000 /
                              32179 = 764 / 16 = 47.7 = 48 = D0H
  00F8          +1   866     CONST_BAUD_HAND115200                   EQU     248     ;0F8H   ;24.576x1000000/(115200x6/3
                             .58=193073)/16 = 8 = F8H             
  00D8          +1   867     CONST_BAUD_HAND38400pc                  EQU     216     ;0E8H   ;24.576x1000000/(38400x6/3.
                             58=64358)/16 = 24 = E8H
  00E9          +1   868     CONST_BAUD_HAND38400                    EQU     233     ;0E8H   ;24.576x1000000/(38400x6/3.
                             58=64358)/16 = 24 = E8H
  0060          +1   869     CONST_BAUD_HAND9600pc                   EQU     96      ;0A1H   ;24.576x1000000/(9600x6/3.5
                             8=16089)/16 = 95 = A1H               
                +1   870     
  00A3          +1   871     CONST_BAUD_HAND9600                     EQU     163     ;0A1H   ;24.576x1000000/(9600x6/3.5
                             8=16089)/16 = 95 = A1H               
                +1   872     
                +1   873     ;24.576x1000000/(38400x9.6/3.58=102972)/16=15 = f1
                +1   874     ;24.576x1000000/(9600x9.6/3.58=25743)/16=60 = c4h
                +1   875     ;24.576x1000000/(230000x6/3.58=385475)/16=4 = fch
                +1   876     
                +1   877     ;////////////////////////////////////////  Ö¸Áî¼¯ /////////////////////////////////////////
                             //////
                +1   878     ;LL C2H LH 32H
                +1   879     ;ML 62H MH 12H
                +1   880     ;HL 32H HH 12H
                +1   881             
  0001          +1   882     CONST_ACT_L                             EQU     1
  0002          +1   883     CONST_ACT_M                             EQU     2
  0003          +1   884     CONST_ACT_H                             EQU     3
                +1   885             
  0002          +1   886     CONST_ACT_V                             EQU     CONST_ACT_M
                +1   887             
  000A          +1   888     CONST_ACT_L_L                           EQU     0ah;0C2H
  0006          +1   889     CONST_ACT_L_H                           EQU     06h;032H
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    16

                +1   890             
  0006          +1   891     CONST_ACT_M_L                           EQU     06h;062H
  0000          +1   892     CONST_ACT_M_H                           EQU     00h;012H
                +1   893             
  0000          +1   894     CONST_ACT_H_L                           EQU     00h;032H
  0001          +1   895     CONST_ACT_H_H                           EQU     01h;012H
                +1   896     
                     897     
                     898             
----                 899             RSEG    ?pr?SERIAL?Mater
                     900             USING   0
                     901             
                     902     ;---------------------------------------------------------
                     903     ;ÃèÊö:´®¿ÚÏà¹Ø¼Ä´æÆ÷³õÊ¼»¯
                     904     ;Íâ²¿²ÎÊ(ÎÞ) Init_Value = (¾§Õñ*2)/(32*12*²¨ÌØÂÊ)
                     905     ;R7                     ---     ²¨ÌØÂÊ³õÖµ
                     906     ;BIT_VERIFY             ---     ´®¿ÚÊÕ·¢ÊÇ·ñÒª¼ÓÑéÎ»,=0²»Òª£¬=1Òª
                     907     ;---------------------------------------------------------
0000                 908     _FUN_SERIAL_INIT:
                     909             
0000 EF              910             MOV     A,R7    
                     911             ;--- ¶¨Ê±Æ÷¼Ä´æÆ÷ ---
                     912             ;MOV    REG_5412AD_AUXR,#040H           ;
                     913             ;MOV    REG_5412AD_AUXR,#01000000B      ;       
0001 C0E0            914             PUSH    ACC
0003 E4              915             CLR     A
                     916             
0004 4410            917             ORL     A,#00010000B                    ;Ê¹ÄÜBRT
0006 4404            918             ORL     A,#00000100B                    ;BRT µ¥Ê±ÖÓÖÜÆÚ
0008 4441            919             ORL     A,#01000001B                    ;BRT×÷Îª´®¿Ú1µÄ²¨ÌØÂÊ·¢ÉúÆ÷
000A F58E            920             MOV     REG_5412AD_AUXR,A               ;
000C D0E0            921             POP     ACC
                     922             
000E 53890F          923             ANL     TMOD,#0FH                       ;GATE=0,C/T=0,M1=1,M0=0[T1] , GATE=XX,C/T=X
                             X,M1=XX,M0=XX[T0]³£ÊÔØÈë
0011 438920          924             ORL     TMOD,#20H                       ;01:ÉèÖÃt0Îª16Î»¶¨Ê±Æ÷,20h:ÉèÖÃt1Îª8Î»ÖØ×°Ô
                             Ø¶¨Ê±Æ÷
                     925             
                     926             ;MOV    TH1,A
                     927             ;MOV    TL1,A
0014 F59C            928             MOV     Reg_Sys_BRT,A                   ;#243
                     929             
                     930             ;3f     00111111
                     931             ;40     01000000
                     932             ;ANL    TCON,#3FH                       ;TF1 = 0,TR1 = 1,TF0 = XX,TR0 = XX      ¶¨Ê
                             ±Æ÷1Ê¹ÄÜ     
                     933             ;ORL    TCON,#40H
                     934             
                     935             ;--- ´®¿Ú ¼Ä´æÆ÷ ---
0016 300005   F      936             JNB     BIT_VERIFY,SERIAL_INIT_NINE
                     937             ;MOV    SCON,#0C0H                      ;SM0=1,SM1=1,SM2=0,REN=0,TB8=0,RB8=0,TI=0,R
                             I=0 ¹¤×÷·½Ê½È£¬11Î»UART
0019 7598C0          938             MOV     SCON,#11000000B                 ;SM0=1,SM1=1,SM2=0,REN=0,TB8=0,RB8=0,TI=0,R
                             I=0 ¹¤×÷·½Ê½È£¬11Î»UART
001C 8003            939             JMP     SERIAL_INIT_NINEOVER            ;XXX
                     940             
001E                 941     SERIAL_INIT_NINE:                               ;YYY
                     942             ;MOV    SCON,#040H                      ;SM0=1,SM1=1,SM2=0,REN=0,TB8=0,RB8=0,TI=0,R
                             I=0 ¹¤×÷·½Ê½È£¬11Î»UART
001E 759840          943             MOV     SCON,#01000000B                 ;SM0=1,SM1=1,SM2=0,REN=0,TB8=0,RB8=0,TI=0,R
                             I=0 ¹¤×÷·½Ê½È£¬11Î»UART
0021                 944     SERIAL_INIT_NINEOVER:                           ;
0021 758780          945             MOV     PCON,#80H                       ;SMOD=1,¼ÓËÙ
                     946             
                     947             ;--- ÖÐ¶Ï¼Ä´æÆ÷ ---                     ;
0024 C298            948             CLR     RI                              ;
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    17

0026 C299            949             CLR     TI                              ;               
                     950             
0028 22              951             RET
                     952     ;---------------------------------------------------------
                     953     ;ÃèÊö:ÑÓÊ±°ëÎ»µÄ¼ä¾à,¼õÉÙ 12 Âö³å¸øµ÷ÓÃ³ÌÐòÐÞ¸Ä
                     954     ;Íâ²¿²ÎÊ(ÎÞ)
                     955     ;---------------------------------------------------------
0029                 956     _FUN_SERIAL_BITSPACEHALF_12:                                    ;CALL 6
0029 C000            957             PUSH    AR0                                             ;4
002B C0E0            958             PUSH    ACC                                             ;4
                     959     
002D 7800     F      960             MOV     R0,#DATA_VARBAUDHALF                            ;2
002F E6              961             MOV     A,@R0                                           ;2
0030 C3              962             CLR     C                                               ;1
0031 940C            963             SUBB    A,#CONST_BAUD_BITHALF12                         ;3      
0033 00              964             NOP                                                     ;1
0034 00              965             NOP                                                     ;1
                     966     
0035 FF              967             MOV     R7,A                                            ;2
0036 D0E0            968             POP     ACC                                             ;3
0038 D000            969             POP     AR0                                             ;3
                     970             
003A DFFE            971             DJNZ    R7,$                                            ;4 * 74 + 6+ 2 + 4 = 308
                     972             
003C 300006   F      973             JNB     BIT_9600,SERIAL_BITSPACEHALF_12_OVER            ;4
003F 7F63            974             MOV     R7,#99
0041 00              975             NOP
0042 00              976             NOP
0043 DFFE            977             DJNZ    R7,$
                     978     
0045                 979     SERIAL_BITSPACEHALF_12_OVER:    
                     980     
0045 22              981             RET                                                     ;4
                     982     
                     983     ;---------------------------------------------------------
                     984     ;ÃèÊö:ÑÓÊ±Ò»Î»µÄ¼ä¾à,¼õÉÙ8Âö³å¸øµ÷ÓÃ³ÌÐòÐÞ¸Ä
                     985     ;Íâ²¿²ÎÊ(ÎÞ)
                     986     ;---------------------------------------------------------
0046                 987     _FUN_SERIAL_BITSPACEFULL_8:                                     ;CALL 6 
                     988     
0046 C000            989             PUSH    AR0                                             ;4
0048 C0E0            990             PUSH    ACC                                             ;4
004A 7800     F      991             MOV     R0,#DATA_VARBAUDFULL                            ;2
004C E6              992             MOV     A,@R0                                           ;2
004D C3              993             CLR     C                                               ;1
004E 940B            994             SUBB    A,#CONST_BAUD_BITFULL8                          ;3
0050 00              995             NOP                                                     ;1
0051 00              996             NOP                                                     ;1
                     997     
0052 FF              998             MOV     R7,A                                            ;2
0053 D0E0            999             POP     ACC                                             ;3
0055 D000           1000             POP     AR0                                             ;3
                    1001             
0057 DFFE           1002             DJNZ    R7,$                                            ;157 + 6 + 2 + 4 = 640
0059 300006   F     1003             JNB     BIT_9600,SERIAL_BITSPACEFULL_8_OVER             ;4
005C 7FC7           1004             MOV     R7,#199
005E 00             1005             NOP
005F 00             1006             NOP
0060 DFFE           1007             DJNZ    R7,$
                    1008             
0062                1009     SERIAL_BITSPACEFULL_8_OVER:     
                    1010     
0062 22             1011             RET                                                     ;4
                    1012     
                    1013     ;---------------------------------------------------------
                    1014     ;ÃèÊö:ÑÓÊ±Ò»Î»µÄ¼ä¾à,¼õÉÙ12Âö³å¸øµ÷ÓÃ³ÌÐòÐÞ¸Ä
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    18

                    1015     ;Íâ²¿²ÎÊ(ÎÞ)
                    1016     ;---------------------------------------------------------
0063                1017     _FUN_SERIAL_BITSPACEFULL_12:                                    ;CALL 6 
0063 C000           1018             PUSH    AR0
0065 C0E0           1019             PUSH    ACC
0067 7800     F     1020             MOV     R0,#DATA_VARBAUDFULL                            ;2
0069 E6             1021             MOV     A,@R0                                           ;2
006A C3             1022             CLR     C                                               ;1
006B 940C           1023             SUBB    A,#CONST_BAUD_BITFULL12                         ;3
006D 00             1024             NOP
006E 00             1025             NOP
                    1026     
006F FF             1027             MOV     R7,A                    ;2
0070 D0E0           1028             POP     ACC
0072 D000           1029             POP     AR0
0074 DFFE           1030             DJNZ    R7,$                                            ;4 * 157 + 6 + 2 + 4 = 640
                    1031     
0076 300006   F     1032             JNB     BIT_9600,SERIAL_BITSPACEFULL_12_OVER            ;4
0079 7FC7           1033             MOV     R7,#199
007B 00             1034             NOP
007C 00             1035             NOP
007D DFFE           1036             DJNZ    R7,$
007F                1037     SERIAL_BITSPACEFULL_12_OVER:
                    1038     
007F 22             1039             RET                                                     ;4      
                    1040     
                    1041     ;---------------------------------------------------------
                    1042     ;ÃèÊö:ÑÓÊ±Ò»Î»µÄ¼ä¾à£¬¼õÉÙ20Âö³å¸øµ÷ÓÃ³ÌÐòÐÞ¸Ä
                    1043     ;Íâ²¿²ÎÊ(ÎÞ)
                    1044     ;---------------------------------------------------------
0080                1045     _FUN_SERIAL_BITSPACEFULL_20:                                    ;CALL 6 
0080 C000           1046             PUSH    AR0
0082 C0E0           1047             PUSH    ACC
0084 7800     F     1048             MOV     R0,#DATA_VARBAUDFULL                            ;2
0086 E6             1049             MOV     A,@R0                                           ;2
0087 C3             1050             CLR     C                                               ;1
0088 940E           1051             SUBB    A,#CONST_BAUD_BITFULL20                         ;3
008A 00             1052             NOP     
008B 00             1053             NOP
                    1054     
008C FF             1055             MOV     R7,A                    ;2
008D D0E0           1056             POP     ACC
008F D000           1057             POP     AR0
                    1058     
0091 DFFE           1059             DJNZ    R7,$                                            ;4 * 157 + 6 + 2 + 4 = 640
                    1060     
0093 300006   F     1061             JNB     BIT_9600,SERIAL_BITSPACEFULL_20_OVER            ;4
0096 7FC7           1062             MOV     R7,#199
0098 00             1063             NOP
0099 00             1064             NOP
009A DFFE           1065             DJNZ    R7,$
                    1066             
009C                1067     SERIAL_BITSPACEFULL_20_OVER:
                    1068     
                    1069     
009C 22             1070             RET                                                     ;4              
                    1071     
                    1072     ;---------------------------------------------------------
                    1073     ;ÃèÊö:ÑÓÊ±Ò»Î»µÄ¼ä¾à£¬¼õÉÙ28Âö³å¸øµ÷ÓÃ³ÌÐòÐÞ¸Ä
                    1074     ;Íâ²¿²ÎÊ(ÎÞ)
                    1075     ;---------------------------------------------------------
009D                1076     _FUN_SERIAL_BITSPACEFULL_28:                                    ;CALL 6 
009D C000           1077             PUSH    AR0
009F C0E0           1078             PUSH    ACC
00A1 7800     F     1079             MOV     R0,#DATA_VARBAUDFULL                            ;2
00A3 E6             1080             MOV     A,@R0                                           ;2
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    19

00A4 C3             1081             CLR     C                                               ;1
00A5 9410           1082             SUBB    A,#CONST_BAUD_BITFULL28                         ;3
00A7 00             1083             NOP
00A8 00             1084             NOP
                    1085     
00A9 FF             1086             MOV     R7,A                                            ;2,
00AA D0E0           1087             POP     ACC
00AC D000           1088             POP     AR0
                    1089     
00AE DFFE           1090             DJNZ    R7,$                                            ;4 * 150 + 6 + 2 + 4 = 612
                    1091     
00B0 300006   F     1092             JNB     BIT_9600,SERIAL_BITSPACEFULL_28_OVER            ;4
00B3 7FC7           1093             MOV     R7,#199
00B5 00             1094             NOP
00B6 00             1095             NOP
00B7 DFFE           1096             DJNZ    R7,$
                    1097     
00B9                1098     SERIAL_BITSPACEFULL_28_OVER:    
                    1099     
00B9 22             1100             RET                                                     ;4              
                    1101     
                    1102     ;---------------------------------------------------------
                    1103     ;ÃèÊö:Èí´®¿Ú·¢ËÍµ¥¸ö×Ö½ÚµÄÊ¾Ý
                    1104     ;Íâ²¿²ÎÊ
                    1105     ;PIN_SOFTSERIAL ---     ·¢ËÍÒ½Å
                    1106     ;BIT_VERIFY     ---     ´®¿ÚÊÕ·¢ÊÇ·ñÒª¼ÓÑéÎ»,=0²»Òª£¬=1Òª
                    1107     ;r7             ---     ½«Òª·¢ËÍÊ¾Ý
                    1108     ;ÄÚ²¿²ÎÊ
                    1109     ;r1             ---     Î»³¤¶È
                    1110     ;---------------------------------------------------------
00BA                1111     _FUN_SERIAL_USERCARDTXBYTE:;(7,4)
00BA 22             1112             ret
                    1113             
                    1114             ;---CLR PIN_SOFTSERIALTX                                ;1      ÆôÊ¼Î»  
00BB EF             1115             MOV     A,R7                                            ;1 (Îó²î1¸öÂö³å)
00BC 120000   F     1116             CALL    _FUN_SERIAL_BITSPACEFULL_12                     ;ÓÃ 16
                    1117                                                                     ;
00BF 300006   F     1118             JNB     BIT_VERIFY,SERIAL_TXBYTE_USERCARDVERIFY         ;4
00C2 A2D0           1119             MOV     C,P                                             ;2
00C4 7909           1120             MOV     R1,#9                                           ;2
00C6 8008           1121             JMP     SERIAL_TXBYTE_USERCARDLOOP                      ;4
00C8                1122     SERIAL_TXBYTE_USERCARDVERIFY:                                   ;
00C8 7908           1123             MOV     R1,#8                                           ;2
00CA 00             1124             NOP                                                     ;
00CB 00             1125             NOP                                                     ;
00CC 00             1126             NOP     
00CD 00             1127             NOP     
00CE 00             1128             NOP     
00CF 00             1129             NOP     
00D0                1130     SERIAL_TXBYTE_USERCARDLOOP:                                     ;
00D0 13             1131             RRC     A                                               ;1
                    1132             ;---MOV PIN_SOFTSERIALTX,C                              ;3
00D1 120000   F     1133             CALL    _FUN_SERIAL_BITSPACEFULL_8                      ;
00D4 D9FA           1134             DJNZ    R1,SERIAL_TXBYTE_USERCARDLOOP                   ;4
                    1135                                                                     ;
00D6 00             1136             NOP                                                     ;1
00D7 00             1137             NOP                                                     ;1
00D8 00             1138             NOP                                                     ;1
                    1139             ;---SETB        PIN_SOFTSERIALTX                                ;1      Í£Ö¹Î»
00D9 120000   F     1140             CALL    _FUN_SERIAL_BITSPACEFULL_28                     ;
                    1141     
00DC 22             1142             RET                                                     ;4
                    1143     ;///////////////////////////////////////////////////////////////////////////
00DD                1144     _FUN_SERIAL_ESAMTXBYTE: 
                    1145             
                    1146             ;CLR    PIN_ESAM_TX                                     ;1              
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    20

00DD C2B0           1147             CLR     PIN_SOFTSERIALRX                                ;
00DF EF             1148             MOV     A,R7                                            ;1 (Îó²î1¸öÖÜÆÚ)
                    1149             ;---CALL        _FUN_SERIAL_BITSPACEFULL_12             ;
                    1150             ;CALL   _FUN_LIB_DELAY110;(127-17=110)                  ;
00E0 120000   F     1151             CALL    _FUN_LIB_DELAY197                               ;
00E3 300006   F     1152             JNB     BIT_VERIFY,SERIAL_TXBYTE_ESAMVERIFY             ;4
00E6 A2D0           1153             MOV     C,P                                             ;2
00E8 7909           1154             MOV     R1,#9                                           ;2
                    1155             
00EA 8008           1156             JMP     SERIAL_TXBYTE_ESAMLOOP                          ;4
00EC                1157     SERIAL_TXBYTE_ESAMVERIFY:                                       ;
00EC 7908           1158             MOV     R1,#8                                           ;2
00EE 00             1159             NOP                                                     ;
00EF 00             1160             NOP                                                     ;
00F0 00             1161             NOP     
00F1 00             1162             NOP     
00F2 00             1163             NOP     
00F3 00             1164             NOP     
00F4                1165     SERIAL_TXBYTE_ESAMLOOP:                                         ;
00F4 13             1166             RRC     A                                               ;1
                    1167             ;MOV    PIN_ESAM_TX,C                                   ;3
00F5 92B0           1168             MOV     PIN_SOFTSERIALRX,C
                    1169             ;---CALL        _FUN_SERIAL_BITSPACEFULL_8                      ;
                    1170             ;CALL   _FUN_LIB_DELAY119;(127-8=119)   [213-8=205]     
00F7 120000   F     1171             CALL    _FUN_LIB_DELAY205;(127-8=119)   [213-8=205]     
00FA D9F8           1172             DJNZ    R1,SERIAL_TXBYTE_ESAMLOOP                       ;4
                    1173                                                                     ;
00FC 00             1174             NOP                                                     ;1
00FD 00             1175             NOP                                                     ;1
00FE 00             1176             NOP                                                     ;1
                    1177             ;SETB   PIN_ESAM_TX                                     ;1
00FF D2B0           1178             SETB    PIN_SOFTSERIALRX
                    1179             ;----CALL       _FUN_SERIAL_BITSPACEFULL_28             ;
                    1180             ;CALL   _FUN_LIB_DELAY119                               ;(127-28 = 99)  
0101 120000   F     1181             call    _FUN_LIB_DELAY205
0104 22             1182             RET                                                     ;4
                    1183                                                     ;4
                    1184     
                    1185     ;---------------------------------------------------------
                    1186     ;ÃèÊö:Èí´®¿Ú·¢ËÍÊ¾Ý(×Ö·û´®)
                    1187     ;Íâ²¿²ÎÊ
                    1188     ;PIN_SOFTSERIAL ---     ·¢ËÍÒ½Å
                    1189     ;BIT_BUFADDR    ---     =0£¬·¢ËÍµÄÊÇÄÚ´æÊ¾Ý£»=1£¬·¢ËÍµÄÊÇÍâ´æÊ¾Ý
                    1190     ;BIT_VERIFY     ---     ´®¿ÚÊÕ·¢ÊÇ·ñÒª¼ÓÑéÎ»,=0²»Òª£¬=1Òª
                    1191     
                    1192     ;R7             ---     ½«Òª·¢ËÍÊ¾ÝµÄbuf
                    1193     ;R5             ---     ×Ö½Ú¼äµÄÑÓÊ±¼ä0~255
                    1194     ;R3             ---     ·¢ËÍÊ¾ÝµÄ³¤¶È
                    1195     ;---------------------------------------------------------
0105                1196     _FUN_SERIAL_TXSOFT:
0105 850700         1197             MOV     AR0,AR7                                                         ;4
                    1198             ;---ESAM---
0108                1199     SERIAL_TXSOFT_ESAMLOOP:
0108 ED             1200             MOV     A,R5                                                            ;2
0109 FF             1201             MOV     R7,A                                                            ;2
010A 120000   F     1202             CALL    _FUN_LIB_DELAYSIMPLAY
010D 200003   F     1203             JB      BIT_BUFADDR,SERIAL_ESAMTXSOFTMOVX                               ;4
0110 E6             1204             MOV     A,@R0                                                           ;2
0111 8009           1205             JMP     SERIAL_ESAMTXSOFTMOVOVER                                        ;4
0113                1206     SERIAL_ESAMTXSOFTMOVX:  
                    1207                     ;MOVX   A,@R0
0113 758301         1208             MOV     DPH,#1
0116 8882           1209             MOV     DPL,R0
0118 E0             1210             MOVX    A,@DPTR                                                         ;3
0119 00             1211             NOP                                                                     ;
011A 00             1212             NOP                                                                     ;
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    21

011B 00             1213             NOP
011C                1214     SERIAL_ESAMTXSOFTMOVOVER:
011C FF             1215             MOV     R7,A                                                            ;2
011D 120000   F     1216             CALL    _FUN_SERIAL_ESAMTXBYTE                                          ;6
0120 08             1217             INC     R0                                                              ;3
0121 DBE5           1218             DJNZ    R3,SERIAL_TXSOFT_ESAMLOOP                                       ;4
                    1219             
0123 7F00           1220             MOV     R7,#0                                                           ;
                    1221     ;       JMP     SERIAL_TXSOFT_OVER
                    1222     
0125                1223     SERIAL_TXSOFT_OVER:
                    1224     
0125 22             1225             RET                                                                     ;4
                    1226             
                    1227     ;---------------------------------------------------------
                    1228     ;ÃèÊö:Èí´®¿Ú½ÓÊÕµ¥¸ö×Ö½ÚµÄÊ¾Ý
                    1229     ;Íâ²¿²ÎÊ
                    1230     ;PIN_SOFTSERIALR        ---     ½ÓÊÕÒ½Å
                    1231     ;BIT_SERIALOVERTIMERX   ---     ´®¿ÚµÈ´½ÓÊÕÊÇ·ñÓÐÊ±¼ä,ÏÞÖÆ=0Ã»ÓÐÏÞÖÆ;=1ÓÐÊ±¼äÏÞÖÆ
                    1232     ;BIT_VERIFY             ---     ´®¿ÚÊÕ·¢ÊÇ·ñÒª¼ÓÑéÎ»,=0²»Òª£¬=1Òª
                    1233     ;BIT_SERFIRBYTE         ---     =1 ÆôÓÃ³¤³¬Ê±½ÓÊÕ£¨ÓÃÓÚ½ÓÊÕ¿¨Æ¬µÚÒ»¸ö×Ö½Ú·µ»Ø£©,ÆôÓÃ¶Ì³¬Ê±½
                             ÓÊÕ(ÓÃÓÚ½ÓÊÕ¿¨Æ¬µÚÒ»¸öÖ®ºóµÄ×Ö½Ú·µ»Ø)
                    1234     ;ÄÚ²¿²ÎÊ
                    1235     ;R7                     ---     ·µ»Ø½ÓÊÕ×´Ì¬Âë
                    1236     ;A                      ---     ·µ»Ø½ÓÊÕÊ¾Ý
                    1237     ;R1                     ---     ÔÝ´æµ¥Ôª
                    1238     ;R0                     ---     ÔÝ´æµ¥Ôª
                    1239     ;µ÷ÓÃ×Óº¯Ê
                    1240     ;_FUN_SERIAL_BITSPACEHALF_12
                    1241     ;_FUN_SERIAL_BITSPACEFULL_8
                    1242     ;115200 Ò»¸öÎ»µÄÓÉÀ´ (24576000 /115200 *3.58)/6 = 127
                    1243     ;-------------------------------------------------------------
0126                1244     _FUN_SERIAL_RXSBYTE:;(14,6)                                                     ;6
                    1245             
                    1246             ;--- ÅÐ¶ÏÒ»¿ªÊ¼Èç¹ûÎª[µÍµçÆ½()]¾Í±¨´í ---
0126 208305         1247             JB      PIN_ESAM_RX,SERIAL_RXBYTE_START                                 ;4      
0129 7F01           1248             MOV     R7,#CONST_STATE_SERIALACCPET                                    ;2      
012B 020000   F     1249             JMP     SERIAL_RXBYTE_OVER                                              ;4      
                    1250             
012E                1251     SERIAL_RXBYTE_START:
012E 30002C   F     1252             JNB     BIT_SERIALOVERTIMERX,SERIAL_RXBYTE_SEARCHSTARTLIMITLESS         ;ÎÞÏÞµÈ´½ÓÊ
                             Õ
                    1253             
0131 30001A   F     1254             JNB     BIT_SERFIRBYTE,SERIAL_RXBYTE_SECONDBYTE
0134 C200     F     1255             CLR     BIT_SERFIRBYTE  
                    1256             ;--- ÓÐÏÞÊ±¼äÄÚËÑË÷´®¿ÚÆðÆôÎ» ---
                    1257             ;ÔÚ24.576MÏÂ´®¿ÚµÚÒ»¸ö×Ö½ÚÉè¶¨ÎªÒª¼ìË÷100MS = 2456700/(FF*FF) = 38=26H
0136 7800     F     1258             MOV     R0,#XDATA_SOFTFIRSTSCANTIME
                    1259                     ;MOVX   A,@R0
0138 758301         1260             MOV     DPH,#1
013B 8882           1261             MOV     DPL,R0
013D E0             1262             MOVX    A,@DPTR
013E F8             1263             MOV     R0,A
                    1264             ;MOV    R0,#255
                    1265             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~
                    1266             ;mov    A,#11
                    1267             ;JMP    _FUN_TEST_DISPLAY
                    1268             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~
                    1269             ;MOV    R0,#CONST_SOFTFIRSTSCANTIME                                                
                                          ;                       
013F 79FF           1270             MOV     R1,#0FFH                                                        ;2
0141 7AFF           1271             MOV     R2,#0FFH                                                        ;2         
                                          
0143                1272     SERIAL_RXBYTE_SEARCHSTARTLIMITE:                                                
0143 30831A         1273             JNB     PIN_ESAM_RX,SERIAL_RXBYTE_BYTE                                  ;4         
                                          
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    22

0146 DAFB           1274             DJNZ    R2,SERIAL_RXBYTE_SEARCHSTARTLIMITE                              ;4         
                                                  
0148 D9F9           1275             DJNZ    R1,SERIAL_RXBYTE_SEARCHSTARTLIMITE                              ;4         
                                          
014A D8F7           1276             DJNZ    R0,SERIAL_RXBYTE_SEARCHSTARTLIMITE                              ;4      
                    1277             ;~~~~~~~~~~~~~~~~~~~~~~~
                    1278             ;CALL   _FUN_TEST_BEEP
                    1279             ;~~~~~~~~~~~~~~~~~~~~~~~        
014C 800B           1280             JMP     SERIAL_RXBYTE_STARTOVERTIME     
                    1281             
014E                1282     SERIAL_RXBYTE_SECONDBYTE:
                    1283             ;--- ÓÐÏÞÊ±¼äÄÚËÑË÷´®¿ÚÆðÆôÎ» ---
014E 7870           1284             MOV     R0,#CONST_SOFTSECOND                                            ;2         
                                          
0150 79FF           1285             MOV     R1,#0FFH                                                        ;2
0152                1286     SERIAL_RXBYTE_SEARCHSECONDLIMITE:                                               
0152 30830B         1287             JNB     PIN_ESAM_RX,SERIAL_RXBYTE_BYTE                                  ;4         
                                          
0155 D9FB           1288             DJNZ    R1,SERIAL_RXBYTE_SEARCHSECONDLIMITE                             ;4         
                                          
0157 D8F9           1289             DJNZ    R0,SERIAL_RXBYTE_SEARCHSECONDLIMITE                             ;4         
                                          
                    1290             
                    1291             ;~~~~~~~~~~~~~~~~~~~~~~~
                    1292             ;CALL   _FUN_TEST_BEEP
                    1293             ;~~~~~~~~~~~~~~~~~~~~~~~
                    1294     
0159                1295     SERIAL_RXBYTE_STARTOVERTIME:                                                    
0159 7F02           1296             MOV     R7,#CONST_STATE_SERIALOVERTIME                                  ;2´®¿Ú½ÓÊÕ³
                             ¬Ê±  
015B 806A           1297             JMP     SERIAL_RXBYTE_OVER                                              ;4
                    1298     
                    1299             ;--- ÓÐÏÞÊ±¼äÄÚËÑË÷´®¿ÚÆðÆôÎ» ---                                       
015D                1300     SERIAL_RXBYTE_SEARCHSTARTLIMITLESS:
015D 2083FD         1301             JB      PIN_ESAM_RX,SERIAL_RXBYTE_SEARCHSTARTLIMITLESS                  ;4  ;ÎÞÏÞµÈ
                             ´½ÓÊÕ
                    1302     
                    1303             ;--- ¿ªÊ¼½ÓÊÕÊ¾Ý ---
0160                1304     SERIAL_RXBYTE_BYTE:;4
                    1305             ;---CALL        _FUN_SERIAL_BITSPACEHALF_12                             ;ÑÓÊ±°ëÎ»
0160 120000   F     1306             CALL    _FUN_LIB_DELAY52                                                ;64-12=52
0163 00             1307             NOP                                                                     ;1
0164 00             1308             NOP                                                                     ;1
0165 308305         1309             JNB     PIN_ESAM_RX,SERIAL_RXBYTE_ACCEPTBYTE                            ;4ÎªµÍÔò¼ÌÐ
                             øÖ´ÐÐ£¬Îª¸ßÔò±¨´í
                    1310     ;-------
0168 7F03           1311             MOV     R7,#CONST_STATE_ACCEPTOVER                                      ;2 ½ÓÊÕ³ö´í
                    1312             
016A 00             1313             NOP                                                                     ;1
016B 805A           1314             JMP     SERIAL_RXBYTE_OVER                                              ;4 ÍË³ö½ÓÊÕ
                             ³ÌÐò
                    1315             
016D                1316     SERIAL_RXBYTE_ACCEPTBYTE:                                                       ;
016D 7480           1317             MOV     A,#80H                                                          ;2
016F 00             1318             NOP                                                                     ;1
0170 00             1319             NOP                                                                     ;1
0171                1320     SERIAL_RXBYTE_ACCEPTBYTELOOP:
                    1321             ;---CALL        _FUN_SERIAL_BITSPACEFULL_8                              ;ÑÓÊ±Ò»Î»  
                                  
0171 120000   F     1322             CALL    _FUN_LIB_DELAY119                                               ;127-8=119 
                                  
                    1323             
0174 00             1324             NOP                                                                     ;1      
0175 A283           1325             MOV     C,PIN_ESAM_RX                                                   ;3
                    1326     ;-------
0177 13             1327             RRC     A                                                               ;1
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    23

0178 50F7           1328             JNC     SERIAL_RXBYTE_ACCEPTBYTELOOP                                    ;3
                    1329     
                    1330             ;--- ÊÇ·ñÓÐ¼ìÑéÎ» ---
017A 300032   F     1331             JNB     BIT_VERIFY,SERIAL_RXBYTE_STOP                                   ;4
                    1332             ;---CALL        _FUN_SERIAL_BITSPACEFULL_12                             ;ÑÓÊ±Ò»Î»
017D 120000   F     1333             CALL    _FUN_LIB_DELAY113                                               ;127-13=114
                                          
0180 00             1334             NOP                                                                     ;1
0181 00             1335             NOP     
0182 A283           1336             MOV     C,PIN_ESAM_RX                                                   ;3
                    1337     ;-------
0184 20D007         1338             JB      P,SERIAL_RXBYTE_VERIFY                                          ;4      
                    1339     ;P = Low
0187 92D0           1340             MOV     P,C                                                             ;2
0189 20D00B         1341             JB      P,SERIAL_RXBYTE_VERIFYER                                        ;4
018C 800D           1342             JMP     SERIAL_RXBYTE_STOPVERIFY                                        ;4
018E                1343     SERIAL_RXBYTE_VERIFY:
                    1344     ;P = High
018E 92D0           1345             MOV     P,C     
                    1346             
0190 00             1347             NOP
0191 00             1348             NOP
0192 00             1349             NOP
0193 00             1350             NOP
                    1351             
0194 20D004         1352             JB      P,SERIAL_RXBYTE_STOPVERIFY                                      ;4      
                    1353             
                    1354             ;½ÓÊÕµ½µÄ¼ìÑéÎ»³ö´í
0197                1355     SERIAL_RXBYTE_VERIFYER:         
                    1356             ;---CALL        _FUN_SERIAL_BITSPACEFULL_12                             ;ÑÓÊ±Ò»Î»
                    1357             ;---CALL        _FUN_LIB_DELAY115                                               ;12
                             7-12=115                     
                    1358             ;---JB  PIN_ESAM_RX,SERIAL_RXBYTE_SUCCEED                               ;4      ÅÐ¶
                             ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß
                    1359             ;---JMP SERIAL_RXBYTE_STOPER                                            ;4
0197 7F01           1360             MOV     R7,#CONST_STATE_SERIALACCPET
0199 802C           1361             JMP     SERIAL_RXBYTE_OVER      
                    1362     
                    1363             ;½ÓÊÕµ½µÄ¼ìÑéÎ»³É¹¦
019B                1364     SERIAL_RXBYTE_STOPVERIFY:
                    1365             ;---CALL        _FUN_SERIAL_BITSPACEFULL_20                             ;ÑÓÊ±Ò»Î»
                    1366             ;ÅÐ¶ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß
                    1367             ;---CALL        _FUN_LIB_DELAY107                                       ;127-20=107
                                                  
019B 120000   F     1368             CALL    _FUN_LIB_DELAY54
019E 208324         1369             JB      PIN_ESAM_RX,SERIAL_RXBYTE_SUCCEED                               ;4      ÅÐ¶
                             ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß      
01A1 120000   F     1370             CALL    _FUN_LIB_DELAY20
01A4 20831E         1371             JB      PIN_ESAM_RX,SERIAL_RXBYTE_SUCCEED                               ;4      ÅÐ¶
                             ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß
01A7 120000   F     1372             CALL    _FUN_LIB_DELAY20
01AA 208318         1373             JB      PIN_ESAM_RX,SERIAL_RXBYTE_SUCCEED                               ;4      ÅÐ¶
                             ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß
01AD 8012           1374             JMP     SERIAL_RXBYTE_STOPER
                    1375     
                    1376             ;ÎÞ¼ìÑé·µ»Ø
01AF                1377     SERIAL_RXBYTE_STOP:
                    1378             ;---CALL        _FUN_SERIAL_BITSPACEFULL_12                             ;ÑÓÊ±Ò»Î»
                    1379             ;CALL   _FUN_LIB_DELAY115                                               ;127-12=115
                                  
                    1380             ;ÎªÁË¸øÉÏ²ãµ÷ÓÃÁôÏÂ×ã¹»µÄÊ±¼ä£¬Í£Ö¹Î»²ÉÑùµã£¬ÉèÔÚÍ£Ö¹Î»ÆðÆôÔÚ10¸öÖÜÆÚ
                    1381             ; 64-12+10=62 
01AF 120000   F     1382             CALL    _FUN_LIB_DELAY62
                    1383             ;CALL   _FUN_LIB_DELAY53
01B2 208310         1384             JB      PIN_ESAM_RX,SERIAL_RXBYTE_SUCCEED                               ;4      ÅÐ¶
                             ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    24

01B5 120000   F     1385             CALL    _FUN_LIB_DELAY20
01B8 20830A         1386             JB      PIN_ESAM_RX,SERIAL_RXBYTE_SUCCEED                               ;4      ÅÐ¶
                             ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß
01BB 120000   F     1387             CALL    _FUN_LIB_DELAY20
01BE 208304         1388             JB      PIN_ESAM_RX,SERIAL_RXBYTE_SUCCEED                               ;4      ÅÐ¶
                             ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß
                    1389     ;-------        
01C1                1390     SERIAL_RXBYTE_STOPER:
01C1 7F01           1391             MOV     R7,#CONST_STATE_SERIALACCPET                                    ;2
01C3 8002           1392             JMP     SERIAL_RXBYTE_OVER                                              ;4
                    1393             
01C5                1394     SERIAL_RXBYTE_SUCCEED:                                                          ;
                    1395     ;       CALL    _FUN_SERIAL_BITSPACEHALF_44                                     ;       ÑÓÊ
                             ±°ëÎ»
01C5 7F00           1396             MOV     R7,#CONST_STATE_TRUE                                            ;2
01C7                1397     SERIAL_RXBYTE_OVER:     
01C7 FD             1398             MOV     R5,A                                                    ;
                    1399     
01C8 22             1400             RET     
                    1401             
                    1402             
                    1403             
                    1404             
                    1405     ;//////////////////////////////////////////////////////////////////////////////            
                                                                                  ;4
                    1406     
                    1407     ;---------------------------------------------------------
                    1408     ; ÃèÊö:Èí´®¿Ú½ÓÊÕÊ¾Ý            
                    1409     ;Íâ²¿²ÎÊ                        
                    1410     ;PIN_SOFTSERIALRX       ---     ·¢ËÍÒ½Å
                    1411     ;BIT_BUFADDR            ---     =0£¬½ÓÊÕÊ¾Ýµ½ÄÚ´æ£»=1£¬½ÓÊÕÊ¾Ýµ½Íâ´æ
                    1412     ;BIT_SERIALOVERTIMERX   ---     ´®¿ÚµÈ´½ÓÊÕÊÇ·ñÓÐÊ±¼ä,ÏÞÖÆ=0Ã»ÓÐÏÞÖÆ;=1ÓÐÊ±¼äÏÞÖÆ
                    1413     ;BIT_VERIFY             ---     ´®¿ÚÊÕ·¢ÊÇ·ñÒª¼ÓÑéÎ»,=0²»Òª£¬=1Òª
                    1414     ;BIT_ISFRX              ---     =0±íÊ¾´®¿ÚµÚÒ»¸ö×Ö½Ú½ÓÊÕ   ;1±íÊ¾µÚÒ»¸ö×Ö½Ú²»½ÓÊÕ       
                    1415     ;r7                     ---     ½«Òª½ÓÊÕ×Ö·û´®BUFµÄÖ¸Õë
                    1416     ;XDATA_SoftSerialP      ---     ÓÃÓÚÈí¿Ú´®¿Ú½ÓÊÕ³ÌÐò¼ÇÂ¼ÆôÊ¼µØÖ·
                    1417     ;ÄÚ²¿²ÎÊ                        
                    1418     ;R0                     ---     ÔÝ´æµ¥Ôª
                    1419     ;µ÷ÓÃ×Óº¯Ê                      
                    1420     ;_FUN_SERIAL_RXSBYTE    ---     Èí´®¿Ú½ÓÊÕµ¥¸ö×Ö½ÚµÄÊ¾Ý
                    1421     ;·µ»ØÖµ                         
                    1422     ;r7                     ---     ·µ»Ø×´Ì¬Âë
                    1423     ;r5                     ---     ·µ»Ø½ÓÊÕ×Ö·û´®
                    1424     ;r3                     ---     ½ÓÊÕÊ¾ÝµÄ³¤¶È
                    1425     ;---------------------------------------------------------
01C9                1426     _FUN_SERIAL_RXSOFT:;(46,)
01C9 D200     F     1427             SETB    BIT_SERFIRBYTE                                  ;1 µ±Ç°ÊÇ·ñÕÔÚ¼ìË÷´®¿ÚµÚÒ»¸
                             ö×Ö½Ú=1±íÊ¾ÊÇ   ;=0±íÊ¾²»
01CB D200     F     1428             setb    BIT_ISFRX       
                    1429     ;--- ½ÓÊÕÊ¾Ý ---
01CD                1430     SERIAL_RXSOFT_STR:
                    1431     
                    1432             ;---MOV R3,#0                                           ;2      ÉèÖÃ½ÓÊÕÊ¾ÝµÄ³¤¶È
01CD EF             1433             MOV     A,R7                                            ;1      
01CE 7800     F     1434             MOV     R0,#XDATA_SoftSerialP                           ;2      ¼ÇÂ¼BUFÆôÊ¼µØÖ·
                    1435                     ;MOVX   @R0,A
01D0 758301         1436             MOV     DPH,#1 
01D3 8882           1437             MOV     DPL,R0 
01D5 F0             1438             MOVX    @DPTR,A                                         ;3
                    1439             
01D6 850700         1440             MOV     AR0,AR7                                         ;2
                    1441             ;MOV    R0,A                                            ;2
                    1442                     
01D9 EB             1443             MOV     A,R3                                            ;2 
01DA 6005           1444             JZ      SERIAL_RXSOFT_STRLOOP                           ;3 Èç¹ûR3=0£¬Ôò²»±ä£¬Èç¹ûR3
                             ²»ÎªÁã£¬Ôòr3Ö¸Ïò½«Òª¶ÁÈ¡³¤¶ÈµÄ×îºóÒ»¸ö×Ö½ÚµÄÎ»ÖÃ
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    25

01DC 28             1445             ADD     A,R0                                            ;2 
01DD 14             1446             DEC     A                                               ;2 AÖ¸Ïò½«Òª¶ÁÈ¡×îºóÒ»¸ö×Ö½
                             Ú
01DE FB             1447             MOV     R3,A                                            ;2
01DF C200     F     1448             clr     BIT_ISFRX
01E1                1449     SERIAL_RXSOFT_STRLOOP:
01E1 C000           1450             PUSH    AR0                                             ;4
01E3 120000   F     1451             CALL    _FUN_SERIAL_RXSBYTE                             ;(14,6)
01E6 D000           1452             POP     AR0                                             ;3
                    1453             
                    1454             ;ÒÔÏÂ´¦ÀíÊ±¼äÒªÔÚ´®¿ÚµÄ°ë¸öÎ»µÄÊ±¼äÄÚÍê³É 115200 ÊÇ65¸öÖÜÆÚ
01E8 D200     F     1455             SETB    BIT_SERIALOVERTIMERX                            ;1      µÚÒ»¸ö×Ö½Ú½ÓÊÕºó¾Í²
                             »ÔÙÎÞÏÞÖÆ½ÓÊÕ
                    1456             
                    1457             ;ÅÐ¶Ï½ÓÊÕÊÇ·ñÕÈ·
01EA FA             1458             MOV     R2,A                                            ;3
01EB EF             1459             MOV     A,R7                                            ;3      ½«·µ»Ø×´Ì¬ºÍ½ÓÊÕÖµ»
                             ¥»»
01EC 6400           1460             XRL     A,#CONST_STATE_TRUE                             ;3
01EE 703F           1461             JNZ     SERIAL_RXSOFT_OVER                              ;3
                    1462             
                    1463             ;³¬³¤´¦Àí       
                    1464                     ;PUSH   AR1                                             ;4
01F0 7900     F     1465             MOV     R1,#XDATA_SoftSerialP                           ;2
                    1466                     ;MOVX   A,@R1
01F2 758301         1467             MOV     DPH,#1
01F5 8982           1468             MOV     DPL,R1
01F7 E0             1469             MOVX    A,@DPTR                                         ;3
                    1470                     ;POP    AR1                                             ;3      
01F8 850007         1471             MOV     AR7,AR0                                         ;2      
01FB CF             1472             XCH     A,R7                                            ;3
01FC C3             1473             CLR     C                                               ;1
01FD 9F             1474             SUBB    A,R7                                            ;2 ²»ÓÐÓÃr7¼ÇÂ¼
01FE B40000   F     1475             CJNE    A,#CONST_LEN_RXBUF-1,$+3                        ;4
0201 501D           1476             JNC     SERIAL_RXSOFT_ACCEPTOVERLEN                     ;3
                    1477     
0203 EA             1478             MOV     A,R2                                            ;2 ½ÓÊÕµ½µÄÊ¾Ý
                    1479     
                    1480             ;½«½ÓÊÕÊ¾Ý·ÅÈëµ½ÄÚ´æÖÐ
0204 200003   F     1481             JB      BIT_BUFADDR,SERIAL_RXSOFTMOVX                   ;4
0207                1482     SERIAL_RXSOFTMOV:;½«½ÓÊÕÊ¾Ý·ÅÈëµ½ÄÚ´æÖÐ         
0207 F6             1483             MOV     @R0,A                                           ;2
0208 8009           1484             JMP     SERIAL_RXSOFTMOVOver                            ;4
020A                1485     SERIAL_RXSOFTMOVX:;½«½ÓÊÕÊ¾Ý·ÅÈëµ½Íâ´æÖÐ        
                    1486                     ;MOVX   @R0,A
020A 758301         1487             MOV     DPH,#1 
020D 8882           1488             MOV     DPL,R0 
020F F0             1489             MOVX    @DPTR,A 
0210 00             1490             NOP                                                     ;1              
0211 00             1491             NOP                                                     ;1      
0212 00             1492             NOP                                                     ;1      
0213                1493     SERIAL_RXSOFTMOVOver:
                    1494     
                    1495             ;---JNB BIT_ISFRX,SERIAL_RXSOFT_ADD                     ;4
                    1496             ;---CLR BIT_ISFRX                                       ;1
                    1497             ;---JMP SERIAL_RXSOFT_STRLOOP                           ;4
0213                1498     SERIAL_RXSOFT_ADD:
0213 EB             1499             MOV     A,R3                                            ;2
                    1500             ;JZ     SERIAL_RXSOFT_ADDContinue                       ;3
0214 200006   F     1501             JB      BIT_ISFRX,SERIAL_RXSOFT_ADDContinue
                    1502     
0217 68             1503             XRL     A,R0                                            ;2
0218 7003           1504             JNZ     SERIAL_RXSOFT_ADDContinue                       ;3 Èç¹ûµ±Ç°ÒÑ¶ÁÂú×Ö½ÚÊ£¬ÔòÍ
                             Ë³ö
                    1505     
021A 08             1506             INC     R0                                              ;3
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    26

021B 8012           1507             JMP     SERIAL_RXSOFT_OVER                              ;4
021D                1508     SERIAL_RXSOFT_ADDContinue:
                    1509     
                    1510             ;---INC R3                                              ;3
021D 08             1511             INC     R0                                              ;3
021E 80C1           1512             JMP     SERIAL_RXSOFT_STRLOOP                           ;4
                    1513     
0220                1514     SERIAL_RXSOFT_ACCEPTOVERLEN:
0220 7F04           1515             MOV     R7,#CONST_STATE_ACCEPTOVERLEN                   ;2
0222 7B00     F     1516             MOV     R3,#CONST_LEN_RXBUF             
                    1517     
0224 7800     F     1518             MOV     R0,#XDATA_SoftSerialP
                    1519                     ;MOVX   A,@R0
0226 758301         1520             MOV     DPH,#1
0229 8882           1521             MOV     DPL,R0
022B E0             1522             MOVX    A,@DPTR
022C 2400     F     1523             ADD     A,#CONST_LEN_RXBUF
022E F8             1524             MOV     R0,A
022F                1525     SERIAL_RXSOFT_OVER:
                    1526     
022F 7900     F     1527             MOV     R1,#XDATA_SoftSerialP
                    1528                     ;MOVX   A,@R1
0231 758301         1529             MOV     DPH,#1
0234 8982           1530             MOV     DPL,R1
0236 E0             1531             MOVX    A,@DPTR
                    1532     
                    1533             ;MOV    AR7,AR0
0237 C3             1534             CLR     C
0238 C8             1535             XCH     A,R0
0239 98             1536             SUBB    A,R0
023A FB             1537             MOV     R3,A                                            ;Êµ¼Ê¶ÁÈ¡µÄ×Ö½ÚÊ
                    1538     
023B 22             1539             RET                                                     ;4
                    1540             
                    1541     ;-------------------------------------
                    1542     ;ÒòÐèÒª£¬ÒÑ½«#DATA_VARTMP1È¥µôºÍÓÃ¶ÏÌø×ªÈ¥µô£¬±¾ÖÐ¶ÏÔÝÊ±ÎÞ·¨ÓÃ£¬ÒªÓÃÊ±ÔÙËµ
                    1543     ; ÃèÊö:Ó²´®¿Ú·¢ËÍ½ÓÊÕÖÐ¶Ï´¦Àí³ÌÐò(´®¿ÚÖÐ¶ÏÓÃ¹¤×÷Çø1£¬Æ½Ê±Ö÷³ÌÐòÓÃ¹¤×÷Çø0)
                    1544     ;Íâ²¿²ÎÊ:
                    1545     
                    1546     ;XDATA_TXBUF            ---     ½«Òª½ÓÊÕÊ¾ÝµÄbuf
                    1547     ;BIT_HARDFLAG           ---     Ó²´®¿Ú½ÓÊÕÍê³É±ê¼Ç=1Íê³É;=0Î´Íê³É½ÓÊÕ(Æ½Ê±Îª0)
                    1548     ;DATA_RXBUF             ---     ½ÓÊÕç·³å(ÒòÎª½ÓÊÕç·³åµÄÊ¾Ý²»ÖªÊ²Ã´Ê±ºòÀ´£¬ËùÒÔÒª)
                    1549     ;DATA_VARTMP1           ---     ½ÓÊÕÊ¾Ý³¤¶È(1±íÊ¾½ÓÊÕµ½Ò»¸ö×Ö½Ú)
                    1550     ;BIT_FIRSTTX            ---     Ó²´®¿Ú·¢ËÍµÚÒ»¸ö×Ö½Ú±ê¼Ç; =0±íÊ¾»¹Ã»·¢ËÍµÚÒ»¸ö×Ö½Ú=1±íÊ¾ÒÑ·
                             ¢ËÍ
                    1551     
                    1552     ;ÄÚ²¿²ÎÊ:
                    1553     
                    1554     ;R3                     ---     ·¢ËÍ½ÓÊÕÊ¾ÝµÄ³¤¶È
                    1555     ;R2                     ---     ÄÚ²¿ÁÙÊ±ÓÃ
                    1556     ;A                      ---     
                    1557     
                    1558     ;ÒÉÎÊ:
                    1559     ;ÔÚÖÐ¶ÏÖÐ²»ÄÜÊ¹ÓÃ¶ÑÕ»   ---     
                    1560     ;-------------------------------------
023C                1561     _FUN_SERIAL_RXTXINTERRUPT:
                    1562     
                    1563     
                    1564     
023C 32             1565             RETI
                    1566     
                    1567     ;---------------------------------------------------------
                    1568     ;ÃèÊö:Ó²´®¿Ú·¢ËÍÊ¾Ý(×Ö·û´®)
                    1569     ;Íâ²¿²ÎÊ
                    1570     ;BIT_BUFADDR    ---     =0£¬·¢ËÍµÄÊÇÄÚ´æÊ¾Ý£»=1£¬·¢ËÍµÄÊÇÍâ´æÊ¾Ý
                    1571     ;BIT_VERIFY     ---     ´®¿ÚÊÕ·¢ÊÇ·ñÒª¼ÓÑéÎ»,=0²»Òª£¬=1Òª
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    27

                    1572     ;r7             ---     ½«Òª·¢ËÍÊ¾ÝµÄbuf
                    1573     ;r3             ---     ·¢ËÍÊ¾ÝµÄ³¤¶È
                    1574     ;---------------------------------------------------------
023D                1575     _FUN_SERIAL_TXHARD:
                    1576     
023D C29C           1577             CLR     REN
023F 850700         1578             MOV     AR0,AR7
0242                1579     SERIAL_TXHARD_SENDLOOP:
0242 EB             1580             MOV     A,R3
0243 602A           1581             JZ      SERIAL_TXHARD_OVER
                    1582     
0245 C299           1583             CLR     TI
0247 200003   F     1584             JB      BIT_BUFADDR,SERIAL_TXHARD_SPACE
024A E6             1585             MOV     A,@R0
024B 8006           1586             JMP     SERIAL_TXHARD_SPACEOVER
                    1587     
024D                1588     SERIAL_TXHARD_SPACE:
                    1589                     ;MOVX   A,@R0
024D 758301         1590             MOV     DPH,#1
0250 8882           1591             MOV     DPL,R0
0252 E0             1592             MOVX    A,@DPTR
0253                1593     SERIAL_TXHARD_SPACEOVER:
                    1594             
                    1595             ;--- ·¢ËÍÑÓÊ± ---
0253 7A64           1596             MOV     R2,#100                                         ;010H
0255                1597     SERIAL_RXTXINTERRUPT_SENDDELAY:
0255 DAFE           1598             DJNZ    R2,SERIAL_RXTXINTERRUPT_SENDDELAY
                    1599             
                    1600     ;       MOV     R2,#0FFH
                    1601     ;SERIAL_RXTXINTERRUPT_SENDDELAY2:
                    1602     ;       DJNZ    R2,SERIAL_RXTXINTERRUPT_SENDDELAY2
                    1603             
0257 300004   F     1604             JNB     BIT_VERIFY,TXHARD_SENDLOOP_NINE
025A A2D0           1605             MOV     C,P
025C 929A           1606             MOV     RB8,C
025E                1607     TXHARD_SENDLOOP_NINE:
025E F599           1608             MOV     SBUF,A
                    1609             
                    1610             ;--- ±ê¼ÇÏÂÒÆ ---
0260 08             1611             INC     R0
0261 1B             1612             DEC     R3
                    1613     
0262                1614     SERIAL_TXHARD_TI:
0262 3099FD         1615             JNB     TI,SERIAL_TXHARD_TI
                    1616             
0265 C007           1617             push    ar7
0267 7F0A           1618             mov     r7,#10
0269 DFFE           1619             djnz    r7,$
026B D007           1620             pop     ar7
026D 80D3           1621             JMP     SERIAL_TXHARD_SENDLOOP
026F                1622     SERIAL_TXHARD_OVER:
026F D29C           1623             SETB    REN
                    1624     
0271 22             1625             RET
                    1626                             
                    1627     ;
0272                1628     _FUN_SERIAL_TXHARD02:
                    1629             
                    1630             ;---CLR REN2
0272 539AEF         1631             ANL     S2CON,#11101111B
0275 850700         1632             MOV     AR0,AR7
0278                1633     SERIAL_TXHARD02_SENDLOOP:
0278 EB             1634             MOV     A,R3
0279 602D           1635             JZ      SERIAL_TXHARD02_OVER
                    1636             
                    1637             ;---CLR TI2
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    28

027B 539AFD         1638             ANL     S2CON,#11111101B
027E 200003   F     1639             JB      BIT_BUFADDR,SERIAL_TXHARD02_SPACE
0281 E6             1640             MOV     A,@R0
0282 8006           1641             JMP     SERIAL_TXHARD02_SPACEOVER
                    1642             
0284                1643     SERIAL_TXHARD02_SPACE:
                    1644                     ;MOVX   A,@R0
0284 758301         1645             MOV     DPH,#1
0287 8882           1646             MOV     DPL,R0
0289 E0             1647             MOVX    A,@DPTR
028A                1648     SERIAL_TXHARD02_SPACEOVER:
                    1649             
                    1650             ;--- ·¢ËÍÑÓÊ± ---
028A 7A64           1651             MOV     R2,#100                                                 ;010H
028C                1652     SERIAL_TXHARD02_SENDDELAY:
028C DAFE           1653             DJNZ    R2,SERIAL_TXHARD02_SENDDELAY
                    1654             
                    1655     ;       MOV     R2,#0FFH
                    1656     ;SERIAL_RXTXINTERRUPT_SENDDELAY2:
                    1657     ;       DJNZ    R2,SERIAL_RXTXINTERRUPT_SENDDELAY2
                    1658             
028E 30000C   F     1659             JNB     BIT_VERIFY,SERIAL_TXHARD02_SENDDELAY_NINE
0291 A2D0           1660             MOV     C,P
0293 C0E0           1661             PUSH    ACC
                    1662             ;---MOV RB82,C
0295 E59A           1663             MOV     A,S2CON
0297 92E2           1664             MOV     ACC.2,C
0299 F59A           1665             MOV     S2CON,A
029B D0E0           1666             POP     ACC
029D                1667     SERIAL_TXHARD02_SENDDELAY_NINE:
029D F59B           1668             MOV     S2BUF,A
                    1669             
                    1670             ;--- ±ê¼ÇÏÂÒÆ ---
029F 08             1671             INC     R0
02A0 1B             1672             DEC     R3
                    1673     
02A1                1674     SERIAL_TXHARD02_TI:
02A1 E59A           1675             MOV     A,S2CON
                    1676             ;---JNB TI2,SERIAL_TXHARD02_TI
02A3 30E1FB         1677             JNB     ACC.1,SERIAL_TXHARD02_TI
02A6 80D0           1678             JMP     SERIAL_TXHARD02_SENDLOOP
02A8                1679     SERIAL_TXHARD02_OVER:
                    1680             ;---SETB        REN2
02A8 439A10         1681             ORL     S2CON,#00010000B
                    1682     
02AB 22             1683             RET     
                    1684     
                    1685             
                    1686             
                    1687     ;---------------------------------------------------------
                    1688     ; ÃèÊö:Ó²´®¿Ú½ÓÊÕÊ¾Ý
                    1689     ;Íâ²¿²ÎÊ
                    1690     ;BIT_BUFADDR            ---     = 0£¬½ÓÊÕÊ¾Ýµ½ÄÚ´æ£» = 1£¬½ÓÊÕÊ¾Ýµ½Íâ´æ
                    1691     ;BIT_SERIALOVERTIMERX   ---     ´®¿ÚµÈ´½ÓÊÕÊÇ·ñÓÐÊ±¼ä,ÏÞÖÆ =0,Ã»ÓÐÏÞÖÆ ; =1ÓÐÊ±¼äÏÞÖÆ
                    1692     ;BIT_VERIFY             ---     ´®¿ÚÊÕ·¢ÊÇ·ñÒª¼ÓÑéÎ», = 0²»Òª£¬ = 1Òª
                    1693     ;R7                     ---     ½«Òª½ÓÊÕ×Ö·û´®bufµÄÖ¸Õë
                    1694     ;R3                     ---     ½«Òª½ÓÊÕµÄ×Ö½ÚÊ
                    1695     ;BIT_ISFRX              ---     =0±íÊ¾´®¿ÚµÚÒ»¸ö×Ö½Ú½ÓÊÕ   ;1±íÊ¾µÚÒ»¸ö×Ö½Ú²»½ÓÊÕ       
                    1696     ;ÄÚ²¿²ÎÊ                        
                    1697     ;R0                     ---     ÔÝ´æµ¥Ôª
                    1698     ;·µ»ØÖµ
                    1699     ;r7                     ---     ·µ»Ø½ÓÊÕ×Ö·û´®
                    1700     ;R3                     ---     ½ÓÊÕÊ¾ÝµÄ³¤¶È
                    1701     ;---------------------------------------------------------
02AC                1702     _FUN_SERIAL_RXHARD:
                    1703             
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    29

02AC D200     F     1704             SETB    BIT_SERFIRBYTE                                          ;µ±Ç°ÊÇ·ñÕÔÚ¼ìË÷´®¿
                             ÚµÚÒ»¸ö×Ö½Ú=1±íÊ¾ÊÇ   ;=0±íÊ¾²»
02AE D29C           1705             SETB    REN
02B0 C298           1706             CLR     RI                                                      ; 
02B2 850700         1707             MOV     AR0,AR7                                                 ; 
                    1708             
02B5 EB             1709             MOV     A,R3                                                    ; 
02B6 6003           1710             JZ      SERIAL_RXHARD_RXLOOP                                    ; Èç¹ûR3=0£¬Ôò²»±ä£
                             ¬Èç¹ûR3²»ÎªÁã£¬Ôòr3Ö¸Ïò½«Òª¶ÁÈ¡³¤¶ÈµÄ×îºóÒ»¸ö×Ö½ÚµÄÎ»ÖÃ
02B8 28             1711             ADD     A,R0                                                    ; 
02B9 14             1712             DEC     A                                                       ; AÖ¸Ïò½«Òª¶ÁÈ¡×îºó
                             Ò»¸ö×Ö½Ú
02BA FB             1713             MOV     R3,A                                    ;
                    1714             
                    1715             ; PUSH  AR5
02BB                1716     SERIAL_RXHARD_RXLOOP:
02BB 30002E   F     1717             JNB     BIT_SERIALOVERTIMERX,SERIAL_RXHARD_SEARCHSTARTLIMITLESS ;ÎÞÏÞµÈ´½ÓÊÕ    
02BE 30001E   F     1718             JNB     BIT_SERFIRBYTE,SERIAL_RXHARD_SECONDBYTE
02C1 C200     F     1719             CLR     BIT_SERFIRBYTE
                    1720             
                    1721             ;--- ÏÞÖÆ³¬Ê±²éÑ¯Ê±¼ä ---
02C3 C000           1722             PUSH    AR0
02C5 7800     F     1723             MOV     R0,#XDATA_SOFTFIRSTSCANTIME
                    1724                     ;MOVX   A,@R0
02C7 758301         1725             MOV     DPH,#1
02CA 8882           1726             MOV     DPL,R0
02CC E0             1727             MOVX    A,@DPTR
02CD D000           1728             POP     AR0
                    1729             
02CF FC             1730             MOV     R4,A
                    1731             ;MOV    R4,#CONST_SOFTFIRSTSCANTIME
02D0 7A7F           1732             MOV     R2,#127;127;0FFH;#0FFH
02D2 7DFF           1733             MOV     R5,#0FFH;#0FFH
02D4                1734     SERIAL_RXHARD_SERRI:
02D4 20981A         1735             JB      RI,SERIAL_RXHARD_ALREADYRX
02D7 DDFB           1736             DJNZ    R5,SERIAL_RXHARD_SERRI                                  ;SERIAL_RXTXINTERRU
                             PT_SERRI     
02D9 DAF9           1737             DJNZ    R2,SERIAL_RXHARD_SERRI                                  ;SERIAL_RXTXINTERRU
                             PT_SERRI
02DB DCF7           1738             DJNZ    R4,SERIAL_RXHARD_SERRI                                  ;SERIAL_RXTXINTERRU
                             PT_SERRI
                    1739             
                    1740             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~
                    1741             ;call   _FUN_TEST_BEEP
                    1742             ;MOV    A,#34
                    1743             ;JMP    _FUN_TEST_DISPLAY
                    1744             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~    
                    1745             
02DD 8031           1746             JMP     SERIAL_RXHARD_OVER
02DF                1747     SERIAL_RXHARD_SECONDBYTE:
                    1748             
                    1749             ;--- ÓÐÏÞÊ±¼äÄÚËÑË÷´®¿ÚÆðÆôÎ» ---
02DF 7C15           1750             MOV     R4,#CONST_HANDSECOND
02E1 7AFF           1751             MOV     R2,#0FFH
02E3                1752     SERIAL_RXHARD_SESECONDRRI:
02E3 20980B         1753             JB      RI,SERIAL_RXHARD_ALREADYRX
02E6 DAFB           1754             DJNZ    R2,SERIAL_RXHARD_SESECONDRRI                            ;SERIAL_RXTXINTERRU
                             PT_SERRI
02E8 DCF9           1755             DJNZ    R4,SERIAL_RXHARD_SESECONDRRI                            ;SERIAL_RXTXINTERRU
                             PT_SERRI     JMP     SERIAL_RXHARD_OVER
                    1756             
                    1757             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~
                    1758             ;call   _FUN_TEST_BEEP
                    1759             ;MOV    A,#33
                    1760             ;JMP    _FUN_TEST_DISPLAY
                    1761             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~    
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    30

02EA 8024           1762             JMP     SERIAL_RXHARD_OVER      
                    1763             
                    1764             ;²»ÏÞÊ±½ÓÊÕÊ¾Ý
02EC                1765     SERIAL_RXHARD_SEARCHSTARTLIMITLESS:
02EC 3098FD         1766             JNB     RI,SERIAL_RXHARD_SEARCHSTARTLIMITLESS
02EF D200     F     1767             SETB    BIT_SERIALOVERTIMERX
                    1768             
02F1                1769     SERIAL_RXHARD_ALREADYRX:;¿ªÊ¼½ÓÊÕ
02F1 C298           1770             CLR     RI
02F3 E599           1771             MOV     A,SBUF
                    1772     
02F5 200003   F     1773             JB      BIT_BUFADDR,SERIAL_RXHARD_SPACE
02F8 F6             1774             MOV     @R0,A
02F9 8009           1775             JMP     SERIAL_RXHARD_SPACEOVER
02FB                1776     SERIAL_RXHARD_SPACE:
                    1777                     ;MOVX   @R0,A
02FB 758301         1778             MOV     DPH,#1 
02FE 8882           1779             MOV     DPL,R0 
0300 F0             1780             MOVX    @DPTR,A         
0301 00             1781             NOP
0302 00             1782             NOP
0303 00             1783             NOP
0304                1784     SERIAL_RXHARD_SPACEOVER:
                    1785             
0304 EB             1786             MOV     A,R3
0305 6006           1787             JZ      SERIAL_RXHARD_Continue  ;µ±R3Îª0£¬±íÊ¾£¬½ÓÊÕÊ¾Ý³¤¶È²»È·¶¨£¬¿¿³¬Ê±Íê³É½ÓÊÕÊ¾
                             Ý            
                    1788             
0307 68             1789             XRL     A,R0
0308 7003           1790             JNZ     SERIAL_RXHARD_Continue  ;Èç¹ûµ±Ç°ÒÑ¶ÁÂú×Ö½ÚÊ£¬ÔòÍË³ö
                    1791     
030A 08             1792             INC     R0
                    1793             ;---CLR BIT_ISFRX
030B 8003           1794             JMP     SERIAL_RXHARD_OVER
                    1795             
030D                1796     SERIAL_RXHARD_Continue: 
                    1797             
                    1798             ;BIT_ISFRX      ---     =0±íÊ¾´®¿ÚµÚÒ»¸ö×Ö½Ú½ÓÊÕ   ;1±íÊ¾µÚÒ»¸ö×Ö½Ú²»½ÓÊÕ       
                    1799             ;JNB    BIT_ISFRX,SERIAL_RXHARD_ADD
                    1800             ;CLR    BIT_ISFRX
                    1801             ;JMP    SERIAL_RXHARD_RXLOOP
                    1802             
                    1803     ;SERIAL_RXHARD_ADD:
                    1804     
030D 08             1805             INC     R0      
030E 80AB           1806             JMP     SERIAL_RXHARD_RXLOOP
                    1807             
0310                1808     SERIAL_RXHARD_OVER:
                    1809             
0310 E8             1810             MOV     A,R0
0311 C3             1811             CLR     C
0312 9F             1812             SUBB    A,R7
0313 FB             1813             MOV     R3,A                                            ;Êµ¼Ê¶ÁÈ¡µÄ×Ö½ÚÊ
                    1814             
0314 C29C           1815             CLR     REN
0316 C298           1816             CLR     RI
                    1817             
0318 22             1818             RET
                    1819             
                    1820             
                    1821     ;---------------------------------------------------------
                    1822     ; ÃèÊö:Ó²´®¿Ú½ÓÊÕµ¥¸ö×Ö½ÚµÄÊ¾Ý  
                    1823     ;Íâ²¿²ÎÊ                        
                    1824     ;BIT_VERIFY                     ---     ´®¿ÚÊÕ·¢ÊÇ·ñÒª¼ÓÑéÎ»,=0²»Òª£¬=1Òª
                    1825     ;XDATA_SOFTFIRSTSCANTIME        ---     ³¬Ê±Ê±¼ä
                    1826     ;µ÷ÓÃ×Óº¯Ê                      
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    31

                    1827     ;_FUN_SERIAL_RXSBYTE            ---     Èí´®¿Ú½ÓÊÕµ¥¸ö×Ö½ÚµÄÊ¾Ý
                    1828     ;·µ»ØÖµ                         
                    1829     ;r7                             ---     ·µ»Ø×´Ì¬Âë
                    1830     ;A                              ---     ·µ»Ø½ÓÊÕµÄÊ¾Ý
                    1831     ;R5                             ---     ·µ»Ø½ÓÊÕµÄÊ¾Ý
                    1832     ;---------------------------------------------------------
0319                1833     _FUN_SERIAL_RXHBYTE:
                    1834             
0319 D29C           1835             SETB    REN
031B C298           1836             CLR     RI
                    1837             
                    1838             ;--- ÏÞÖÆ³¬Ê±²éÑ¯Ê±¼ä ---
                    1839             ;PUSH   AR0
031D 7800     F     1840             MOV     R0,#XDATA_SOFTFIRSTSCANTIME
                    1841                     ;MOVX   A,@R0
031F 758301         1842             MOV     DPH,#1
0322 8882           1843             MOV     DPL,R0
0324 E0             1844             MOVX    A,@DPTR
                    1845             ;POP    AR0
                    1846             
0325 FC             1847             MOV     R4,A
                    1848             ;MOV    R4,#26H
0326 7AFF           1849             MOV     R2,#0FFH                                ;#0FFH
0328 7DFF           1850             MOV     R5,#0FFH                                ;#0FFH
032A                1851     SERIAL_RXHBYTE_SERRI:
032A 20980A         1852             JB      RI,SERIAL_RXHBYTE_ALREADYRX
032D DDFB           1853             DJNZ    R5,SERIAL_RXHBYTE_SERRI
032F DAF9           1854             DJNZ    R2,SERIAL_RXHBYTE_SERRI
0331 DCF7           1855             DJNZ    R4,SERIAL_RXHBYTE_SERRI
                    1856             
                    1857             ;CALL   _FUN_TEST_BEEP
                    1858             
0333 7F02           1859             MOV     R7,#CONST_STATE_SERIALOVERTIME  
0335 800B           1860             JMP     SERIAL_RXHBYTE_OVER     
0337                1861     SERIAL_RXHBYTE_ALREADYRX:
                    1862             
0337 C298           1863             CLR     RI
0339 E599           1864             MOV     A,SBUF
033B FD             1865             MOV     R5,A
033C 7F00           1866             MOV     R7,#CONST_STATE_TRUE    
                    1867             
033E C29C           1868             CLR     REN
0340 C298           1869             CLR     RI
0342                1870     SERIAL_RXHBYTE_OVER:
                    1871             
0342 22             1872             RET                     
                    1873     
                    1874     
0343                1875     _FUN_SERIAL_RXHARD02:
                    1876             
0343 D200     F     1877             SETB    BIT_SERFIRBYTE                                          ;µ±Ç°ÊÇ·ñÕÔÚ¼ìË÷´®¿
                             ÚµÚÒ»¸ö×Ö½Ú=1±íÊ¾ÊÇ   ;=0±íÊ¾²»      
                    1878             ;---SETB        REN2
0345 439A10         1879             ORL     S2CON,#00010000B
                    1880             ;---CLR RI2             
0348 539AFE         1881             ANL     S2CON,#11111110B                                        ; 
034B 850700         1882             MOV     AR0,AR7                                                 ; 
                    1883             
034E EB             1884             MOV     A,R3                                                    ; 
034F 6003           1885             JZ      SERIAL_RXHARD02_RXLOOP                                  ; Èç¹ûR3=0£¬Ôò²»±ä£
                             ¬Èç¹ûR3²»ÎªÁã£¬Ôòr3Ö¸Ïò½«Òª¶ÁÈ¡³¤¶ÈµÄ×îºóÒ»¸ö×Ö½ÚµÄÎ»ÖÃ
0351 28             1886             ADD     A,R0                                                    ; 
0352 14             1887             DEC     A                                                       ; AÖ¸Ïò½«Òª¶ÁÈ¡×îºó
                             Ò»¸ö×Ö½Ú
0353 FB             1888             MOV     R3,A
                    1889             
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    32

                    1890             ; PUSH  AR5
0354                1891     SERIAL_RXHARD02_RXLOOP: 
0354 300032   F     1892             JNB     BIT_SERIALOVERTIMERX,SERIAL_RXHARD02_SEARCHSTARTLIMITLESS       ;ÎÞÏÞµÈ´½ÓÊ
                             Õ
                    1893             
0357 300020   F     1894             JNB     BIT_SERFIRBYTE,SERIAL_RXHARD02_SECONDBYTE
035A C200     F     1895             CLR     BIT_SERFIRBYTE
                    1896             
                    1897             ;--- ÏÞÖÆ³¬Ê±²éÑ¯Ê±¼ä ---
035C C000           1898             PUSH    AR0
035E 7800     F     1899             MOV     R0,#XDATA_SOFTFIRSTSCANTIME
                    1900                     ;MOVX   A,@R0
0360 758301         1901             MOV     DPH,#1
0363 8882           1902             MOV     DPL,R0
0365 E0             1903             MOVX    A,@DPTR
0366 D000           1904             POP     AR0
                    1905             
0368 FC             1906             MOV     R4,A
                    1907             ;MOV    R4,#CONST_SOFTFIRSTSCANTIME
0369 7AFF           1908             MOV     R2,#0FFH;#0FFH
036B 7DFF           1909             MOV     R5,#0FFH;#0FFH
036D                1910     SERIAL_RXHARD02_SERRI:
036D E59A           1911             MOV     A,S2CON
036F 20E025         1912             JB      ACC.0,SERIAL_RXHARD02_ALREADYRX
                    1913             ;---JB  RI2,SERIAL_RXHARD02_ALREADYRX
0372 DDF9           1914             DJNZ    R5,SERIAL_RXHARD02_SERRI                                        ;SERIAL_RXT
                             XINTERRUPT_SERRI     
0374 DAF7           1915             DJNZ    R2,SERIAL_RXHARD02_SERRI                                        ;SERIAL_RXT
                             XINTERRUPT_SERRI
0376 DCF5           1916             DJNZ    R4,SERIAL_RXHARD02_SERRI                                        ;SERIAL_RXT
                             XINTERRUPT_SERRI
                    1917             
                    1918             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~
                    1919             ;call   _FUN_TEST_BEEP
                    1920             ;MOV    A,#34
                    1921             ;JMP    _FUN_TEST_DISPLAY
                    1922             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~    
                    1923             
0378 803D           1924             JMP     SERIAL_RXHARD02_OVER
037A                1925     SERIAL_RXHARD02_SECONDBYTE:
                    1926             
                    1927             ;--- ÓÐÏÞÊ±¼äÄÚËÑË÷´®¿ÚÆðÆôÎ» ---
037A 7C15           1928             MOV     R4,#CONST_HANDSECOND
037C 7AFF           1929             MOV     R2,#0FFH
037E                1930     SERIAL_RXHARD02_SESECONDRRI:
                    1931             ;---JB  RI2,SERIAL_RXHARD02_ALREADYRX
037E E59A           1932             MOV     A,S2CON
0380 20E014         1933             JB      ACC.0,SERIAL_RXHARD02_ALREADYRX 
0383 DAF9           1934             DJNZ    R2,SERIAL_RXHARD02_SESECONDRRI                          ;SERIAL_RXTXINTERRU
                             PT_SERRI
0385 DCF7           1935             DJNZ    R4,SERIAL_RXHARD02_SESECONDRRI                          ;SERIAL_RXTXINTERRU
                             PT_SERRI     JMP     SERIAL_RXHARD02_OVER
                    1936             
                    1937             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~
                    1938             ;call   _FUN_TEST_BEEP
                    1939             ;MOV    A,#33
                    1940             ;JMP    _FUN_TEST_DISPLAY
                    1941             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~
                    1942             
0387 802E           1943             JMP     SERIAL_RXHARD02_OVER
                    1944             ;²»ÏÞÊ±½ÓÊÕÊ¾Ý
0389                1945     SERIAL_RXHARD02_SEARCHSTARTLIMITLESS:
                    1946             ;JB     Pin_USB,SERIAL_RXHARD02_zz
                    1947             ;---JNB RI2,SERIAL_RXHARD02_SEARCHSTARTLIMITLESS
0389 E59A           1948             MOV     A,S2CON
038B 30E0FB         1949             JNB     ACC.0,SERIAL_RXHARD02_SEARCHSTARTLIMITLESS      
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    33

038E D200     F     1950             SETB    BIT_SERIALOVERTIMERX
                    1951             
                    1952             ; ¹Ø¶¨Ê±Æ÷
0390 C28C           1953             CLR     TR0                                                     ;¿ªÆôT0
0392 C2A9           1954             CLR     ET0                                                     ;¿ªÆôT0Ê¹ÄÜ
0394 750001   F     1955             MOV     DATA_PowerONTimer,#CONST_TIMEER02
                    1956             
                    1957             ;CALL   TEST_TIME_CLEAR 
0397                1958     SERIAL_RXHARD02_ALREADYRX:;¿ªÊ¼½ÓÊÕ
                    1959             
                    1960             ;--- CLR        RI2
0397 539AFE         1961             ANL     S2CON,#11111110B
039A E59B           1962             MOV     A,S2BUF
                    1963             
039C 200003   F     1964             JB      BIT_BUFADDR,SERIAL_RXHARD02_SPACE
039F F6             1965             MOV     @R0,A
03A0 8009           1966             JMP     SERIAL_RXHARD02_SPACEOVER
                    1967             
03A2                1968     SERIAL_RXHARD02_SPACE:
                    1969                     ;MOVX   @R0,A
03A2 758301         1970             MOV     DPH,#1 
03A5 8882           1971             MOV     DPL,R0 
03A7 F0             1972             MOVX    @DPTR,A
03A8 00             1973             NOP
03A9 00             1974             NOP
03AA 00             1975             NOP
03AB                1976     SERIAL_RXHARD02_SPACEOVER:
                    1977             
03AB EB             1978             MOV     A,R3
03AC 6006           1979             JZ      SERIAL_RXHARD02_Continue        ;µ±R3Îª0£¬±íÊ¾£¬½ÓÊÕÊ¾Ý³¤¶È²»È·¶¨£¬¿¿³¬Ê±Íê
                             ³É½ÓÊÕÊ¾Ý            
                    1980             
03AE 68             1981             XRL     A,R0
03AF 7003           1982             JNZ     SERIAL_RXHARD02_Continue        ;Èç¹ûµ±Ç°ÒÑ¶ÁÂú×Ö½ÚÊ£¬ÔòÍË³ö
                    1983     
03B1 08             1984             INC     R0
03B2 8003           1985             JMP     SERIAL_RXHARD02_OVER
                    1986             
03B4                1987     SERIAL_RXHARD02_Continue:       
03B4 08             1988             INC     R0      
03B5 809D           1989             JMP     SERIAL_RXHARD02_RXLOOP
                    1990             
03B7                1991     SERIAL_RXHARD02_OVER:
                    1992             
03B7 E8             1993             MOV     A,R0
03B8 C3             1994             CLR     C
03B9 9F             1995             SUBB    A,R7
03BA FB             1996             MOV     R3,A                                            ;Êµ¼Ê¶ÁÈ¡µÄ×Ö½ÚÊ
                    1997             
                    1998             ;---CLR REN2
03BB 539AEF         1999             ANL     S2CON,#11101111B
                    2000             ;---CLR RI2
03BE 539AFE         2001             ANL     S2CON,#11111110B
                    2002             
03C1 22             2003             RET
                    2004     
                    2005     
                    2006     
                    2007     ;_FUN_SERIAL_InitUART2: ;³õÊ¼»¯´®¿Ú
                    2008     
                    2009     
                    2010     
                    2011     ;//////////////////////////////////////////////////////////////////////////////////////////
                             ////
03C2                2012     _FUN_testSERIAL_RXHARD:
                    2013     
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    34

03C2 E4             2014             clr     A
03C3 22             2015             RET     
                    2016     ;//////////////////////////////////////////////////////////////////////////////////////////
                             /////
                    2017     ;---------------------------------------------------------
                    2018     ;ÃèÊö:Èí´®¿Ú·¢ËÍÊ¾Ý(×Ö·û´®)
                    2019     ;Íâ²¿²ÎÊ
                    2020     ;BIT_BUFADDR
                    2021     ;R7             ---     ½«Òª·¢ËÍÊ¾ÝµÄbuf
                    2022     ;R5             ---     ×Ö½Ú¼äµÄÑÓÊ±¼ä0~255
                    2023     ;R3             ---     ·¢ËÍÊ¾ÝµÄ³¤¶È
                    2024     ;---------------------------------------------------------
03C4                2025     _FUN_SERIAL_AudioTXSOFT:
                    2026             
03C4 850700         2027             MOV     AR0,AR7                                                         ;4
                    2028             
                    2029             ;---Audio---
03C7                2030     SERIAL_AudioTXSOFT_ESAMLOOP:
03C7 ED             2031             MOV     A,R5                                                            ;2
03C8 FF             2032             MOV     R7,A                                                            ;2
03C9 120000   F     2033             CALL    _FUN_LIB_DELAYSIMPLAY
03CC 200003   F     2034             JB      BIT_BUFADDR,SERIAL_ESAMAudioTXSOFTMOVX                          ;4
03CF E6             2035             MOV     A,@R0                                                           ;2
03D0 8009           2036             JMP     SERIAL_ESAMAudioTXSOFTMOVOVER                                   ;4
03D2                2037     SERIAL_ESAMAudioTXSOFTMOVX:     
                    2038                     ;MOVX   A,@R0
03D2 758301         2039             MOV     DPH,#1
03D5 8882           2040             MOV     DPL,R0
03D7 E0             2041             MOVX    A,@DPTR                                                         ;3
03D8 00             2042             NOP                                                                     ;
03D9 00             2043             NOP                                                                     ;
03DA 00             2044             NOP
03DB                2045     SERIAL_ESAMAudioTXSOFTMOVOVER:
03DB FF             2046             MOV     R7,A                                                            ;2
03DC 120000   F     2047             CALL    _FUN_SERIAL_AudioTXBYTE                                         ;6
03DF 08             2048             INC     R0                                                              ;3
03E0 DBE5           2049             DJNZ    R3,SERIAL_AudioTXSOFT_ESAMLOOP                                  ;4
                    2050             
03E2 7F00           2051             MOV     R7,#0                                                           ;
03E4 8000           2052             JMP     SERIAL_AudioTXSOFT_OVER
                    2053     
03E6                2054     SERIAL_AudioTXSOFT_OVER:
                    2055     
03E6 22             2056             RET     
                    2057             
03E7                2058     _FUN_SERIAL_AudioTXBYTE:
                    2059     
                    2060             ;---CLR PIN_Audio_TX                                    ;1              
                    2061             ;---CLR PIN_SOFTSERIALTXH
03E7 EF             2062             MOV     A,r7                                            ;1 (Îó²î1¸öÖÜÆÚ)
                    2063             ;---CALL        _FUN_SERIAL_BITSPACEFULL_12             ;
03E8 120000   F     2064             CALL    _FUN_LIB_DELAY2550;(2560-17=2543)
                    2065                                                                     ;
03EB 300007   F     2066             JNB     BIT_VERIFY,SERIAL_AudioTXBYTE_ESAMVERIFY        ;4
03EE A2D0           2067             MOV     C,P                                             ;2
03F0 7909           2068             MOV     R1,#9                                           ;2
                    2069     
03F2 020000   F     2070             JMP     SERIAL_TXBYTE_ESAMLOOP                          ;4
03F5                2071     SERIAL_AudioTXBYTE_ESAMVERIFY:                                  ;
03F5 7908           2072             MOV     R1,#8                                           ;2
03F7 00             2073             NOP                                                     ;
03F8 00             2074             NOP                                                     ;
03F9 00             2075             NOP
03FA 00             2076             NOP
03FB 00             2077             NOP
03FC 00             2078             NOP
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    35

03FD                2079     SERIAL_AudioTXBYTE_LOOP:                                                ;
03FD 13             2080             RRC     A                                               ;1
                    2081             ;---MOV PIN_Audio_TX,C                                  ;3
                    2082             ;---MOV PIN_SOFTSERIALTXH,C
03FE 120000   F     2083             CALL    _FUN_LIB_DELAY2550;(2560-8=2552)                
0401 00             2084             NOP
0402 00             2085             NOP
0403 00             2086             NOP
0404 00             2087             NOP
0405 00             2088             NOP
0406 00             2089             NOP
0407 D9F4           2090             DJNZ    R1,SERIAL_AudioTXBYTE_LOOP                      ;4
                    2091                                                                     ;
0409 00             2092             NOP                                                     ;1
040A 00             2093             NOP                                                     ;1
040B 00             2094             NOP                                                     ;1
                    2095             ;---SETB        PIN_Audio_TX                                    ;1
                    2096             ;---SETB        PIN_SOFTSERIALTXH
040C 120000   F     2097             CALL    _FUN_LIB_DELAY2550;(2560-28=2532)               ;(127-28 = 99)  
040F 22             2098             RET                     
                    2099     ;/////////////////////////////////////////////////////////////////////
0410                2100     _FUN_SERIAL_RXHARD03:
                    2101             
0410 D200     F     2102             SETB    BIT_SERFIRBYTE                                          ;µ±Ç°ÊÇ·ñÕÔÚ¼ìË÷´®¿
                             ÚµÚÒ»¸ö×Ö½Ú=1±íÊ¾ÊÇ   ;=0±íÊ¾²»
0412 D29C           2103             SETB    REN
0414 C298           2104             CLR     RI                                                      ; 
0416 850700         2105             MOV     AR0,AR7                                                 ; 
                    2106             
0419 EB             2107             MOV     A,R3                                                    ; 
041A 6003           2108             JZ      SERIAL_RXHARD03_RXLOOP                                  ; Èç¹ûR3=0£¬Ôò²»±ä£
                             ¬Èç¹ûR3²»ÎªÁã£¬Ôòr3Ö¸Ïò½«Òª¶ÁÈ¡³¤¶ÈµÄ×îºóÒ»¸ö×Ö½ÚµÄÎ»ÖÃ
041C 28             2109             ADD     A,R0                                                    ; 
041D 14             2110             DEC     A                                                       ; AÖ¸Ïò½«Òª¶ÁÈ¡×îºó
                             Ò»¸ö×Ö½Ú
041E FB             2111             MOV     R3,A                                    ;
                    2112             
                    2113             ; PUSH  AR5
041F                2114     SERIAL_RXHARD03_RXLOOP:
041F 30002F   F     2115             JNB     BIT_SERIALOVERTIMERX,SERIAL_RXHARD03_SEARCHSTARTLIMITLESS       ;ÎÞÏÞµÈ´½ÓÊ
                             Õ    
0422 30001F   F     2116             JNB     BIT_SERFIRBYTE,SERIAL_RXHARD03_SECONDBYTE
0425 C200     F     2117             CLR     BIT_SERFIRBYTE
                    2118             
                    2119             ;--- ÏÞÖÆ³¬Ê±²éÑ¯Ê±¼ä ---
0427 C000           2120             PUSH    AR0
0429 7800     F     2121             MOV     R0,#XDATA_SOFTFIRSTSCANTIME
                    2122                     ;MOVX   A,@R0
042B 758301         2123             MOV     DPH,#1
042E 8882           2124             MOV     DPL,R0
0430 E0             2125             MOVX    A,@DPTR
0431 D000           2126             POP     AR0
                    2127             
0433 7C2A           2128             MOV     R4,#42;A
                    2129             ;MOV    R4,#CONST_SOFTFIRSTSCANTIME
0435 7AFF           2130             MOV     R2,#0FFH;127;0FFH;#0FFH
0437 7DFF           2131             MOV     R5,#0FFH;#0FFH
0439                2132     SERIAL_RXHARD03_SERRI:
0439 20981A         2133             JB      RI,SERIAL_RXHARD03_ALREADYRX
043C DDFB           2134             DJNZ    R5,SERIAL_RXHARD03_SERRI                                        ;SERIAL_RXT
                             XINTERRUPT_SERRI     
043E DAF9           2135             DJNZ    R2,SERIAL_RXHARD03_SERRI                                        ;SERIAL_RXT
                             XINTERRUPT_SERRI
0440 DCF7           2136             DJNZ    R4,SERIAL_RXHARD03_SERRI                                        ;SERIAL_RXT
                             XINTERRUPT_SERRI
                    2137             
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    36

                    2138             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~
                    2139             ;call   _FUN_TEST_BEEP
                    2140             ;MOV    A,#34
                    2141             ;JMP    _FUN_TEST_DISPLAY
                    2142             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~    
                    2143             
0442 8031           2144             JMP     SERIAL_RXHARD03_OVER
0444                2145     SERIAL_RXHARD03_SECONDBYTE:
                    2146             
                    2147             ;--- ÓÐÏÞÊ±¼äÄÚËÑË÷´®¿ÚÆðÆôÎ» ---
0444 7C15           2148             MOV     R4,#CONST_HANDSECOND
0446 7AFF           2149             MOV     R2,#0FFH
0448                2150     SERIAL_RXHARD03_SESECONDRRI:
0448 20980B         2151             JB      RI,SERIAL_RXHARD03_ALREADYRX
044B DAFB           2152             DJNZ    R2,SERIAL_RXHARD03_SESECONDRRI                          ;SERIAL_RXTXINTERRU
                             PT_SERRI
044D DCF9           2153             DJNZ    R4,SERIAL_RXHARD03_SESECONDRRI                          ;SERIAL_RXTXINTERRU
                             PT_SERRI     JMP     SERIAL_RXHARD03_OVER
                    2154             
                    2155             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~
                    2156             ;call   _FUN_TEST_BEEP
                    2157             ;MOV    A,#33
                    2158             ;JMP    _FUN_TEST_DISPLAY
                    2159             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~    
044F 8024           2160             JMP     SERIAL_RXHARD03_OVER    
                    2161             
                    2162             ;²»ÏÞÊ±½ÓÊÕÊ¾Ý
0451                2163     SERIAL_RXHARD03_SEARCHSTARTLIMITLESS:
0451 3098FD         2164             JNB     RI,SERIAL_RXHARD03_SEARCHSTARTLIMITLESS
0454 D200     F     2165             SETB    BIT_SERIALOVERTIMERX
                    2166             
0456                2167     SERIAL_RXHARD03_ALREADYRX:;¿ªÊ¼½ÓÊÕ
0456 C298           2168             CLR     RI
0458 E599           2169             MOV     A,SBUF
                    2170     
045A 200003   F     2171             JB      BIT_BUFADDR,SERIAL_RXHARD03_SPACE
045D F6             2172             MOV     @R0,A
045E 8009           2173             JMP     SERIAL_RXHARD03_SPACEOVER
0460                2174     SERIAL_RXHARD03_SPACE:
                    2175                     ;MOVX   @R0,A
0460 758301         2176             MOV     DPH,#1 
0463 8882           2177             MOV     DPL,R0 
0465 F0             2178             MOVX    @DPTR,A         
0466 00             2179             NOP
0467 00             2180             NOP
0468 00             2181             NOP
0469                2182     SERIAL_RXHARD03_SPACEOVER:
                    2183             
0469 EB             2184             MOV     A,R3
046A 6006           2185             JZ      SERIAL_RXHARD03_Continue        ;µ±R3Îª0£¬±íÊ¾£¬½ÓÊÕÊ¾Ý³¤¶È²»È·¶¨£¬¿¿³¬Ê±Íê
                             ³É½ÓÊÕÊ¾Ý            
                    2186             
046C 68             2187             XRL     A,R0
046D 7003           2188             JNZ     SERIAL_RXHARD03_Continue        ;Èç¹ûµ±Ç°ÒÑ¶ÁÂú×Ö½ÚÊ£¬ÔòÍË³ö
                    2189     
046F 08             2190             INC     R0
                    2191             ;---CLR BIT_ISFRX
0470 8003           2192             JMP     SERIAL_RXHARD03_OVER
                    2193             
0472                2194     SERIAL_RXHARD03_Continue:       
                    2195             
                    2196             ;BIT_ISFRX      ---     =0±íÊ¾´®¿ÚµÚÒ»¸ö×Ö½Ú½ÓÊÕ   ;1±íÊ¾µÚÒ»¸ö×Ö½Ú²»½ÓÊÕ       
                    2197             ;JNB    BIT_ISFRX,SERIAL_RXHARD03_ADD
                    2198             ;CLR    BIT_ISFRX
                    2199             ;JMP    SERIAL_RXHARD03_RXLOOP
                    2200             
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    37

                    2201     ;SERIAL_RXHARD03_ADD:
                    2202     
0472 08             2203             INC     R0      
0473 80AA           2204             JMP     SERIAL_RXHARD03_RXLOOP
                    2205             
0475                2206     SERIAL_RXHARD03_OVER:
                    2207             
0475 E8             2208             MOV     A,R0
0476 C3             2209             CLR     C
0477 9F             2210             SUBB    A,R7
0478 FB             2211             MOV     R3,A                                            ;Êµ¼Ê¶ÁÈ¡µÄ×Ö½ÚÊ
                    2212             
0479 C29C           2213             CLR     REN
047B C298           2214             CLR     RI
                    2215             
047D 22             2216             RET
                    2217             
                    2218     
047E                2219     _FUN_SERIAL_RXSOFTRST:;(46,)
047E D200     F     2220             SETB    BIT_SERFIRBYTE                                  ;1 µ±Ç°ÊÇ·ñÕÔÚ¼ìË÷´®¿ÚµÚÒ»¸
                             ö×Ö½Ú=1±íÊ¾ÊÇ   ;=0±íÊ¾²»
                    2221     ;--- ½ÓÊÕÊ¾Ý ---
0480                2222     SERIAL_RXSOFT02_STR:
                    2223     
                    2224             ;---MOV R3,#0                                           ;2      ÉèÖÃ½ÓÊÕÊ¾ÝµÄ³¤¶È
0480 EF             2225             MOV     A,R7                                            ;1      
0481 7800     F     2226             MOV     R0,#XDATA_SoftSerialP                           ;2      ¼ÇÂ¼BUFÆôÊ¼µØÖ·
                    2227                     ;MOVX   @R0,A
0483 758301         2228             MOV     DPH,#1 
0486 8882           2229             MOV     DPL,R0 
0488 F0             2230             MOVX    @DPTR,A                                         ;3
                    2231             
0489 850700         2232             MOV     AR0,AR7                                         ;2
                    2233             ;MOV    R0,A                                            ;2
                    2234                     
048C EB             2235             MOV     A,R3                                            ;2 
048D 6003           2236             JZ      SERIAL_RXSOFT02_STRLOOP                         ;3 Èç¹ûR3=0£¬Ôò²»±ä£¬Èç¹ûR3
                             ²»ÎªÁã£¬Ôòr3Ö¸Ïò½«Òª¶ÁÈ¡³¤¶ÈµÄ×îºóÒ»¸ö×Ö½ÚµÄÎ»ÖÃ
048F 28             2237             ADD     A,R0                                            ;2 
0490 14             2238             DEC     A                                               ;2 AÖ¸Ïò½«Òª¶ÁÈ¡×îºóÒ»¸ö×Ö½
                             Ú
0491 FB             2239             MOV     R3,A                                            ;2
                    2240     
0492                2241     SERIAL_RXSOFT02_STRLOOP:
0492 C000           2242             PUSH    AR0                                             ;4
0494 120000   F     2243             CALL    _FUN_SERIAL_RXSBYTE02                           ;(14,6)
0497 D000           2244             POP     AR0                                             ;3
                    2245             
                    2246             ;ÒÔÏÂ´¦ÀíÊ±¼äÒªÔÚ´®¿ÚµÄ°ë¸öÎ»µÄÊ±¼äÄÚÍê³É 115200 ÊÇ65¸öÖÜÆÚ
0499 D200     F     2247             SETB    BIT_SERIALOVERTIMERX                            ;1      µÚÒ»¸ö×Ö½Ú½ÓÊÕºó¾Í²
                             »ÔÙÎÞÏÞÖÆ½ÓÊÕ
                    2248             
                    2249             ;ÅÐ¶Ï½ÓÊÕÊÇ·ñÕÈ·
049B FA             2250             MOV     R2,A                                            ;3
049C EF             2251             MOV     A,R7                                            ;3      ½«·µ»Ø×´Ì¬ºÍ½ÓÊÕÖµ»
                             ¥»»
049D 6400           2252             XRL     A,#CONST_STATE_TRUE                             ;3
049F 703E           2253             JNZ     SERIAL_RXSOFT02_OVER                            ;3
                    2254             
                    2255             ;³¬³¤´¦Àí       
                    2256                     ;PUSH   AR1                                             ;4
04A1 7900     F     2257             MOV     R1,#XDATA_SoftSerialP                           ;2
                    2258                     ;MOVX   A,@R1
04A3 758301         2259             MOV     DPH,#1
04A6 8982           2260             MOV     DPL,R1
04A8 E0             2261             MOVX    A,@DPTR                                         ;3
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    38

                    2262                     ;POP    AR1                                             ;3      
04A9 850007         2263             MOV     AR7,AR0                                         ;2      
04AC CF             2264             XCH     A,R7                                            ;3
04AD C3             2265             CLR     C                                               ;1
04AE 9F             2266             SUBB    A,R7                                            ;2 ²»ÓÐÓÃr7¼ÇÂ¼
04AF B40000   F     2267             CJNE    A,#CONST_LEN_RXBUF-1,$+3                        ;4
04B2 501C           2268             JNC     SERIAL_RXSOFT02_ACCEPTOVERLEN                   ;3
                    2269     
04B4 EA             2270             MOV     A,R2                                            ;2 ½ÓÊÕµ½µÄÊ¾Ý
                    2271     
                    2272             ;½«½ÓÊÕÊ¾Ý·ÅÈëµ½ÄÚ´æÖÐ
04B5 200003   F     2273             JB      BIT_BUFADDR,SERIAL_RXSOFT02MOVX                 ;4
04B8                2274     SERIAL_RXSOFT02MOV:;½«½ÓÊÕÊ¾Ý·ÅÈëµ½ÄÚ´æÖÐ               
04B8 F6             2275             MOV     @R0,A                                           ;2
04B9 8009           2276             JMP     SERIAL_RXSOFT02MOVOver                          ;4
04BB                2277     SERIAL_RXSOFT02MOVX:;½«½ÓÊÕÊ¾Ý·ÅÈëµ½Íâ´æÖÐ      
                    2278                     ;MOVX   @R0,A
04BB 758301         2279             MOV     DPH,#1 
04BE 8882           2280             MOV     DPL,R0 
04C0 F0             2281             MOVX    @DPTR,A 
04C1 00             2282             NOP                                                     ;1              
04C2 00             2283             NOP                                                     ;1      
04C3 00             2284             NOP                                                     ;1      
04C4                2285     SERIAL_RXSOFT02MOVOver:
                    2286     
                    2287             ;---JNB BIT_ISFRX,SERIAL_RXSOFT02_ADD                   ;4
                    2288             ;---CLR BIT_ISFRX                                       ;1
                    2289             ;---JMP SERIAL_RXSOFT02_STRLOOP                         ;4
04C4                2290     SERIAL_RXSOFT02_ADD:
04C4 EB             2291             MOV     A,R3                                            ;2
04C5 6006           2292             JZ      SERIAL_RXSOFT02_ADDContinue                     ;3
                    2293     
04C7 68             2294             XRL     A,R0                                            ;2
04C8 7003           2295             JNZ     SERIAL_RXSOFT02_ADDContinue                     ;3 Èç¹ûµ±Ç°ÒÑ¶ÁÂú×Ö½ÚÊ£¬ÔòÍ
                             Ë³ö
                    2296     
04CA 08             2297             INC     R0                                              ;3
04CB 8012           2298             JMP     SERIAL_RXSOFT02_OVER                            ;4
04CD                2299     SERIAL_RXSOFT02_ADDContinue:
                    2300     
                    2301             ;---INC R3                                              ;3
04CD 08             2302             INC     R0                                              ;3
04CE 80C2           2303             JMP     SERIAL_RXSOFT02_STRLOOP                         ;4
                    2304     
04D0                2305     SERIAL_RXSOFT02_ACCEPTOVERLEN:
04D0 7F04           2306             MOV     R7,#CONST_STATE_ACCEPTOVERLEN                   ;2
04D2 7B00     F     2307             MOV     R3,#CONST_LEN_RXBUF             
                    2308     
04D4 7800     F     2309             MOV     R0,#XDATA_SoftSerialP
                    2310                     ;MOVX   A,@R0
04D6 758301         2311             MOV     DPH,#1
04D9 8882           2312             MOV     DPL,R0
04DB E0             2313             MOVX    A,@DPTR
04DC 2400     F     2314             ADD     A,#CONST_LEN_RXBUF
04DE F8             2315             MOV     R0,A
04DF                2316     SERIAL_RXSOFT02_OVER:
                    2317     
04DF 7900     F     2318             MOV     R1,#XDATA_SoftSerialP
                    2319                     ;MOVX   A,@R1
04E1 758301         2320             MOV     DPH,#1
04E4 8982           2321             MOV     DPL,R1
04E6 E0             2322             MOVX    A,@DPTR
                    2323     
                    2324             ;MOV    AR7,AR0
04E7 C3             2325             CLR     C
04E8 C8             2326             XCH     A,R0
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    39

04E9 98             2327             SUBB    A,R0
04EA FB             2328             MOV     R3,A                                            ;Êµ¼Ê¶ÁÈ¡µÄ×Ö½ÚÊ
                    2329     
04EB 22             2330             RET     
                    2331     ;//////////////////////////////////////////////////////////////////////////////////////////
                                  
04EC                2332     _FUN_SERIAL_RXSBYTE02:;(14,6)                                                   ;6
                    2333             
                    2334             ;--- ÅÐ¶ÏÒ»¿ªÊ¼Èç¹ûÎª[µÍµçÆ½()]¾Í±¨´í ---
04EC 208305         2335             JB      PIN_ESAM_RX,SERIAL_RXBYTE02_START                                       ;4 
                                  
04EF 7F01           2336             MOV     R7,#CONST_STATE_SERIALACCPET                                    ;2      
04F1 020000   F     2337             JMP     SERIAL_RXBYTE02_OVER                                            ;4      
                    2338             
04F4                2339     SERIAL_RXBYTE02_START:
04F4 30002C   F     2340             JNB     BIT_SERIALOVERTIMERX,SERIAL_RXBYTE02_SEARCHSTARTLIMITLESS               ;ÎÞ
                             ÏÞµÈ´½ÓÊÕ
                    2341             
04F7 30001A   F     2342             JNB     BIT_SERFIRBYTE,SERIAL_RXBYTE02_SECONDBYTE
04FA C200     F     2343             CLR     BIT_SERFIRBYTE  
                    2344             ;--- ÓÐÏÞÊ±¼äÄÚËÑË÷´®¿ÚÆðÆôÎ» ---
                    2345             ;ÔÚ24.576MÏÂ´®¿ÚµÚÒ»¸ö×Ö½ÚÉè¶¨ÎªÒª¼ìË÷100MS = 2456700/(FF*FF) = 38=26H
04FC 7800     F     2346             MOV     R0,#XDATA_SOFTFIRSTSCANTIME
                    2347                     ;MOVX   A,@R0
04FE 758301         2348             MOV     DPH,#1
0501 8882           2349             MOV     DPL,R0
0503 E0             2350             MOVX    A,@DPTR
0504 F8             2351             MOV     R0,A
                    2352             ;MOV    R0,#255
                    2353             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~
                    2354             ;mov    A,#11
                    2355             ;JMP    _FUN_TEST_DISPLAY
                    2356             ;~~~~~~~~~~~~~~~~~~~~~~~~~~~
                    2357             ;MOV    R0,#CONST_SOFTFIRSTSCANTIME                                                
                                          ;                       
0505 79FF           2358             MOV     R1,#0FFH                                                        ;2
0507 7AFF           2359             MOV     R2,#0FFH                                                        ;2         
                                          
0509                2360     SERIAL_RXBYTE02_SEARCHSTARTLIMITE:                                              
0509 30831A         2361             JNB     PIN_ESAM_RX,SERIAL_RXBYTE02_BYTE                                        ;4 
                                                  
050C DAFB           2362             DJNZ    R2,SERIAL_RXBYTE02_SEARCHSTARTLIMITE                            ;4         
                                                  
050E D9F9           2363             DJNZ    R1,SERIAL_RXBYTE02_SEARCHSTARTLIMITE                            ;4         
                                          
0510 D8F7           2364             DJNZ    R0,SERIAL_RXBYTE02_SEARCHSTARTLIMITE                            ;4      
                    2365             ;~~~~~~~~~~~~~~~~~~~~~~~
                    2366             ;CALL   _FUN_TEST_BEEP
                    2367             ;~~~~~~~~~~~~~~~~~~~~~~~        
0512 800B           2368             JMP     SERIAL_RXBYTE02_STARTOVERTIME   
                    2369             
0514                2370     SERIAL_RXBYTE02_SECONDBYTE:
                    2371             ;--- ÓÐÏÞÊ±¼äÄÚËÑË÷´®¿ÚÆðÆôÎ» ---
0514 7803           2372             MOV     R0,#3                                           ;2                      
0516 79FF           2373             MOV     R1,#0FFH                                                        ;2
0518                2374     SERIAL_RXBYTE02_SEARCHSECONDLIMITE:                                             
0518 30830B         2375             JNB     PIN_ESAM_RX,SERIAL_RXBYTE02_BYTE                                        ;4 
                                                  
051B D9FB           2376             DJNZ    R1,SERIAL_RXBYTE02_SEARCHSECONDLIMITE                           ;4         
                                          
051D D8F9           2377             DJNZ    R0,SERIAL_RXBYTE02_SEARCHSECONDLIMITE                           ;4         
                                          
                    2378             
                    2379             ;~~~~~~~~~~~~~~~~~~~~~~~
                    2380             ;CALL   _FUN_TEST_BEEP
                    2381             ;~~~~~~~~~~~~~~~~~~~~~~~
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    40

                    2382     
051F                2383     SERIAL_RXBYTE02_STARTOVERTIME:                                                  
051F 7F02           2384             MOV     R7,#CONST_STATE_SERIALOVERTIME                                  ;2´®¿Ú½ÓÊÕ³
                             ¬Ê±  
0521 806A           2385             JMP     SERIAL_RXBYTE02_OVER                                            ;4
                    2386     
                    2387             ;--- ÓÐÏÞÊ±¼äÄÚËÑË÷´®¿ÚÆðÆôÎ» ---                                       
0523                2388     SERIAL_RXBYTE02_SEARCHSTARTLIMITLESS:
0523 2083FD         2389             JB      PIN_ESAM_RX,SERIAL_RXBYTE02_SEARCHSTARTLIMITLESS                        ;4 
                              ;ÎÞÏÞµÈ´½ÓÊÕ
                    2390     
                    2391             ;--- ¿ªÊ¼½ÓÊÕÊ¾Ý ---
0526                2392     SERIAL_RXBYTE02_BYTE:;4
                    2393             ;---CALL        _FUN_SERIAL_BITSPACEHALF_12                             ;ÑÓÊ±°ëÎ»
0526 120000   F     2394             CALL    _FUN_LIB_DELAY52                                                ;64-12=52
0529 00             2395             NOP                                                                     ;1
052A 00             2396             NOP                                                                     ;1
052B 308305         2397             JNB     PIN_ESAM_RX,SERIAL_RXBYTE02_ACCEPTBYTE                          ;4ÎªµÍÔò¼ÌÐ
                             øÖ´ÐÐ£¬Îª¸ßÔò±¨´í
                    2398     ;-------
052E 7F03           2399             MOV     R7,#CONST_STATE_ACCEPTOVER                                      ;2 ½ÓÊÕ³ö´í
                    2400             
0530 00             2401             NOP                                                                     ;1
0531 805A           2402             JMP     SERIAL_RXBYTE02_OVER                                            ;4 ÍË³ö½ÓÊÕ
                             ³ÌÐò
                    2403             
0533                2404     SERIAL_RXBYTE02_ACCEPTBYTE:                                                     ;
0533 7480           2405             MOV     A,#80H                                                          ;2
0535 00             2406             NOP                                                                     ;1
0536 00             2407             NOP                                                                     ;1
0537                2408     SERIAL_RXBYTE02_ACCEPTBYTELOOP:
                    2409             ;---CALL        _FUN_SERIAL_BITSPACEFULL_8                              ;ÑÓÊ±Ò»Î»  
                                  
0537 120000   F     2410             CALL    _FUN_LIB_DELAY119                                               ;127-8=119 
                                  
                    2411             
053A 00             2412             NOP                                                                     ;1      
053B A283           2413             MOV     C,PIN_ESAM_RX                                                   ;3
                    2414     ;-------
053D 13             2415             RRC     A                                                               ;1
053E 50F7           2416             JNC     SERIAL_RXBYTE02_ACCEPTBYTELOOP                                  ;3
                    2417     
                    2418             ;--- ÊÇ·ñÓÐ¼ìÑéÎ» ---
0540 300032   F     2419             JNB     BIT_VERIFY,SERIAL_RXBYTE02_STOP                                 ;4
                    2420             ;---CALL        _FUN_SERIAL_BITSPACEFULL_12                             ;ÑÓÊ±Ò»Î»
0543 120000   F     2421             CALL    _FUN_LIB_DELAY113                                               ;127-13=114
                                          
0546 00             2422             NOP                                                                     ;1
0547 00             2423             NOP     
0548 A283           2424             MOV     C,PIN_ESAM_RX                                                   ;3
                    2425     ;-------
054A 20D007         2426             JB      P,SERIAL_RXBYTE02_VERIFY                                                ;4 
                                  
                    2427     ;P = Low
054D 92D0           2428             MOV     P,C                                                             ;2
054F 20D00B         2429             JB      P,SERIAL_RXBYTE02_VERIFYER                                      ;4
0552 800D           2430             JMP     SERIAL_RXBYTE02_STOPVERIFY                                      ;4
0554                2431     SERIAL_RXBYTE02_VERIFY:
                    2432     ;P = High
0554 92D0           2433             MOV     P,C     
                    2434             
0556 00             2435             NOP
0557 00             2436             NOP
0558 00             2437             NOP
0559 00             2438             NOP
                    2439             
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    41

055A 20D004         2440             JB      P,SERIAL_RXBYTE02_STOPVERIFY                                    ;4      
                    2441             
                    2442             ;½ÓÊÕµ½µÄ¼ìÑéÎ»³ö´í
055D                2443     SERIAL_RXBYTE02_VERIFYER:               
                    2444             ;---CALL        _FUN_SERIAL_BITSPACEFULL_12                             ;ÑÓÊ±Ò»Î»
                    2445             ;---CALL        _FUN_LIB_DELAY115                                               ;12
                             7-12=115                     
                    2446             ;---JB  PIN_ESAM_RX,SERIAL_RXBYTE02_SUCCEED                             ;4      ÅÐ¶
                             ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß
                    2447             ;---JMP SERIAL_RXBYTE02_STOPER                                          ;4
055D 7F01           2448             MOV     R7,#CONST_STATE_SERIALACCPET
055F 802C           2449             JMP     SERIAL_RXBYTE02_OVER    
                    2450     
                    2451             ;½ÓÊÕµ½µÄ¼ìÑéÎ»³É¹¦
0561                2452     SERIAL_RXBYTE02_STOPVERIFY:
                    2453             ;---CALL        _FUN_SERIAL_BITSPACEFULL_20                             ;ÑÓÊ±Ò»Î»
                    2454             ;ÅÐ¶ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß
                    2455             ;---CALL        _FUN_LIB_DELAY107                                       ;127-20=107
                                                  
0561 120000   F     2456             CALL    _FUN_LIB_DELAY54
0564 208324         2457             JB      PIN_ESAM_RX,SERIAL_RXBYTE02_SUCCEED                             ;4      ÅÐ¶
                             ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß      
0567 120000   F     2458             CALL    _FUN_LIB_DELAY20
056A 20831E         2459             JB      PIN_ESAM_RX,SERIAL_RXBYTE02_SUCCEED                             ;4      ÅÐ¶
                             ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß
056D 120000   F     2460             CALL    _FUN_LIB_DELAY20
0570 208318         2461             JB      PIN_ESAM_RX,SERIAL_RXBYTE02_SUCCEED                             ;4      ÅÐ¶
                             ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß
0573 8012           2462             JMP     SERIAL_RXBYTE02_STOPER
                    2463     
                    2464             ;ÎÞ¼ìÑé·µ»Ø
0575                2465     SERIAL_RXBYTE02_STOP:
                    2466             ;---CALL        _FUN_SERIAL_BITSPACEFULL_12                             ;ÑÓÊ±Ò»Î»
                    2467             ;CALL   _FUN_LIB_DELAY115                                               ;127-12=115
                                  
                    2468             ;ÎªÁË¸øÉÏ²ãµ÷ÓÃÁôÏÂ×ã¹»µÄÊ±¼ä£¬Í£Ö¹Î»²ÉÑùµã£¬ÉèÔÚÍ£Ö¹Î»ÆðÆôÔÚ10¸öÖÜÆÚ
                    2469             ; 64-12+10=62 
0575 120000   F     2470             CALL    _FUN_LIB_DELAY62
                    2471             ;CALL   _FUN_LIB_DELAY53
0578 208310         2472             JB      PIN_ESAM_RX,SERIAL_RXBYTE02_SUCCEED                             ;4      ÅÐ¶
                             ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß
057B 120000   F     2473             CALL    _FUN_LIB_DELAY20
057E 20830A         2474             JB      PIN_ESAM_RX,SERIAL_RXBYTE02_SUCCEED                             ;4      ÅÐ¶
                             ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß
0581 120000   F     2475             CALL    _FUN_LIB_DELAY20
0584 208304         2476             JB      PIN_ESAM_RX,SERIAL_RXBYTE02_SUCCEED                             ;4      ÅÐ¶
                             ÏÍ£Ö¹Î»ÊÇ·ñÎª¸ß
                    2477     ;-------        
0587                2478     SERIAL_RXBYTE02_STOPER:
0587 7F01           2479             MOV     R7,#CONST_STATE_SERIALACCPET                                    ;2
0589 8002           2480             JMP     SERIAL_RXBYTE02_OVER                                            ;4
                    2481             
058B                2482     SERIAL_RXBYTE02_SUCCEED:                                                                ;
                    2483     ;       CALL    _FUN_SERIAL_BITSPACEHALF_44                                     ;       ÑÓÊ
                             ±°ëÎ»
058B 7F00           2484             MOV     R7,#CONST_STATE_TRUE                                            ;2
058D                2485     SERIAL_RXBYTE02_OVER:   
058D FD             2486             MOV     R5,A                                                    ;
                    2487     
058E 22             2488             RET     
                    2489             END
                             
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    42

SYMBOL TABLE LISTING
------ ----- -------


N A M E                               T Y P E  V A L U E   ATTRIBUTES

?PR?SERIAL?MATER . . . . . . . . . .  C SEG    058FH       REL=UNIT
ACC. . . . . . . . . . . . . . . . .  D ADDR   00E0H   A   
AR0. . . . . . . . . . . . . . . . .  D ADDR   0000H   A   
AR7. . . . . . . . . . . . . . . . .  D ADDR   0007H   A   
BIT_9600 . . . . . . . . . . . . . .  B ADDR   -----       EXT
BIT_BUFADDR. . . . . . . . . . . . .  B ADDR   -----       EXT
BIT_ESAMICC. . . . . . . . . . . . .  B ADDR   -----       EXT
BIT_FIRSTTX. . . . . . . . . . . . .  B ADDR   -----       EXT
BIT_HARDFLAG . . . . . . . . . . . .  B ADDR   -----       EXT
BIT_ISFRX. . . . . . . . . . . . . .  B ADDR   -----       EXT
BIT_SERFIRBYTE . . . . . . . . . . .  B ADDR   -----       EXT
BIT_SERIALOVERTIMERX . . . . . . . .  B ADDR   -----       EXT
BIT_VERIFY . . . . . . . . . . . . .  B ADDR   -----       EXT
BRT. . . . . . . . . . . . . . . . .  N NUMB   009CH   A   
BUSY . . . . . . . . . . . . . . . .  B ADDR   0020H.0 A   
CCAP0H . . . . . . . . . . . . . . .  N NUMB   00FAH   A   
CCAP0L . . . . . . . . . . . . . . .  N NUMB   00EAH   A   
CCAP1H . . . . . . . . . . . . . . .  N NUMB   00FBH   A   
CCAP1L . . . . . . . . . . . . . . .  N NUMB   00EBH   A   
CCAP2H . . . . . . . . . . . . . . .  N NUMB   00FCH   A   
CCAP2L . . . . . . . . . . . . . . .  N NUMB   00ECH   A   
CCAP3H . . . . . . . . . . . . . . .  N NUMB   00FDH   A   
CCAP3L . . . . . . . . . . . . . . .  N NUMB   00EDH   A   
CCAP4H . . . . . . . . . . . . . . .  N NUMB   00FEH   A   
CCAP4L . . . . . . . . . . . . . . .  N NUMB   00EEH   A   
CCAP5H . . . . . . . . . . . . . . .  N NUMB   00FFH   A   
CCAP5L . . . . . . . . . . . . . . .  N NUMB   00EFH   A   
CCAPM0 . . . . . . . . . . . . . . .  N NUMB   00DAH   A   
CCAPM1 . . . . . . . . . . . . . . .  N NUMB   00DBH   A   
CCAPM2 . . . . . . . . . . . . . . .  N NUMB   00DCH   A   
CCAPM3 . . . . . . . . . . . . . . .  N NUMB   00DDH   A   
CCAPM4 . . . . . . . . . . . . . . .  N NUMB   00DEH   A   
CCAPM5 . . . . . . . . . . . . . . .  N NUMB   00DFH   A   
CCF0 . . . . . . . . . . . . . . . .  B ADDR   00D8H.0 A   
CCF1 . . . . . . . . . . . . . . . .  B ADDR   00D8H.1 A   
CCF2 . . . . . . . . . . . . . . . .  B ADDR   00D8H.2 A   
CCF3 . . . . . . . . . . . . . . . .  B ADDR   00D8H.3 A   
CCF4 . . . . . . . . . . . . . . . .  B ADDR   00D8H.4 A   
CCF5 . . . . . . . . . . . . . . . .  B ADDR   00D8H.5 A   
CCON . . . . . . . . . . . . . . . .  N NUMB   00D8H   A   
CF . . . . . . . . . . . . . . . . .  B ADDR   00D8H.7 A   
CH . . . . . . . . . . . . . . . . .  N NUMB   00F9H   A   
CL . . . . . . . . . . . . . . . . .  N NUMB   00E9H   A   
CMOD . . . . . . . . . . . . . . . .  N NUMB   00D9H   A   
CONST_ACTIONTYPE_GETRAND . . . . . .  N NUMB   0002H   A   
CONST_ACTIONTYPE_GETSECURE . . . . .  N NUMB   0000H   A   
CONST_ACTIONTYPE_SETMMI. . . . . . .  N NUMB   0004H   A   
CONST_ACTIONTYPE_SETSECURE . . . . .  N NUMB   0001H   A   
CONST_ACTIONTYPE_TRANSFERCHANNEL . .  N NUMB   0003H   A   
CONST_ACT_H. . . . . . . . . . . . .  N NUMB   0003H   A   
CONST_ACT_H_H. . . . . . . . . . . .  N NUMB   0001H   A   
CONST_ACT_H_L. . . . . . . . . . . .  N NUMB   0000H   A   
CONST_ACT_L. . . . . . . . . . . . .  N NUMB   0001H   A   
CONST_ACT_L_H. . . . . . . . . . . .  N NUMB   0006H   A   
CONST_ACT_L_L. . . . . . . . . . . .  N NUMB   000AH   A   
CONST_ACT_M. . . . . . . . . . . . .  N NUMB   0002H   A   
CONST_ACT_M_H. . . . . . . . . . . .  N NUMB   0000H   A   
CONST_ACT_M_L. . . . . . . . . . . .  N NUMB   0006H   A   
CONST_ACT_V. . . . . . . . . . . . .  N NUMB   0002H   A   
CONST_BAUD_115200. . . . . . . . . .  N NUMB   0002H   A   
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    43

CONST_BAUD_115200PC. . . . . . . . .  N NUMB   0003H   A   
CONST_BAUD_230000. . . . . . . . . .  N NUMB   0004H   A   
CONST_BAUD_38400 . . . . . . . . . .  N NUMB   0001H   A   
CONST_BAUD_38400PC . . . . . . . . .  N NUMB   0005H   A   
CONST_BAUD_9600. . . . . . . . . . .  N NUMB   0000H   A   
CONST_BAUD_9600PC. . . . . . . . . .  N NUMB   0006H   A   
CONST_BAUD_BITFULL12 . . . . . . . .  N NUMB   000CH   A   
CONST_BAUD_BITFULL20 . . . . . . . .  N NUMB   000EH   A   
CONST_BAUD_BITFULL28 . . . . . . . .  N NUMB   0010H   A   
CONST_BAUD_BITFULL8. . . . . . . . .  N NUMB   000BH   A   
CONST_BAUD_BITHALF12 . . . . . . . .  N NUMB   000CH   A   
CONST_BAUD_CURRENTBITFULL. . . . . .  N NUMB   00B3H   A   
CONST_BAUD_CURRENTBITHALF. . . . . .  N NUMB   0058H   A   
CONST_BAUD_FULL115200. . . . . . . .  N NUMB   001DH   A   
CONST_BAUD_FULL230000. . . . . . . .  N NUMB   000FH   A   
CONST_BAUD_FULL38400 . . . . . . . .  N NUMB   005DH   A   
CONST_BAUD_FULL9600. . . . . . . . .  N NUMB   00B3H   A   
CONST_BAUD_HALF115200. . . . . . . .  N NUMB   000DH   A   
CONST_BAUD_HALF230000. . . . . . . .  N NUMB   0008H   A   
CONST_BAUD_HALF38400 . . . . . . . .  N NUMB   002DH   A   
CONST_BAUD_HALF9600. . . . . . . . .  N NUMB   0058H   A   
CONST_BAUD_HAND115200. . . . . . . .  N NUMB   00F8H   A   
CONST_BAUD_HAND115200PC. . . . . . .  N NUMB   00F3H   A   
CONST_BAUD_HAND230000. . . . . . . .  N NUMB   00FCH   A   
CONST_BAUD_HAND38400 . . . . . . . .  N NUMB   00E9H   A   
CONST_BAUD_HAND38400PC . . . . . . .  N NUMB   00D8H   A   
CONST_BAUD_HAND9600. . . . . . . . .  N NUMB   00A3H   A   
CONST_BAUD_HAND9600PC. . . . . . . .  N NUMB   0060H   A   
CONST_BLACK_H. . . . . . . . . . . .  N NUMB   00FFH   A   
CONST_BLACK_L. . . . . . . . . . . .  N NUMB   00FFH   A   
CONST_BSTLIMIT . . . . . . . . . . .  N NUMB   0008H   A   
CONST_BSTLIMIT02 . . . . . . . . . .  N NUMB   0064H   A   
CONST_CARD_CONSUME . . . . . . . . .  N NUMB   0016H   A   
CONST_CARD_PASS. . . . . . . . . . .  N NUMB   0017H   A   
CONST_CELLFILE_H . . . . . . . . . .  N NUMB   0000H   A   
CONST_CELLFILE_L . . . . . . . . . .  N NUMB   0009H   A   
CONST_DATA_VALUE1. . . . . . . . . .  N NUMB   000FH   A   
CONST_DATA_VALUE2. . . . . . . . . .  N NUMB   00DEH   A   
CONST_DSRC_ACTION. . . . . . . . . .  N NUMB   0007H   A   
CONST_DSRC_ACTIONTYPE. . . . . . . .  N NUMB   0009H   A   
CONST_DSRC_CHANNELIDICC. . . . . . .  N NUMB   0001H   A   
CONST_DSRC_CHANNELIDSAM. . . . . . .  N NUMB   0002H   A   
CONST_DSRC_CONTAIN . . . . . . . . .  N NUMB   000AH   A   
CONST_DSRC_DID . . . . . . . . . . .  N NUMB   0008H   A   
CONST_DSRC_FILDIDAPPKEY. . . . . . .  N NUMB   0000H   A   
CONST_DSRC_FILDIDCONSUME . . . . . .  N NUMB   0002H   A   
CONST_DSRC_FILDIDHOLD. . . . . . . .  N NUMB   0003H   A   
CONST_DSRC_FILDIDVEHICLE . . . . . .  N NUMB   0001H   A   
CONST_DSRC_FILL. . . . . . . . . . .  N NUMB   000BH   A   
CONST_DSRC_HEAD. . . . . . . . . . .  N NUMB   0006H   A   
CONST_DSRC_LLCCTRL . . . . . . . . .  N NUMB   0005H   A   
CONST_DSRC_MACCTRL . . . . . . . . .  N NUMB   0004H   A   
CONST_ESAMCELLFILE_H . . . . . . . .  N NUMB   00EFH   A   
CONST_ESAMCELLFILE_L . . . . . . . .  N NUMB   0007H   A   
CONST_ETC_INPUT. . . . . . . . . . .  N NUMB   0003H   A   
CONST_FALSH_POWERH . . . . . . . . .  N NUMB   0072H   A   
CONST_FALSH_POWERL . . . . . . . . .  N NUMB   00F7H   A   
CONST_FALSH_PREFLAG02H . . . . . . .  N NUMB   0072H   A   
CONST_FALSH_PREFLAG02L . . . . . . .  N NUMB   00F5H   A   
CONST_FALSH_PREFLAG03H . . . . . . .  N NUMB   0072H   A   
CONST_FALSH_PREFLAG03L . . . . . . .  N NUMB   00F6H   A   
CONST_FALSH_PREFLAGH . . . . . . . .  N NUMB   0072H   A   
CONST_FALSH_PREFLAGL . . . . . . . .  N NUMB   00F4H   A   
CONST_FALSH_PREFLAGLEN . . . . . . .  N NUMB   0001H   A   
CONST_FLAG_INPUT . . . . . . . . . .  N NUMB   0000H   A   
CONST_FLAG_OUTPUT. . . . . . . . . .  N NUMB   0001H   A   
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    44

CONST_FLASH_0002H. . . . . . . . . .  N NUMB   0072H   A   
CONST_FLASH_0002L. . . . . . . . . .  N NUMB   0058H   A   
CONST_FLASH_0002LEN. . . . . . . . .  N NUMB   0004H   A   
CONST_FLASH_0012H. . . . . . . . . .  N NUMB   0072H   A   
CONST_FLASH_0012L. . . . . . . . . .  N NUMB   005CH   A   
CONST_FLASH_0012LEN. . . . . . . . .  N NUMB   0028H   A   
CONST_FLASH_0015H. . . . . . . . . .  N NUMB   0072H   A   
CONST_FLASH_0015L. . . . . . . . . .  N NUMB   0084H   A   
CONST_FLASH_0015LEN. . . . . . . . .  N NUMB   002BH   A   
CONST_FLASH_0019GBLEN. . . . . . . .  N NUMB   002BH   A   
CONST_FLASH_0019H. . . . . . . . . .  N NUMB   0072H   A   
CONST_FLASH_0019L. . . . . . . . . .  N NUMB   00AFH   A   
CONST_FLASH_0019LEN. . . . . . . . .  N NUMB   003CH   A   
CONST_FLASH_BEACONIDUNIXTIMEH. . . .  N NUMB   0072H   A   
CONST_FLASH_BEACONIDUNIXTIMEL. . . .  N NUMB   00ECH   A   
CONST_FLASH_BEACONIDUNIXTIMELEN. . .  N NUMB   0008H   A   
CONST_FLASH_BLOCK01. . . . . . . . .  N NUMB   0072H   A   
CONST_FLASH_CARDTYPELEN. . . . . . .  N NUMB   0001H   A   
CONST_FLASH_FILELEN. . . . . . . . .  N NUMB   00ECH   A   
CONST_FLASH_LASTCARDH. . . . . . . .  N NUMB   0072H   A   
CONST_FLASH_LASTCARDL. . . . . . . .  N NUMB   00EBH   A   
CONST_FLASH_STARTHIGH. . . . . . . .  N NUMB   0072H   A   
CONST_FLASH_STARTLOW . . . . . . . .  N NUMB   0000H   A   
CONST_FLASH_SYS0020H . . . . . . . .  N NUMB   006CH   A   
CONST_FLASH_SYS0020L . . . . . . . .  N NUMB   0000H   A   
CONST_FLASH_SYS0020NUMH. . . . . . .  N NUMB   006AH   A   
CONST_FLASH_SYS0020NUML. . . . . . .  N NUMB   0000H   A   
CONST_FLASH_SYSINFOH . . . . . . . .  N NUMB   0072H   A   
CONST_FLASH_SYSINFOL . . . . . . . .  N NUMB   0000H   A   
CONST_FLASH_SYSINFOLEN . . . . . . .  N NUMB   0058H   A   
CONST_GDO2_MCSM2 . . . . . . . . . .  N NUMB   0002H   A   
CONST_GDO2_VALUE . . . . . . . . . .  N NUMB   0046H   A   
CONST_GSM_MAXNUM . . . . . . . . . .  N NUMB   00F0H   A   
CONST_GSM_NUM. . . . . . . . . . . .  N NUMB   0008H   A   
CONST_GSM_PJNUM. . . . . . . . . . .  N NUMB   0014H   A   
CONST_HANDSECOND . . . . . . . . . .  N NUMB   0015H   A   
CONST_HOLD_5823RX. . . . . . . . . .  N NUMB   0000H   A   
CONST_HOLD_5823TX. . . . . . . . . .  N NUMB   0001H   A   
CONST_INPUT_ISENABLE . . . . . . . .  N NUMB   0001H   A   
CONST_LEN_RXBUF. . . . . . . . . . .  C ADDR   -----       EXT
CONST_LEN_TXBUF. . . . . . . . . . .  C ADDR   -----       EXT
CONST_LHX_FLAG . . . . . . . . . . .  N NUMB   0002H   A   
CONST_MAX_RXNUM. . . . . . . . . . .  N NUMB   0005H   A   
CONST_MCU_WKCTH. . . . . . . . . . .  N NUMB   0008H   A   
CONST_MCU_WKCTL. . . . . . . . . . .  N NUMB   00FFH   A   
CONST_MF_DECREMENT . . . . . . . . .  N NUMB   0002H   A   
CONST_MF_INCREMENT . . . . . . . . .  N NUMB   0003H   A   
CONST_MF_RC500DECREMENT. . . . . . .  N NUMB   00C0H   A   
CONST_MF_RC500INCREMENT. . . . . . .  N NUMB   00C1H   A   
CONST_MF_READ. . . . . . . . . . . .  N NUMB   0000H   A   
CONST_MF_RESTOR. . . . . . . . . . .  N NUMB   0004H   A   
CONST_MF_WRITE . . . . . . . . . . .  N NUMB   0001H   A   
CONST_MTC_INPUT. . . . . . . . . . .  N NUMB   0001H   A   
CONST_PPS_115200 . . . . . . . . . .  N NUMB   0018H   A   
CONST_PPS_230000 . . . . . . . . . .  N NUMB   0096H   A   
CONST_PPS_38400. . . . . . . . . . .  N NUMB   0013H   A   
CONST_PPS_9600 . . . . . . . . . . .  N NUMB   0010H   A   
CONST_PRO_OVERTIME2S . . . . . . . .  N NUMB   00FAH   A   
CONST_RTCOVERFLOW. . . . . . . . . .  N NUMB   0090H   A   
CONST_RTC_OFF. . . . . . . . . . . .  N NUMB   00FFH   A   
CONST_RTC_ON . . . . . . . . . . . .  N NUMB   0055H   A   
CONST_SOF. . . . . . . . . . . . . .  N NUMB   0000H   A   
CONST_SOFTBYTESP . . . . . . . . . .  N NUMB   0014H   A   
CONST_SOFTFIRSTSCANTIME. . . . . . .  N NUMB   0010H   A   
CONST_SOFTFIRSTSCANTIMEXX. . . . . .  N NUMB   00FFH   A   
CONST_SOFTSECOND . . . . . . . . . .  N NUMB   0070H   A   
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    45

CONST_SSRC_FID . . . . . . . . . . .  N NUMB   000CH   A   
CONST_STATE_5823INIER. . . . . . . .  N NUMB   0007H   A   
CONST_STATE_5823SLEEPER. . . . . . .  N NUMB   0008H   A   
CONST_STATE_ACCEPTOVER . . . . . . .  N NUMB   0003H   A   
CONST_STATE_ACCEPTOVERLEN. . . . . .  N NUMB   0004H   A   
CONST_STATE_ACTCARDINVALID . . . . .  N NUMB   0006H   A   
CONST_STATE_ACTIVEFAIL . . . . . . .  N NUMB   0004H   A   
CONST_STATE_AUTHER . . . . . . . . .  N NUMB   0006H   A   
CONST_STATE_BASE01ANTICOLL . . . . .  N NUMB   001DH   A   
CONST_STATE_BASE01CONTACT. . . . . .  N NUMB   0015H   A   
CONST_STATE_BASE01ESAMDF01 . . . . .  N NUMB   0014H   A   
CONST_STATE_BASE01RATS . . . . . . .  N NUMB   001FH   A   
CONST_STATE_BASE01RE . . . . . . . .  N NUMB   001CH   A   
CONST_STATE_BASE01SEL. . . . . . . .  N NUMB   001EH   A   
CONST_STATE_BASE02ANTICOLL . . . . .  N NUMB   0019H   A   
CONST_STATE_BASE02CONTACT. . . . . .  N NUMB   0016H   A   
CONST_STATE_BASE02RATS . . . . . . .  N NUMB   001BH   A   
CONST_STATE_BASE02RE . . . . . . . .  N NUMB   0018H   A   
CONST_STATE_BASE02SEL. . . . . . . .  N NUMB   001AH   A   
CONST_STATE_BASEESAMDF01 . . . . . .  N NUMB   000BH   A   
CONST_STATE_BASEN01INIT. . . . . . .  N NUMB   0013H   A   
CONST_STATE_BASENINIT. . . . . . . .  N NUMB   000AH   A   
CONST_STATE_CARDPREDEAL0002. . . . .  N NUMB   000DH   A   
CONST_STATE_CARDPREDEAL0012. . . . .  N NUMB   000EH   A   
CONST_STATE_CARDPREDEAL0015. . . . .  N NUMB   000FH   A   
CONST_STATE_CARDPREDEAL0019. . . . .  N NUMB   0010H   A   
CONST_STATE_CARDPREDEAL1001. . . . .  N NUMB   000CH   A   
CONST_STATE_CARDPREDEAL3F00. . . . .  N NUMB   0011H   A   
CONST_STATE_CARDPREDEAL81. . . . . .  N NUMB   0012H   A   
CONST_STATE_EXMEMORYER . . . . . . .  N NUMB   0021H   A   
CONST_STATE_EXMEMORYER02 . . . . . .  N NUMB   0022H   A   
CONST_STATE_FALSE. . . . . . . . . .  N NUMB   00FFH   A   
CONST_STATE_GETSECURESELFILEER . . .  N NUMB   0009H   A   
CONST_STATE_ILLEGALACTCARD . . . . .  N NUMB   0005H   A   
CONST_STATE_ILLEGALINPUTCARD . . . .  N NUMB   0002H   A   
CONST_STATE_INPUTCARDINVALID . . . .  N NUMB   0003H   A   
CONST_STATE_INPUTFAIL. . . . . . . .  N NUMB   0001H   A   
CONST_STATE_MEMORYER . . . . . . . .  N NUMB   0020H   A   
CONST_STATE_RSTCPUER . . . . . . . .  N NUMB   0005H   A   
CONST_STATE_SERIALACCPET . . . . . .  N NUMB   0001H   A   
CONST_STATE_SERIALOVERTIME . . . . .  N NUMB   0002H   A   
CONST_STATE_TEST . . . . . . . . . .  N NUMB   0017H   A   
CONST_STATE_TRUE . . . . . . . . . .  N NUMB   0000H   A   
CONST_SYS_55 . . . . . . . . . . . .  N NUMB   0055H   A   
CONST_SYS_AA . . . . . . . . . . . .  N NUMB   00AAH   A   
CONST_SYS_OBUIDLEN . . . . . . . . .  N NUMB   0004H   A   
CONST_SYS_POWERONTIMER . . . . . . .  N NUMB   000AH   A   
CONST_SYS_PREFLAG. . . . . . . . . .  N NUMB   0088H   A   
CONST_SYS_RTCOVERTIME. . . . . . . .  N NUMB   0064H   A   
CONST_SYS_TRADECONFINE . . . . . . .  N NUMB   00FFH   A   
CONST_TIMEER02 . . . . . . . . . . .  N NUMB   0001H   A   
CONST_TIMEER03 . . . . . . . . . . .  N NUMB   00FEH   A   
CONST_TIMEER04 . . . . . . . . . . .  N NUMB   0001H   A   
CONST_VSTLIMIT . . . . . . . . . . .  N NUMB   00FFH   A   
CONST_WHITE_H. . . . . . . . . . . .  N NUMB   0000H   A   
CONST_WHITE_L. . . . . . . . . . . .  N NUMB   0031H   A   
CONST_WORKSTAION_0 . . . . . . . . .  N NUMB   0000H   A   
CONST_WORKSTAION_1 . . . . . . . . .  N NUMB   0001H   A   
CONST_WORKSTAION_2 . . . . . . . . .  N NUMB   0002H   A   
CONST_WORKSTAION_3 . . . . . . . . .  N NUMB   0003H   A   
CR . . . . . . . . . . . . . . . . .  B ADDR   00D8H.6 A   
DATA_POWERONTIMER. . . . . . . . . .  D ADDR   -----       EXT
DATA_RXBUF . . . . . . . . . . . . .  D ADDR   -----       EXT
DATA_VARBAUDFULL . . . . . . . . . .  D ADDR   -----       EXT
DATA_VARBAUDHALF . . . . . . . . . .  D ADDR   -----       EXT
DPH. . . . . . . . . . . . . . . . .  D ADDR   0083H   A   
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    46

DPL. . . . . . . . . . . . . . . . .  D ADDR   0082H   A   
EPCAI. . . . . . . . . . . . . . . .  B ADDR   00A8H.6 A   
EPCA_LVD . . . . . . . . . . . . . .  B ADDR   00A8H.6 A   
ET0. . . . . . . . . . . . . . . . .  B ADDR   00A8H.1 A   
IE . . . . . . . . . . . . . . . . .  D ADDR   00A8H   A   
IE2. . . . . . . . . . . . . . . . .  N NUMB   00AFH   A   
IPH. . . . . . . . . . . . . . . . .  N NUMB   00B7H   A   
ISP_CONTR. . . . . . . . . . . . . .  N NUMB   00C7H   A   
P. . . . . . . . . . . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . . . . . . . . . . .  D ADDR   0080H   A   
P1 . . . . . . . . . . . . . . . . .  D ADDR   0090H   A   
P2 . . . . . . . . . . . . . . . . .  D ADDR   00A0H   A   
P3 . . . . . . . . . . . . . . . . .  D ADDR   00B0H   A   
P4 . . . . . . . . . . . . . . . . .  N NUMB   00C0H   A   
PCA_PWM0 . . . . . . . . . . . . . .  N NUMB   00F2H   A   
PCA_PWM1 . . . . . . . . . . . . . .  N NUMB   00F3H   A   
PCA_PWM2 . . . . . . . . . . . . . .  N NUMB   00F4H   A   
PCA_PWM3 . . . . . . . . . . . . . .  N NUMB   00F5H   A   
PCA_PWM4 . . . . . . . . . . . . . .  N NUMB   00F6H   A   
PCA_PWM5 . . . . . . . . . . . . . .  N NUMB   00F7H   A   
PCON . . . . . . . . . . . . . . . .  D ADDR   0087H   A   
PIN_522_MISO . . . . . . . . . . . .  B ADDR   00C0H.1 A   
PIN_522_MOSI . . . . . . . . . . . .  B ADDR   00C0H.6 A   
PIN_522_RST. . . . . . . . . . . . .  B ADDR   0080H.4 A   
PIN_522_SCLK . . . . . . . . . . . .  B ADDR   0080H.7 A   
PIN_522_SS . . . . . . . . . . . . .  B ADDR   0080H.6 A   
PIN_5823BK_CS. . . . . . . . . . . .  B ADDR   0090H.0 A   
PIN_5823BK_IRQ . . . . . . . . . . .  B ADDR   0090H.2 A   
PIN_5823BK_MISO. . . . . . . . . . .  B ADDR   0080H.0 A   
PIN_5823BK_MOSI. . . . . . . . . . .  B ADDR   0080H.1 A   
PIN_5823BK_SCLK. . . . . . . . . . .  B ADDR   00C0H.2 A   
PIN_BELL_01. . . . . . . . . . . . .  B ADDR   0090H.5 A   
PIN_BELL_02. . . . . . . . . . . . .  B ADDR   0090H.5 A   
PIN_BK_CE. . . . . . . . . . . . . .  B ADDR   0090H.1 A   
PIN_CARD_EXIST . . . . . . . . . . .  B ADDR   00B0H.3 A   
PIN_ESAM_RST . . . . . . . . . . . .  B ADDR   0080H.5 A   
PIN_ESAM_RX. . . . . . . . . . . . .  B ADDR   0080H.3 A   
PIN_ESAM_TX. . . . . . . . . . . . .  B ADDR   0080H.3 A   
PIN_ES_RST . . . . . . . . . . . . .  B ADDR   00A0H.6 A   
PIN_GRE. . . . . . . . . . . . . . .  B ADDR   00C0H.4 A   
PIN_LCD_CS . . . . . . . . . . . . .  B ADDR   0090H.5 A   
PIN_LCD_DC . . . . . . . . . . . . .  B ADDR   0090H.5 A   
PIN_LCD_RST. . . . . . . . . . . . .  B ADDR   0090H.5 A   
PIN_LCD_SCL. . . . . . . . . . . . .  B ADDR   0090H.5 A   
PIN_LCD_SDA. . . . . . . . . . . . .  B ADDR   0090H.5 A   
PIN_OUTPUT_CLK . . . . . . . . . . .  B ADDR   00B0H.4 A   
PIN_PWRDWN . . . . . . . . . . . . .  B ADDR   00A0H.4 A   
PIN_PWRDWN_LCD . . . . . . . . . . .  B ADDR   0090H.5 A   
PIN_PWR_GSM. . . . . . . . . . . . .  B ADDR   00A0H.3 A   
PIN_PWR_LOWIO. . . . . . . . . . . .  B ADDR   0090H.5 A   
PIN_PWR_SE . . . . . . . . . . . . .  B ADDR   0090H.5 A   
PIN_RED. . . . . . . . . . . . . . .  B ADDR   00C0H.5 A   
PIN_SE_IO1 . . . . . . . . . . . . .  B ADDR   00B0H.4 A   
PIN_SOFTSERIALRX . . . . . . . . . .  B ADDR   00B0H.0 A   
PIN_SOFTSERIALTXH. . . . . . . . . .  B ADDR   00B0H.1 A   
PIN_SW . . . . . . . . . . . . . . .  B ADDR   0090H.5 A   
PIN_UART2_RX . . . . . . . . . . . .  B ADDR   0090H.6 A   
PIN_UART2_TX . . . . . . . . . . . .  B ADDR   0090H.7 A   
PIN_UNFIX. . . . . . . . . . . . . .  B ADDR   00B0H.5 A   
PIN_WAVE_CHANNEL1. . . . . . . . . .  B ADDR   0080H.2 A   
PIN_WAVE_RX. . . . . . . . . . . . .  B ADDR   0080H.2 A   
RB8. . . . . . . . . . . . . . . . .  B ADDR   0098H.2 A   
READ_BURST . . . . . . . . . . . . .  N NUMB   00C0H   A   
REG_51_AUXR1 . . . . . . . . . . . .  N NUMB   00A2H   A   
REG_5412AD_AUXR. . . . . . . . . . .  N NUMB   008EH   A   
REG_5412AD_P0M0. . . . . . . . . . .  N NUMB   0094H   A   
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    47

REG_5412AD_P0M1. . . . . . . . . . .  N NUMB   0093H   A   
REG_5412AD_P1M0. . . . . . . . . . .  N NUMB   0092H   A   
REG_5412AD_P1M1. . . . . . . . . . .  N NUMB   0091H   A   
REG_5412AD_P2M0. . . . . . . . . . .  N NUMB   0096H   A   
REG_5412AD_P2M1. . . . . . . . . . .  N NUMB   0095H   A   
REG_5412AD_P3M0. . . . . . . . . . .  N NUMB   00B2H   A   
REG_5412AD_P3M1. . . . . . . . . . .  N NUMB   00B1H   A   
REG_5412AD_P4M0. . . . . . . . . . .  N NUMB   00B4H   A   
REG_5412AD_P4M1. . . . . . . . . . .  N NUMB   00B3H   A   
REG_5412AD_P4SW. . . . . . . . . . .  N NUMB   00BBH   A   
REG_5412AD_SPCTL . . . . . . . . . .  N NUMB   0085H   A   
REG_5412AD_SPDAT . . . . . . . . . .  N NUMB   0086H   A   
REG_5412AD_SPSTAT. . . . . . . . . .  N NUMB   0084H   A   
REG_MCU_WKCTH. . . . . . . . . . . .  N NUMB   00ABH   A   
REG_MCU_WKCTL. . . . . . . . . . . .  N NUMB   00AAH   A   
REG_RC522_BITFRAMINGREG. . . . . . .  N NUMB   000DH   A   
REG_RC522_COLLREG. . . . . . . . . .  N NUMB   000EH   A   
REG_RC522_COMIENREG. . . . . . . . .  N NUMB   0002H   A   
REG_RC522_COMIRQREG. . . . . . . . .  N NUMB   0004H   A   
REG_RC522_COMMANDREG . . . . . . . .  N NUMB   0001H   A   
REG_RC522_CONTROLREG . . . . . . . .  N NUMB   000CH   A   
REG_RC522_CRCRESULTREGH. . . . . . .  N NUMB   0021H   A   
REG_RC522_CRCRESULTREGL. . . . . . .  N NUMB   0022H   A   
REG_RC522_CWGSPREG . . . . . . . . .  N NUMB   0028H   A   
REG_RC522_DEMODREG . . . . . . . . .  N NUMB   0019H   A   
REG_RC522_DIVIENREG. . . . . . . . .  N NUMB   0003H   A   
REG_RC522_DIVIRQREG. . . . . . . . .  N NUMB   0005H   A   
REG_RC522_ERRORREG . . . . . . . . .  N NUMB   0006H   A   
REG_RC522_FIFODATAREG. . . . . . . .  N NUMB   0009H   A   
REG_RC522_FIFOLEVELREG . . . . . . .  N NUMB   000AH   A   
REG_RC522_GSNREG . . . . . . . . . .  N NUMB   0027H   A   
REG_RC522_MIFAREREG. . . . . . . . .  N NUMB   001CH   A   
REG_RC522_MODEREG. . . . . . . . . .  N NUMB   0011H   A   
REG_RC522_MODGSPREG. . . . . . . . .  N NUMB   0029H   A   
REG_RC522_MODWIDTHREG. . . . . . . .  N NUMB   0024H   A   
REG_RC522_RC522PAGE. . . . . . . . .  N NUMB   0000H   A   
REG_RC522_RFCFGREG . . . . . . . . .  N NUMB   0026H   A   
REG_RC522_RFU. . . . . . . . . . . .  N NUMB   000FH   A   
REG_RC522_RXMODEREG. . . . . . . . .  N NUMB   0013H   A   
REG_RC522_RXSELREG . . . . . . . . .  N NUMB   0017H   A   
REG_RC522_RXTHRESHOLDREG . . . . . .  N NUMB   0018H   A   
REG_RC522_SERIALSPEEDREG . . . . . .  N NUMB   001FH   A   
REG_RC522_STATUS1REG . . . . . . . .  N NUMB   0007H   A   
REG_RC522_STATUS2REG . . . . . . . .  N NUMB   0008H   A   
REG_RC522_TCOUNTERVALUEREGH. . . . .  N NUMB   002EH   A   
REG_RC522_TCOUNTERVALUEREGL. . . . .  N NUMB   002FH   A   
REG_RC522_TMODEREG . . . . . . . . .  N NUMB   002AH   A   
REG_RC522_TPRESCALERREG. . . . . . .  N NUMB   002BH   A   
REG_RC522_TRELOADREGH. . . . . . . .  N NUMB   002CH   A   
REG_RC522_TRELOADREGL. . . . . . . .  N NUMB   002DH   A   
REG_RC522_TXAUTOREG. . . . . . . . .  N NUMB   0015H   A   
REG_RC522_TXCONTROLREG . . . . . . .  N NUMB   0014H   A   
REG_RC522_TXMODEREG. . . . . . . . .  N NUMB   0012H   A   
REG_RC522_TXSELREG . . . . . . . . .  N NUMB   0016H   A   
REG_RC522_WATERLEVELREG. . . . . . .  N NUMB   000BH   A   
REG_SYS_BRT. . . . . . . . . . . . .  N NUMB   009CH   A   
REG_WAKECLK0 . . . . . . . . . . . .  N NUMB   008FH   A   
REG_WAKECLK_04 . . . . . . . . . . .  B ADDR   00D8H.4 A   
REG_WAKECLK_05 . . . . . . . . . . .  B ADDR   00D8H.5 A   
REG_WAKE_CLK0. . . . . . . . . . . .  N NUMB   008FH   A   
REG_WDT_CONTR. . . . . . . . . . . .  N NUMB   00C1H   A   
RELOAD2_CONTR. . . . . . . . . . . .  N NUMB   00EAH   A   
REN. . . . . . . . . . . . . . . . .  B ADDR   0098H.4 A   
RI . . . . . . . . . . . . . . . . .  B ADDR   0098H.0 A   
S2BUF. . . . . . . . . . . . . . . .  N NUMB   009BH   A   
S2CON. . . . . . . . . . . . . . . .  N NUMB   009AH   A   
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    48

SBUF . . . . . . . . . . . . . . . .  D ADDR   0099H   A   
SCON . . . . . . . . . . . . . . . .  D ADDR   0098H   A   
SERIAL . . . . . . . . . . . . . . .  N NUMB   -----       
SERIAL_AUDIOTXBYTE_ESAMVERIFY. . . .  C ADDR   03F5H   R   SEG=?PR?SERIAL?MATER
SERIAL_AUDIOTXBYTE_LOOP. . . . . . .  C ADDR   03FDH   R   SEG=?PR?SERIAL?MATER
SERIAL_AUDIOTXSOFT_ESAMLOOP. . . . .  C ADDR   03C7H   R   SEG=?PR?SERIAL?MATER
SERIAL_AUDIOTXSOFT_OVER. . . . . . .  C ADDR   03E6H   R   SEG=?PR?SERIAL?MATER
SERIAL_BITSPACEFULL_12_OVER. . . . .  C ADDR   007FH   R   SEG=?PR?SERIAL?MATER
SERIAL_BITSPACEFULL_20_OVER. . . . .  C ADDR   009CH   R   SEG=?PR?SERIAL?MATER
SERIAL_BITSPACEFULL_28_OVER. . . . .  C ADDR   00B9H   R   SEG=?PR?SERIAL?MATER
SERIAL_BITSPACEFULL_8_OVER . . . . .  C ADDR   0062H   R   SEG=?PR?SERIAL?MATER
SERIAL_BITSPACEHALF_12_OVER. . . . .  C ADDR   0045H   R   SEG=?PR?SERIAL?MATER
SERIAL_ESAMAUDIOTXSOFTMOVOVER. . . .  C ADDR   03DBH   R   SEG=?PR?SERIAL?MATER
SERIAL_ESAMAUDIOTXSOFTMOVX . . . . .  C ADDR   03D2H   R   SEG=?PR?SERIAL?MATER
SERIAL_ESAMTXSOFTMOVOVER . . . . . .  C ADDR   011CH   R   SEG=?PR?SERIAL?MATER
SERIAL_ESAMTXSOFTMOVX. . . . . . . .  C ADDR   0113H   R   SEG=?PR?SERIAL?MATER
SERIAL_INIT_NINE . . . . . . . . . .  C ADDR   001EH   R   SEG=?PR?SERIAL?MATER
SERIAL_INIT_NINEOVER . . . . . . . .  C ADDR   0021H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_ACCEPTBYTE . . . . .  C ADDR   0533H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_ACCEPTBYTELOOP . . .  C ADDR   0537H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_BYTE . . . . . . . .  C ADDR   0526H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_OVER . . . . . . . .  C ADDR   058DH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_SEARCHSECONDLIMITE .  C ADDR   0518H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_SEARCHSTARTLIMITE. .  C ADDR   0509H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_SEARCHSTARTLIMITLESS  C ADDR   0523H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_SECONDBYTE . . . . .  C ADDR   0514H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_START. . . . . . . .  C ADDR   04F4H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_STARTOVERTIME. . . .  C ADDR   051FH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_STOP . . . . . . . .  C ADDR   0575H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_STOPER . . . . . . .  C ADDR   0587H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_STOPVERIFY . . . . .  C ADDR   0561H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_SUCCEED. . . . . . .  C ADDR   058BH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_VERIFY . . . . . . .  C ADDR   0554H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE02_VERIFYER . . . . . .  C ADDR   055DH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_ACCEPTBYTE . . . . . .  C ADDR   016DH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_ACCEPTBYTELOOP . . . .  C ADDR   0171H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_BYTE . . . . . . . . .  C ADDR   0160H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_OVER . . . . . . . . .  C ADDR   01C7H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_SEARCHSECONDLIMITE . .  C ADDR   0152H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_SEARCHSTARTLIMITE. . .  C ADDR   0143H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_SEARCHSTARTLIMITLESS .  C ADDR   015DH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_SECONDBYTE . . . . . .  C ADDR   014EH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_START. . . . . . . . .  C ADDR   012EH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_STARTOVERTIME. . . . .  C ADDR   0159H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_STOP . . . . . . . . .  C ADDR   01AFH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_STOPER . . . . . . . .  C ADDR   01C1H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_STOPVERIFY . . . . . .  C ADDR   019BH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_SUCCEED. . . . . . . .  C ADDR   01C5H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_VERIFY . . . . . . . .  C ADDR   018EH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXBYTE_VERIFYER . . . . . . .  C ADDR   0197H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD02_ALREADYRX. . . . . .  C ADDR   0397H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD02_CONTINUE . . . . . .  C ADDR   03B4H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD02_OVER . . . . . . . .  C ADDR   03B7H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD02_RXLOOP . . . . . . .  C ADDR   0354H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD02_SEARCHSTARTLIMITLESS  C ADDR   0389H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD02_SECONDBYTE . . . . .  C ADDR   037AH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD02_SERRI. . . . . . . .  C ADDR   036DH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD02_SESECONDRRI. . . . .  C ADDR   037EH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD02_SPACE. . . . . . . .  C ADDR   03A2H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD02_SPACEOVER. . . . . .  C ADDR   03ABH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD03_ALREADYRX. . . . . .  C ADDR   0456H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD03_CONTINUE . . . . . .  C ADDR   0472H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD03_OVER . . . . . . . .  C ADDR   0475H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD03_RXLOOP . . . . . . .  C ADDR   041FH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD03_SEARCHSTARTLIMITLESS  C ADDR   0451H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD03_SECONDBYTE . . . . .  C ADDR   0444H   R   SEG=?PR?SERIAL?MATER
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    49

SERIAL_RXHARD03_SERRI. . . . . . . .  C ADDR   0439H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD03_SESECONDRRI. . . . .  C ADDR   0448H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD03_SPACE. . . . . . . .  C ADDR   0460H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD03_SPACEOVER. . . . . .  C ADDR   0469H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD_ALREADYRX. . . . . . .  C ADDR   02F1H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD_CONTINUE . . . . . . .  C ADDR   030DH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD_OVER . . . . . . . . .  C ADDR   0310H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD_RXLOOP . . . . . . . .  C ADDR   02BBH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD_SEARCHSTARTLIMITLESS .  C ADDR   02ECH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD_SECONDBYTE . . . . . .  C ADDR   02DFH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD_SERRI. . . . . . . . .  C ADDR   02D4H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD_SESECONDRRI. . . . . .  C ADDR   02E3H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD_SPACE. . . . . . . . .  C ADDR   02FBH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHARD_SPACEOVER. . . . . . .  C ADDR   0304H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHBYTE_ALREADYRX . . . . . .  C ADDR   0337H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHBYTE_OVER. . . . . . . . .  C ADDR   0342H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXHBYTE_SERRI . . . . . . . .  C ADDR   032AH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFT02MOV . . . . . . . . .  C ADDR   04B8H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFT02MOVOVER . . . . . . .  C ADDR   04C4H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFT02MOVX. . . . . . . . .  C ADDR   04BBH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFT02_ACCEPTOVERLEN. . . .  C ADDR   04D0H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFT02_ADD. . . . . . . . .  C ADDR   04C4H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFT02_ADDCONTINUE. . . . .  C ADDR   04CDH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFT02_OVER . . . . . . . .  C ADDR   04DFH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFT02_STR. . . . . . . . .  C ADDR   0480H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFT02_STRLOOP. . . . . . .  C ADDR   0492H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFTMOV . . . . . . . . . .  C ADDR   0207H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFTMOVOVER . . . . . . . .  C ADDR   0213H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFTMOVX. . . . . . . . . .  C ADDR   020AH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFT_ACCEPTOVERLEN. . . . .  C ADDR   0220H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFT_ADD. . . . . . . . . .  C ADDR   0213H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFT_ADDCONTINUE. . . . . .  C ADDR   021DH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFT_OVER . . . . . . . . .  C ADDR   022FH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFT_STR. . . . . . . . . .  C ADDR   01CDH   R   SEG=?PR?SERIAL?MATER
SERIAL_RXSOFT_STRLOOP. . . . . . . .  C ADDR   01E1H   R   SEG=?PR?SERIAL?MATER
SERIAL_RXTXINTERRUPT_SENDDELAY . . .  C ADDR   0255H   R   SEG=?PR?SERIAL?MATER
SERIAL_TXBYTE_ESAMLOOP . . . . . . .  C ADDR   00F4H   R   SEG=?PR?SERIAL?MATER
SERIAL_TXBYTE_ESAMVERIFY . . . . . .  C ADDR   00ECH   R   SEG=?PR?SERIAL?MATER
SERIAL_TXBYTE_USERCARDLOOP . . . . .  C ADDR   00D0H   R   SEG=?PR?SERIAL?MATER
SERIAL_TXBYTE_USERCARDVERIFY . . . .  C ADDR   00C8H   R   SEG=?PR?SERIAL?MATER
SERIAL_TXHARD02_OVER . . . . . . . .  C ADDR   02A8H   R   SEG=?PR?SERIAL?MATER
SERIAL_TXHARD02_SENDDELAY. . . . . .  C ADDR   028CH   R   SEG=?PR?SERIAL?MATER
SERIAL_TXHARD02_SENDDELAY_NINE . . .  C ADDR   029DH   R   SEG=?PR?SERIAL?MATER
SERIAL_TXHARD02_SENDLOOP . . . . . .  C ADDR   0278H   R   SEG=?PR?SERIAL?MATER
SERIAL_TXHARD02_SPACE. . . . . . . .  C ADDR   0284H   R   SEG=?PR?SERIAL?MATER
SERIAL_TXHARD02_SPACEOVER. . . . . .  C ADDR   028AH   R   SEG=?PR?SERIAL?MATER
SERIAL_TXHARD02_TI . . . . . . . . .  C ADDR   02A1H   R   SEG=?PR?SERIAL?MATER
SERIAL_TXHARD_OVER . . . . . . . . .  C ADDR   026FH   R   SEG=?PR?SERIAL?MATER
SERIAL_TXHARD_SENDLOOP . . . . . . .  C ADDR   0242H   R   SEG=?PR?SERIAL?MATER
SERIAL_TXHARD_SPACE. . . . . . . . .  C ADDR   024DH   R   SEG=?PR?SERIAL?MATER
SERIAL_TXHARD_SPACEOVER. . . . . . .  C ADDR   0253H   R   SEG=?PR?SERIAL?MATER
SERIAL_TXHARD_TI . . . . . . . . . .  C ADDR   0262H   R   SEG=?PR?SERIAL?MATER
SERIAL_TXSOFT_ESAMLOOP . . . . . . .  C ADDR   0108H   R   SEG=?PR?SERIAL?MATER
SERIAL_TXSOFT_OVER . . . . . . . . .  C ADDR   0125H   R   SEG=?PR?SERIAL?MATER
TI . . . . . . . . . . . . . . . . .  B ADDR   0098H.1 A   
TI_CCXXX0_ADDR . . . . . . . . . . .  N NUMB   0009H   A   
TI_CCXXX0_AGCCTRL0 . . . . . . . . .  N NUMB   001DH   A   
TI_CCXXX0_AGCCTRL1 . . . . . . . . .  N NUMB   001CH   A   
TI_CCXXX0_AGCCTRL2 . . . . . . . . .  N NUMB   001BH   A   
TI_CCXXX0_AGCTEST. . . . . . . . . .  N NUMB   002BH   A   
TI_CCXXX0_BSCFG. . . . . . . . . . .  N NUMB   001AH   A   
TI_CCXXX0_CHANNR . . . . . . . . . .  N NUMB   000AH   A   
TI_CCXXX0_DEVIATN. . . . . . . . . .  N NUMB   0015H   A   
TI_CCXXX0_FIFOTHR. . . . . . . . . .  N NUMB   0003H   A   
TI_CCXXX0_FOCCFG . . . . . . . . . .  N NUMB   0019H   A   
TI_CCXXX0_FREND0 . . . . . . . . . .  N NUMB   0022H   A   
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    50

TI_CCXXX0_FREND1 . . . . . . . . . .  N NUMB   0021H   A   
TI_CCXXX0_FREQ0. . . . . . . . . . .  N NUMB   000FH   A   
TI_CCXXX0_FREQ1. . . . . . . . . . .  N NUMB   000EH   A   
TI_CCXXX0_FREQ2. . . . . . . . . . .  N NUMB   000DH   A   
TI_CCXXX0_FREQEST. . . . . . . . . .  N NUMB   0032H   A   
TI_CCXXX0_FSCAL0 . . . . . . . . . .  N NUMB   0026H   A   
TI_CCXXX0_FSCAL1 . . . . . . . . . .  N NUMB   0025H   A   
TI_CCXXX0_FSCAL2 . . . . . . . . . .  N NUMB   0024H   A   
TI_CCXXX0_FSCAL3 . . . . . . . . . .  N NUMB   0023H   A   
TI_CCXXX0_FSCTRL0. . . . . . . . . .  N NUMB   000CH   A   
TI_CCXXX0_FSCTRL1. . . . . . . . . .  N NUMB   000BH   A   
TI_CCXXX0_FSTEST . . . . . . . . . .  N NUMB   0029H   A   
TI_CCXXX0_IOCFG0 . . . . . . . . . .  N NUMB   0002H   A   
TI_CCXXX0_IOCFG1 . . . . . . . . . .  N NUMB   0001H   A   
TI_CCXXX0_IOCFG2 . . . . . . . . . .  N NUMB   0000H   A   
TI_CCXXX0_LQI. . . . . . . . . . . .  N NUMB   0033H   A   
TI_CCXXX0_MARCSTATE. . . . . . . . .  N NUMB   0035H   A   
TI_CCXXX0_MCSM0. . . . . . . . . . .  N NUMB   0018H   A   
TI_CCXXX0_MCSM1. . . . . . . . . . .  N NUMB   0017H   A   
TI_CCXXX0_MCSM2. . . . . . . . . . .  N NUMB   0016H   A   
TI_CCXXX0_MDMCFG0. . . . . . . . . .  N NUMB   0014H   A   
TI_CCXXX0_MDMCFG1. . . . . . . . . .  N NUMB   0013H   A   
TI_CCXXX0_MDMCFG2. . . . . . . . . .  N NUMB   0012H   A   
TI_CCXXX0_MDMCFG3. . . . . . . . . .  N NUMB   0011H   A   
TI_CCXXX0_MDMCFG4. . . . . . . . . .  N NUMB   0010H   A   
TI_CCXXX0_NUM_RXBYTES. . . . . . . .  N NUMB   007FH   A   
TI_CCXXX0_PARTNUM. . . . . . . . . .  N NUMB   0030H   A   
TI_CCXXX0_PATABLE. . . . . . . . . .  N NUMB   003EH   A   
TI_CCXXX0_PKTCTRL0 . . . . . . . . .  N NUMB   0008H   A   
TI_CCXXX0_PKTCTRL1 . . . . . . . . .  N NUMB   0007H   A   
TI_CCXXX0_PKTLEN . . . . . . . . . .  N NUMB   0006H   A   
TI_CCXXX0_PKTSTATUS. . . . . . . . .  N NUMB   0038H   A   
TI_CCXXX0_PTEST. . . . . . . . . . .  N NUMB   002AH   A   
TI_CCXXX0_RCCTRL0. . . . . . . . . .  N NUMB   0028H   A   
TI_CCXXX0_RCCTRL1. . . . . . . . . .  N NUMB   0027H   A   
TI_CCXXX0_RSSI . . . . . . . . . . .  N NUMB   0034H   A   
TI_CCXXX0_RXBYTES. . . . . . . . . .  N NUMB   003BH   A   
TI_CCXXX0_RXFIFO . . . . . . . . . .  N NUMB   003FH   A   
TI_CCXXX0_SAFC . . . . . . . . . . .  N NUMB   0037H   A   
TI_CCXXX0_SCAL . . . . . . . . . . .  N NUMB   0033H   A   
TI_CCXXX0_SFRX . . . . . . . . . . .  N NUMB   003AH   A   
TI_CCXXX0_SFTX . . . . . . . . . . .  N NUMB   003BH   A   
TI_CCXXX0_SIDLE. . . . . . . . . . .  N NUMB   0036H   A   
TI_CCXXX0_SNOP . . . . . . . . . . .  N NUMB   003DH   A   
TI_CCXXX0_SPWD . . . . . . . . . . .  N NUMB   0039H   A   
TI_CCXXX0_SRES . . . . . . . . . . .  N NUMB   0030H   A   
TI_CCXXX0_SRX. . . . . . . . . . . .  N NUMB   0034H   A   
TI_CCXXX0_STX. . . . . . . . . . . .  N NUMB   0035H   A   
TI_CCXXX0_SWOR . . . . . . . . . . .  N NUMB   0038H   A   
TI_CCXXX0_SWORRST. . . . . . . . . .  N NUMB   003CH   A   
TI_CCXXX0_SXOFF. . . . . . . . . . .  N NUMB   0032H   A   
TI_CCXXX0_SYNC0. . . . . . . . . . .  N NUMB   0005H   A   
TI_CCXXX0_SYNC1. . . . . . . . . . .  N NUMB   0004H   A   
TI_CCXXX0_TEST0. . . . . . . . . . .  N NUMB   002EH   A   
TI_CCXXX0_TEST1. . . . . . . . . . .  N NUMB   002DH   A   
TI_CCXXX0_TEST2. . . . . . . . . . .  N NUMB   002CH   A   
TI_CCXXX0_TXBYTES. . . . . . . . . .  N NUMB   003AH   A   
TI_CCXXX0_TXFIFO . . . . . . . . . .  N NUMB   003FH   A   
TI_CCXXX0_VCO_VC_DAC . . . . . . . .  N NUMB   0039H   A   
TI_CCXXX0_VERSION. . . . . . . . . .  N NUMB   0031H   A   
TI_CCXXX0_WORCTRL. . . . . . . . . .  N NUMB   0020H   A   
TI_CCXXX0_WOREVT0. . . . . . . . . .  N NUMB   001FH   A   
TI_CCXXX0_WOREVT1. . . . . . . . . .  N NUMB   001EH   A   
TI_CCXXX0_WORTIME0 . . . . . . . . .  N NUMB   0037H   A   
TI_CCXXX0_WORTIME1 . . . . . . . . .  N NUMB   0036H   A   
TMOD . . . . . . . . . . . . . . . .  D ADDR   0089H   A   
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    51

TR0. . . . . . . . . . . . . . . . .  B ADDR   0088H.4 A   
TXHARD_SENDLOOP_NINE . . . . . . . .  C ADDR   025EH   R   SEG=?PR?SERIAL?MATER
WAKE_CLKO. . . . . . . . . . . . . .  N NUMB   008FH   A   
WKO_BK . . . . . . . . . . . . . . .  B ADDR   00B0H.2 A   
XDATA_SOFTFIRSTSCANTIME. . . . . . .  X ADDR   -----       EXT
XDATA_SOFTSERIALP. . . . . . . . . .  X ADDR   -----       EXT
XDATA_TXBUF. . . . . . . . . . . . .  X ADDR   -----       EXT
_FUN_LIB_DELAY10 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY107. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY108. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY109. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY11 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY110. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY111. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY112. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY113. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY114. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY115. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY116. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY117. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY118. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY119. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY12 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY120. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY121. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY122. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY123. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY124. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY125. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY126. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY127. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY13 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY14 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY15 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY16 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY17 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY18 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY19 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY190. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY197. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY199. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY20 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY205. . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY21 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY22 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY23 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY24 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY25 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY2550 . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY26 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY27 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY28 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY29 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY30 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY31 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY32 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY33 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY34 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY35 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY36 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY37 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY38 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY39 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY40 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY41 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY42 . . . . . . . . . .  C ADDR   -----       EXT
A51 MACRO ASSEMBLER  SERIAL                                                               10/09/2016 12:08:01 PAGE    52

_FUN_LIB_DELAY43 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY44 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY45 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY46 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY47 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY48 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY49 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY50 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY51 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY52 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY53 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY54 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY55 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY56 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY57 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY58 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY59 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY60 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY61 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY62 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY63 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY64 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY65 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAY66 . . . . . . . . . .  C ADDR   -----       EXT
_FUN_LIB_DELAYSIMPLAY. . . . . . . .  C ADDR   -----       EXT
_FUN_SERIAL_AUDIOTXBYTE. . . . . . .  C ADDR   03E7H   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_AUDIOTXSOFT. . . . . . .  C ADDR   03C4H   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_BITSPACEFULL_12. . . . .  C ADDR   0063H   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_BITSPACEFULL_20. . . . .  C ADDR   0080H   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_BITSPACEFULL_28. . . . .  C ADDR   009DH   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_BITSPACEFULL_8 . . . . .  C ADDR   0046H   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_BITSPACEHALF_12. . . . .  C ADDR   0029H   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_ESAMTXBYTE . . . . . . .  C ADDR   00DDH   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_INIT . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_RXHARD . . . . . . . . .  C ADDR   02ACH   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_RXHARD02 . . . . . . . .  C ADDR   0343H   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_RXHARD03 . . . . . . . .  C ADDR   0410H   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_RXHBYTE. . . . . . . . .  C ADDR   0319H   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_RXSBYTE. . . . . . . . .  C ADDR   0126H   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_RXSBYTE02. . . . . . . .  C ADDR   04ECH   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_RXSOFT . . . . . . . . .  C ADDR   01C9H   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_RXSOFTRST. . . . . . . .  C ADDR   047EH   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_RXTXINTERRUPT. . . . . .  C ADDR   023CH   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_TXHARD . . . . . . . . .  C ADDR   023DH   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_TXHARD02 . . . . . . . .  C ADDR   0272H   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_TXSOFT . . . . . . . . .  C ADDR   0105H   R   SEG=?PR?SERIAL?MATER
_FUN_SERIAL_USERCARDTXBYTE . . . . .  C ADDR   00BAH   R   SEG=?PR?SERIAL?MATER
_FUN_TESTSERIAL_RXHARD . . . . . . .  C ADDR   03C2H   R   SEG=?PR?SERIAL?MATER
_FUN_TEST_BEEP . . . . . . . . . . .  C ADDR   -----       EXT
_FUN_TEST_DISPLAY. . . . . . . . . .  C ADDR   -----       EXT


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
